(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function MT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var ef={exports:{}},Sa={},tf={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function FT(){if(kg)return Ie;kg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,Y={};function z(N,B,le){this.props=N,this.context=B,this.refs=Y,this.updater=le||U}z.prototype.isReactComponent={},z.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function ge(){}ge.prototype=z.prototype;function se(N,B,le){this.props=N,this.context=B,this.refs=Y,this.updater=le||U}var oe=se.prototype=new ge;oe.constructor=se,Q(oe,z.prototype),oe.isPureReactComponent=!0;var me=Array.isArray,ke=Object.prototype.hasOwnProperty,G={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function T(N,B,le){var Ee,Te={},Re=null,be=null;if(B!=null)for(Ee in B.ref!==void 0&&(be=B.ref),B.key!==void 0&&(Re=""+B.key),B)ke.call(B,Ee)&&!R.hasOwnProperty(Ee)&&(Te[Ee]=B[Ee]);var Le=arguments.length-2;if(Le===1)Te.children=le;else if(1<Le){for(var ze=Array(Le),_t=0;_t<Le;_t++)ze[_t]=arguments[_t+2];Te.children=ze}if(N&&N.defaultProps)for(Ee in Le=N.defaultProps,Le)Te[Ee]===void 0&&(Te[Ee]=Le[Ee]);return{$$typeof:r,type:N,key:Re,ref:be,props:Te,_owner:G.current}}function C(N,B){return{$$typeof:r,type:N.type,key:B,ref:N.ref,props:N.props,_owner:N._owner}}function V(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(le){return B[le]})}var b=/\/+/g;function A(N,B){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):B.toString(36)}function nt(N,B,le,Ee,Te){var Re=typeof N;(Re==="undefined"||Re==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(Re){case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case r:case e:be=!0}}if(be)return be=N,Te=Te(be),N=Ee===""?"."+A(be,0):Ee,me(Te)?(le="",N!=null&&(le=N.replace(b,"$&/")+"/"),nt(Te,B,le,"",function(_t){return _t})):Te!=null&&(V(Te)&&(Te=C(Te,le+(!Te.key||be&&be.key===Te.key?"":(""+Te.key).replace(b,"$&/")+"/")+N)),B.push(Te)),1;if(be=0,Ee=Ee===""?".":Ee+":",me(N))for(var Le=0;Le<N.length;Le++){Re=N[Le];var ze=Ee+A(Re,Le);be+=nt(Re,B,le,ze,Te)}else if(ze=D(N),typeof ze=="function")for(N=ze.call(N),Le=0;!(Re=N.next()).done;)Re=Re.value,ze=Ee+A(Re,Le++),be+=nt(Re,B,le,ze,Te);else if(Re==="object")throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return be}function Dt(N,B,le){if(N==null)return N;var Ee=[],Te=0;return nt(N,Ee,"","",function(Re){return B.call(le,Re,Te++)}),Ee}function Nt(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(le){(N._status===0||N._status===-1)&&(N._status=1,N._result=le)},function(le){(N._status===0||N._status===-1)&&(N._status=2,N._result=le)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var Fe={current:null},Z={transition:null},ce={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Z,ReactCurrentOwner:G};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Dt,forEach:function(N,B,le){Dt(N,function(){B.apply(this,arguments)},le)},count:function(N){var B=0;return Dt(N,function(){B++}),B},toArray:function(N){return Dt(N,function(B){return B})||[]},only:function(N){if(!V(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ie.Component=z,Ie.Fragment=t,Ie.Profiler=a,Ie.PureComponent=se,Ie.StrictMode=s,Ie.Suspense=g,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ie.act=te,Ie.cloneElement=function(N,B,le){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var Ee=Q({},N.props),Te=N.key,Re=N.ref,be=N._owner;if(B!=null){if(B.ref!==void 0&&(Re=B.ref,be=G.current),B.key!==void 0&&(Te=""+B.key),N.type&&N.type.defaultProps)var Le=N.type.defaultProps;for(ze in B)ke.call(B,ze)&&!R.hasOwnProperty(ze)&&(Ee[ze]=B[ze]===void 0&&Le!==void 0?Le[ze]:B[ze])}var ze=arguments.length-2;if(ze===1)Ee.children=le;else if(1<ze){Le=Array(ze);for(var _t=0;_t<ze;_t++)Le[_t]=arguments[_t+2];Ee.children=Le}return{$$typeof:r,type:N.type,key:Te,ref:Re,props:Ee,_owner:be}},Ie.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:l,_context:N},N.Consumer=N},Ie.createElement=T,Ie.createFactory=function(N){var B=T.bind(null,N);return B.type=N,B},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(N){return{$$typeof:m,render:N}},Ie.isValidElement=V,Ie.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:Nt}},Ie.memo=function(N,B){return{$$typeof:_,type:N,compare:B===void 0?null:B}},Ie.startTransition=function(N){var B=Z.transition;Z.transition={};try{N()}finally{Z.transition=B}},Ie.unstable_act=te,Ie.useCallback=function(N,B){return Fe.current.useCallback(N,B)},Ie.useContext=function(N){return Fe.current.useContext(N)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(N){return Fe.current.useDeferredValue(N)},Ie.useEffect=function(N,B){return Fe.current.useEffect(N,B)},Ie.useId=function(){return Fe.current.useId()},Ie.useImperativeHandle=function(N,B,le){return Fe.current.useImperativeHandle(N,B,le)},Ie.useInsertionEffect=function(N,B){return Fe.current.useInsertionEffect(N,B)},Ie.useLayoutEffect=function(N,B){return Fe.current.useLayoutEffect(N,B)},Ie.useMemo=function(N,B){return Fe.current.useMemo(N,B)},Ie.useReducer=function(N,B,le){return Fe.current.useReducer(N,B,le)},Ie.useRef=function(N){return Fe.current.useRef(N)},Ie.useState=function(N){return Fe.current.useState(N)},Ie.useSyncExternalStore=function(N,B,le){return Fe.current.useSyncExternalStore(N,B,le)},Ie.useTransition=function(){return Fe.current.useTransition()},Ie.version="18.3.1",Ie}var Rg;function ld(){return Rg||(Rg=1,tf.exports=FT()),tf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg;function UT(){if(Pg)return Sa;Pg=1;var r=ld(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var E,S={},D=null,U=null;_!==void 0&&(D=""+_),g.key!==void 0&&(D=""+g.key),g.ref!==void 0&&(U=g.ref);for(E in g)s.call(g,E)&&!l.hasOwnProperty(E)&&(S[E]=g[E]);if(m&&m.defaultProps)for(E in g=m.defaultProps,g)S[E]===void 0&&(S[E]=g[E]);return{$$typeof:e,type:m,key:D,ref:U,props:S,_owner:a.current}}return Sa.Fragment=t,Sa.jsx=h,Sa.jsxs=h,Sa}var Vg;function jT(){return Vg||(Vg=1,ef.exports=UT()),ef.exports}var Ji=jT(),Tf=ld();const zT=MT(Tf);var wl={},nf={exports:{}},en={},rf={exports:{}},sf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function $T(){return xg||(xg=1,function(r){function e(Z,ce){var te=Z.length;Z.push(ce);e:for(;0<te;){var N=te-1>>>1,B=Z[N];if(0<a(B,ce))Z[N]=ce,Z[te]=B,te=N;else break e}}function t(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ce=Z[0],te=Z.pop();if(te!==ce){Z[0]=te;e:for(var N=0,B=Z.length,le=B>>>1;N<le;){var Ee=2*(N+1)-1,Te=Z[Ee],Re=Ee+1,be=Z[Re];if(0>a(Te,te))Re<B&&0>a(be,Te)?(Z[N]=be,Z[Re]=te,N=Re):(Z[N]=Te,Z[Ee]=te,N=Ee);else if(Re<B&&0>a(be,te))Z[N]=be,Z[Re]=te,N=Re;else break e}}return ce}function a(Z,ce){var te=Z.sortIndex-ce.sortIndex;return te!==0?te:Z.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var g=[],_=[],E=1,S=null,D=3,U=!1,Q=!1,Y=!1,z=typeof setTimeout=="function"?setTimeout:null,ge=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(Z){for(var ce=t(_);ce!==null;){if(ce.callback===null)s(_);else if(ce.startTime<=Z)s(_),ce.sortIndex=ce.expirationTime,e(g,ce);else break;ce=t(_)}}function me(Z){if(Y=!1,oe(Z),!Q)if(t(g)!==null)Q=!0,Nt(ke);else{var ce=t(_);ce!==null&&Fe(me,ce.startTime-Z)}}function ke(Z,ce){Q=!1,Y&&(Y=!1,ge(T),T=-1),U=!0;var te=D;try{for(oe(ce),S=t(g);S!==null&&(!(S.expirationTime>ce)||Z&&!x());){var N=S.callback;if(typeof N=="function"){S.callback=null,D=S.priorityLevel;var B=N(S.expirationTime<=ce);ce=r.unstable_now(),typeof B=="function"?S.callback=B:S===t(g)&&s(g),oe(ce)}else s(g);S=t(g)}if(S!==null)var le=!0;else{var Ee=t(_);Ee!==null&&Fe(me,Ee.startTime-ce),le=!1}return le}finally{S=null,D=te,U=!1}}var G=!1,R=null,T=-1,C=5,V=-1;function x(){return!(r.unstable_now()-V<C)}function b(){if(R!==null){var Z=r.unstable_now();V=Z;var ce=!0;try{ce=R(!0,Z)}finally{ce?A():(G=!1,R=null)}}else G=!1}var A;if(typeof se=="function")A=function(){se(b)};else if(typeof MessageChannel<"u"){var nt=new MessageChannel,Dt=nt.port2;nt.port1.onmessage=b,A=function(){Dt.postMessage(null)}}else A=function(){z(b,0)};function Nt(Z){R=Z,G||(G=!0,A())}function Fe(Z,ce){T=z(function(){Z(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){Q||U||(Q=!0,Nt(ke))},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_getFirstCallbackNode=function(){return t(g)},r.unstable_next=function(Z){switch(D){case 1:case 2:case 3:var ce=3;break;default:ce=D}var te=D;D=ce;try{return Z()}finally{D=te}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,ce){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=D;D=Z;try{return ce()}finally{D=te}},r.unstable_scheduleCallback=function(Z,ce,te){var N=r.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?N+te:N):te=N,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,Z={id:E++,callback:ce,priorityLevel:Z,startTime:te,expirationTime:B,sortIndex:-1},te>N?(Z.sortIndex=te,e(_,Z),t(g)===null&&Z===t(_)&&(Y?(ge(T),T=-1):Y=!0,Fe(me,te-N))):(Z.sortIndex=B,e(g,Z),Q||U||(Q=!0,Nt(ke))),Z},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Z){var ce=D;return function(){var te=D;D=ce;try{return Z.apply(this,arguments)}finally{D=te}}}}(sf)),sf}var Dg;function BT(){return Dg||(Dg=1,rf.exports=$T()),rf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function qT(){if(Ng)return en;Ng=1;var r=ld(),e=BT();function t(n){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(n,i){h(n,i),h(n+"Capture",i)}function h(n,i){for(a[n]=i,n=0;n<i.length;n++)s.add(i[n])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,E={},S={};function D(n){return g.call(S,n)?!0:g.call(E,n)?!1:_.test(n)?S[n]=!0:(E[n]=!0,!1)}function U(n,i,o,c){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Q(n,i,o,c){if(i===null||typeof i>"u"||U(n,i,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function Y(n,i,o,c,f,p,v){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=n,this.type=i,this.sanitizeURL=p,this.removeEmptyString=v}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){z[n]=new Y(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var i=n[0];z[i]=new Y(i,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){z[n]=new Y(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){z[n]=new Y(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){z[n]=new Y(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){z[n]=new Y(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){z[n]=new Y(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){z[n]=new Y(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){z[n]=new Y(n,5,!1,n.toLowerCase(),null,!1,!1)});var ge=/[\-:]([a-z])/g;function se(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var i=n.replace(ge,se);z[i]=new Y(i,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var i=n.replace(ge,se);z[i]=new Y(i,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var i=n.replace(ge,se);z[i]=new Y(i,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){z[n]=new Y(n,1,!1,n.toLowerCase(),null,!1,!1)}),z.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){z[n]=new Y(n,1,!1,n.toLowerCase(),null,!0,!0)});function oe(n,i,o,c){var f=z.hasOwnProperty(i)?z[i]:null;(f!==null?f.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(Q(i,o,f,c)&&(o=null),c||f===null?D(i)&&(o===null?n.removeAttribute(i):n.setAttribute(i,""+o)):f.mustUseProperty?n[f.propertyName]=o===null?f.type===3?!1:"":o:(i=f.attributeName,c=f.attributeNamespace,o===null?n.removeAttribute(i):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,c?n.setAttributeNS(c,i,o):n.setAttribute(i,o))))}var me=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ke=Symbol.for("react.element"),G=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),x=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),Dt=Symbol.for("react.memo"),Nt=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=Z&&n[Z]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,N;function B(n){if(N===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||""}return`
`+N+n}var le=!1;function Ee(n,i){if(!n||le)return"";le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(F){var c=F}Reflect.construct(n,[],i)}else{try{i.call()}catch(F){c=F}n.call(i.prototype)}else{try{throw Error()}catch(F){c=F}n()}}catch(F){if(F&&c&&typeof F.stack=="string"){for(var f=F.stack.split(`
`),p=c.stack.split(`
`),v=f.length-1,I=p.length-1;1<=v&&0<=I&&f[v]!==p[I];)I--;for(;1<=v&&0<=I;v--,I--)if(f[v]!==p[I]){if(v!==1||I!==1)do if(v--,I--,0>I||f[v]!==p[I]){var k=`
`+f[v].replace(" at new "," at ");return n.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",n.displayName)),k}while(1<=v&&0<=I);break}}}finally{le=!1,Error.prepareStackTrace=o}return(n=n?n.displayName||n.name:"")?B(n):""}function Te(n){switch(n.tag){case 5:return B(n.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return n=Ee(n.type,!1),n;case 11:return n=Ee(n.type.render,!1),n;case 1:return n=Ee(n.type,!0),n;default:return""}}function Re(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case G:return"Portal";case C:return"Profiler";case T:return"StrictMode";case A:return"Suspense";case nt:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case x:return(n.displayName||"Context")+".Consumer";case V:return(n._context.displayName||"Context")+".Provider";case b:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Dt:return i=n.displayName||null,i!==null?i:Re(n.type)||"Memo";case Nt:i=n._payload,n=n._init;try{return Re(n(i))}catch{}}return null}function be(n){var i=n.type;switch(n.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=i.render,n=n.displayName||n.name||"",i.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Le(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ze(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function _t(n){var i=ze(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),c=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(v){c=""+v,p.call(this,v)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(v){c=""+v},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function fr(n){n._valueTracker||(n._valueTracker=_t(n))}function ls(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return n&&(c=ze(n)?n.checked?"true":"false":n.value),n=c,n!==o?(i.setValue(n),!0):!1}function Mr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ii(n,i){var o=i.checked;return te({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??n._wrapperState.initialChecked})}function cs(n,i){var o=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;o=Le(i.value!=null?i.value:o),n._wrapperState={initialChecked:c,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Vo(n,i){i=i.checked,i!=null&&oe(n,"checked",i,!1)}function xo(n,i){Vo(n,i);var o=Le(i.value),c=i.type;if(o!=null)c==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}i.hasOwnProperty("value")?hs(n,i.type,o):i.hasOwnProperty("defaultValue")&&hs(n,i.type,Le(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(n.defaultChecked=!!i.defaultChecked)}function su(n,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+n._wrapperState.initialValue,o||i===n.value||(n.value=i),n.defaultValue=i}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function hs(n,i,o){(i!=="number"||Mr(n.ownerDocument)!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}var dr=Array.isArray;function pr(n,i,o,c){if(n=n.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=i.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Le(o),i=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function Do(n,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return te({},i,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function fs(n,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(t(92));if(dr(o)){if(1<o.length)throw Error(t(93));o=o[0]}i=o}i==null&&(i=""),o=i}n._wrapperState={initialValue:Le(o)}}function ds(n,i){var o=Le(i.value),c=Le(i.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),i.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),c!=null&&(n.defaultValue=""+c)}function No(n){var i=n.textContent;i===n._wrapperState.initialValue&&i!==""&&i!==null&&(n.value=i)}function lt(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(n,i){return n==null||n==="http://www.w3.org/1999/xhtml"?lt(i):n==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var mr,bo=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,o,c,f){MSApp.execUnsafeLocalFunction(function(){return n(i,o,c,f)})}:n}(function(n,i){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=i;else{for(mr=mr||document.createElement("div"),mr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;i.firstChild;)n.appendChild(i.firstChild)}});function Fr(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ai=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(n){Ai.forEach(function(i){i=i+n.charAt(0).toUpperCase()+n.substring(1),Si[i]=Si[n]})});function Lo(n,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||Si.hasOwnProperty(n)&&Si[n]?(""+i).trim():i+"px"}function Oo(n,i){n=n.style;for(var o in i)if(i.hasOwnProperty(o)){var c=o.indexOf("--")===0,f=Lo(o,i[o],c);o==="float"&&(o="cssFloat"),c?n.setProperty(o,f):n[o]=f}}var Mo=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(n,i){if(i){if(Mo[n]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Uo(n,i){if(n.indexOf("-")===-1)return typeof i.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ci=null;function ps(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ms=null,pn=null,Qn=null;function gs(n){if(n=la(n)){if(typeof ms!="function")throw Error(t(280));var i=n.stateNode;i&&(i=Lu(i),ms(n.stateNode,n.type,i))}}function Gn(n){pn?Qn?Qn.push(n):Qn=[n]:pn=n}function jo(){if(pn){var n=pn,i=Qn;if(Qn=pn=null,gs(n),i)for(n=0;n<i.length;n++)gs(i[n])}}function ki(n,i){return n(i)}function zo(){}var gr=!1;function $o(n,i,o){if(gr)return n(i,o);gr=!0;try{return ki(n,i,o)}finally{gr=!1,(pn!==null||Qn!==null)&&(zo(),jo())}}function rt(n,i){var o=n.stateNode;if(o===null)return null;var c=Lu(o);if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(t(231,i,typeof o));return o}var ys=!1;if(m)try{var Rn={};Object.defineProperty(Rn,"passive",{get:function(){ys=!0}}),window.addEventListener("test",Rn,Rn),window.removeEventListener("test",Rn,Rn)}catch{ys=!1}function Ri(n,i,o,c,f,p,v,I,k){var F=Array.prototype.slice.call(arguments,3);try{i.apply(o,F)}catch(H){this.onError(H)}}var Pi=!1,_s=null,Pn=!1,Bo=null,Rc={onError:function(n){Pi=!0,_s=n}};function vs(n,i,o,c,f,p,v,I,k){Pi=!1,_s=null,Ri.apply(Rc,arguments)}function ou(n,i,o,c,f,p,v,I,k){if(vs.apply(this,arguments),Pi){if(Pi){var F=_s;Pi=!1,_s=null}else throw Error(t(198));Pn||(Pn=!0,Bo=F)}}function Vn(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function Vi(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function xn(n){if(Vn(n)!==n)throw Error(t(188))}function au(n){var i=n.alternate;if(!i){if(i=Vn(n),i===null)throw Error(t(188));return i!==n?null:n}for(var o=n,c=i;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return xn(f),n;if(p===c)return xn(f),i;p=p.sibling}throw Error(t(188))}if(o.return!==c.return)o=f,c=p;else{for(var v=!1,I=f.child;I;){if(I===o){v=!0,o=f,c=p;break}if(I===c){v=!0,c=f,o=p;break}I=I.sibling}if(!v){for(I=p.child;I;){if(I===o){v=!0,o=p,c=f;break}if(I===c){v=!0,c=p,o=f;break}I=I.sibling}if(!v)throw Error(t(189))}}if(o.alternate!==c)throw Error(t(190))}if(o.tag!==3)throw Error(t(188));return o.stateNode.current===o?n:i}function qo(n){return n=au(n),n!==null?ws(n):null}function ws(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var i=ws(n);if(i!==null)return i;n=n.sibling}return null}var Es=e.unstable_scheduleCallback,Ho=e.unstable_cancelCallback,uu=e.unstable_shouldYield,Pc=e.unstable_requestPaint,$e=e.unstable_now,lu=e.unstable_getCurrentPriorityLevel,xi=e.unstable_ImmediatePriority,Ur=e.unstable_UserBlockingPriority,mn=e.unstable_NormalPriority,Wo=e.unstable_LowPriority,cu=e.unstable_IdlePriority,Di=null,sn=null;function hu(n){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(Di,n,void 0,(n.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:du,Ko=Math.log,fu=Math.LN2;function du(n){return n>>>=0,n===0?32:31-(Ko(n)/fu|0)|0}var Ts=64,Is=4194304;function jr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Ni(n,i){var o=n.pendingLanes;if(o===0)return 0;var c=0,f=n.suspendedLanes,p=n.pingedLanes,v=o&268435455;if(v!==0){var I=v&~f;I!==0?c=jr(I):(p&=v,p!==0&&(c=jr(p)))}else v=o&~f,v!==0?c=jr(v):p!==0&&(c=jr(p));if(c===0)return 0;if(i!==0&&i!==c&&(i&f)===0&&(f=c&-c,p=i&-i,f>=p||f===16&&(p&4194240)!==0))return i;if((c&4)!==0&&(c|=o&16),i=n.entangledLanes,i!==0)for(n=n.entanglements,i&=c;0<i;)o=31-Bt(i),f=1<<o,c|=n[o],i&=~f;return c}function Vc(n,i){switch(n){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yr(n,i){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes;0<p;){var v=31-Bt(p),I=1<<v,k=f[v];k===-1?((I&o)===0||(I&c)!==0)&&(f[v]=Vc(I,i)):k<=i&&(n.expiredLanes|=I),p&=~I}}function on(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function bi(){var n=Ts;return Ts<<=1,(Ts&4194240)===0&&(Ts=64),n}function zr(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function $r(n,i,o){n.pendingLanes|=i,i!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,i=31-Bt(i),n[i]=o}function Ue(n,i){var o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<o;){var f=31-Bt(o),p=1<<f;i[f]=0,c[f]=-1,n[f]=-1,o&=~p}}function Br(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var c=31-Bt(o),f=1<<c;f&i|n[c]&i&&(n[c]|=i),o&=~f}}var Ae=0;function qr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var pu,Ss,mu,gu,yu,Qo=!1,Xn=[],At=null,Dn=null,Nn=null,Hr=new Map,gn=new Map,Yn=[],xc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _u(n,i){switch(n){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":Hr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":gn.delete(i.pointerId)}}function Kt(n,i,o,c,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},i!==null&&(i=la(i),i!==null&&Ss(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function Dc(n,i,o,c,f){switch(i){case"focusin":return At=Kt(At,n,i,o,c,f),!0;case"dragenter":return Dn=Kt(Dn,n,i,o,c,f),!0;case"mouseover":return Nn=Kt(Nn,n,i,o,c,f),!0;case"pointerover":var p=f.pointerId;return Hr.set(p,Kt(Hr.get(p)||null,n,i,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,gn.set(p,Kt(gn.get(p)||null,n,i,o,c,f)),!0}return!1}function vu(n){var i=Ui(n.target);if(i!==null){var o=Vn(i);if(o!==null){if(i=o.tag,i===13){if(i=Vi(o),i!==null){n.blockedOn=i,yu(n.priority,function(){mu(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _r(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=As(n.domEventName,n.eventSystemFlags,i[0],n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);Ci=c,o.target.dispatchEvent(c),Ci=null}else return i=la(o),i!==null&&Ss(i),n.blockedOn=o,!1;i.shift()}return!0}function Li(n,i,o){_r(n)&&o.delete(i)}function wu(){Qo=!1,At!==null&&_r(At)&&(At=null),Dn!==null&&_r(Dn)&&(Dn=null),Nn!==null&&_r(Nn)&&(Nn=null),Hr.forEach(Li),gn.forEach(Li)}function bn(n,i){n.blockedOn===i&&(n.blockedOn=null,Qo||(Qo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wu)))}function Ln(n){function i(f){return bn(f,n)}if(0<Xn.length){bn(Xn[0],n);for(var o=1;o<Xn.length;o++){var c=Xn[o];c.blockedOn===n&&(c.blockedOn=null)}}for(At!==null&&bn(At,n),Dn!==null&&bn(Dn,n),Nn!==null&&bn(Nn,n),Hr.forEach(i),gn.forEach(i),o=0;o<Yn.length;o++)c=Yn[o],c.blockedOn===n&&(c.blockedOn=null);for(;0<Yn.length&&(o=Yn[0],o.blockedOn===null);)vu(o),o.blockedOn===null&&Yn.shift()}var vr=me.ReactCurrentBatchConfig,Wr=!0;function Ke(n,i,o,c){var f=Ae,p=vr.transition;vr.transition=null;try{Ae=1,Go(n,i,o,c)}finally{Ae=f,vr.transition=p}}function Nc(n,i,o,c){var f=Ae,p=vr.transition;vr.transition=null;try{Ae=4,Go(n,i,o,c)}finally{Ae=f,vr.transition=p}}function Go(n,i,o,c){if(Wr){var f=As(n,i,o,c);if(f===null)qc(n,i,c,Oi,o),_u(n,c);else if(Dc(f,n,i,o,c))c.stopPropagation();else if(_u(n,c),i&4&&-1<xc.indexOf(n)){for(;f!==null;){var p=la(f);if(p!==null&&pu(p),p=As(n,i,o,c),p===null&&qc(n,i,c,Oi,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else qc(n,i,c,null,o)}}var Oi=null;function As(n,i,o,c){if(Oi=null,n=ps(c),n=Ui(n),n!==null)if(i=Vn(n),i===null)n=null;else if(o=i.tag,o===13){if(n=Vi(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null);return Oi=n,null}function Xo(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lu()){case xi:return 1;case Ur:return 4;case mn:case Wo:return 16;case cu:return 536870912;default:return 16}default:return 16}}var an=null,Cs=null,Qt=null;function Yo(){if(Qt)return Qt;var n,i=Cs,o=i.length,c,f="value"in an?an.value:an.textContent,p=f.length;for(n=0;n<o&&i[n]===f[n];n++);var v=o-n;for(c=1;c<=v&&i[o-c]===f[p-c];c++);return Qt=f.slice(n,1<c?1-c:void 0)}function ks(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Jn(){return!0}function Jo(){return!1}function Ct(n){function i(o,c,f,p,v){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(o=n[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Jn:Jo,this.isPropagationStopped=Jo,this}return te(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jn)},persist:function(){},isPersistent:Jn}),i}var On={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Ct(On),Zn=te({},On,{view:0,detail:0}),bc=Ct(Zn),Ps,wr,Kr,Mi=te({},Zn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Kr&&(Kr&&n.type==="mousemove"?(Ps=n.screenX-Kr.screenX,wr=n.screenY-Kr.screenY):wr=Ps=0,Kr=n),Ps)},movementY:function(n){return"movementY"in n?n.movementY:wr}}),Vs=Ct(Mi),Zo=te({},Mi,{dataTransfer:0}),Eu=Ct(Zo),xs=te({},Zn,{relatedTarget:0}),Ds=Ct(xs),Tu=te({},On,{animationName:0,elapsedTime:0,pseudoElement:0}),Er=Ct(Tu),Iu=te({},On,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Su=Ct(Iu),Au=te({},On,{data:0}),ea=Ct(Au),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ku(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Cu[n])?!!i[n]:!1}function er(){return ku}var u=te({},Zn,{key:function(n){if(n.key){var i=Ns[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=ks(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?ks(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ks(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),d=Ct(u),y=te({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Ct(y),L=te({},Zn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),j=Ct(L),J=te({},On,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=Ct(J),ht=te({},Mi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=Ct(ht),vt=[9,13,27,32],ot=m&&"CompositionEvent"in window,yn=null;m&&"documentMode"in document&&(yn=document.documentMode);var un=m&&"TextEvent"in window&&!yn,Fi=m&&(!ot||yn&&8<yn&&11>=yn),bs=" ",Ep=!1;function Tp(n,i){switch(n){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ls=!1;function bE(n,i){switch(n){case"compositionend":return Ip(i);case"keypress":return i.which!==32?null:(Ep=!0,bs);case"textInput":return n=i.data,n===bs&&Ep?null:n;default:return null}}function LE(n,i){if(Ls)return n==="compositionend"||!ot&&Tp(n,i)?(n=Yo(),Qt=Cs=an=null,Ls=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Fi&&i.locale!=="ko"?null:i.data;default:return null}}var OE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!OE[n.type]:i==="textarea"}function Ap(n,i,o,c){Gn(c),i=Du(i,"onChange"),0<i.length&&(o=new Rs("onChange","change",null,o,c),n.push({event:o,listeners:i}))}var ta=null,na=null;function ME(n){Bp(n,0)}function Ru(n){var i=js(n);if(ls(i))return n}function FE(n,i){if(n==="change")return i}var Cp=!1;if(m){var Lc;if(m){var Oc="oninput"in document;if(!Oc){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),Oc=typeof kp.oninput=="function"}Lc=Oc}else Lc=!1;Cp=Lc&&(!document.documentMode||9<document.documentMode)}function Rp(){ta&&(ta.detachEvent("onpropertychange",Pp),na=ta=null)}function Pp(n){if(n.propertyName==="value"&&Ru(na)){var i=[];Ap(i,na,n,ps(n)),$o(ME,i)}}function UE(n,i,o){n==="focusin"?(Rp(),ta=i,na=o,ta.attachEvent("onpropertychange",Pp)):n==="focusout"&&Rp()}function jE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ru(na)}function zE(n,i){if(n==="click")return Ru(i)}function $E(n,i){if(n==="input"||n==="change")return Ru(i)}function BE(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Mn=typeof Object.is=="function"?Object.is:BE;function ra(n,i){if(Mn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!g.call(i,f)||!Mn(n[f],i[f]))return!1}return!0}function Vp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function xp(n,i){var o=Vp(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=i&&c>=i)return{node:o,offset:i-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Vp(o)}}function Dp(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Dp(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Np(){for(var n=window,i=Mr();i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Mr(n.document)}return i}function Mc(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function qE(n){var i=Np(),o=n.focusedElem,c=n.selectionRange;if(i!==o&&o&&o.ownerDocument&&Dp(o.ownerDocument.documentElement,o)){if(c!==null&&Mc(o)){if(i=c.start,n=c.end,n===void 0&&(n=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(n,o.value.length);else if(n=(i=o.ownerDocument||document)&&i.defaultView||window,n.getSelection){n=n.getSelection();var f=o.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!n.extend&&p>c&&(f=c,c=p,p=f),f=xp(o,p);var v=xp(o,c);f&&v&&(n.rangeCount!==1||n.anchorNode!==f.node||n.anchorOffset!==f.offset||n.focusNode!==v.node||n.focusOffset!==v.offset)&&(i=i.createRange(),i.setStart(f.node,f.offset),n.removeAllRanges(),p>c?(n.addRange(i),n.extend(v.node,v.offset)):(i.setEnd(v.node,v.offset),n.addRange(i)))}}for(i=[],n=o;n=n.parentNode;)n.nodeType===1&&i.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)n=i[o],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var HE=m&&"documentMode"in document&&11>=document.documentMode,Os=null,Fc=null,ia=null,Uc=!1;function bp(n,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uc||Os==null||Os!==Mr(c)||(c=Os,"selectionStart"in c&&Mc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ia&&ra(ia,c)||(ia=c,c=Du(Fc,"onSelect"),0<c.length&&(i=new Rs("onSelect","select",null,i,o),n.push({event:i,listeners:c}),i.target=Os)))}function Pu(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var Ms={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},jc={},Lp={};m&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Vu(n){if(jc[n])return jc[n];if(!Ms[n])return n;var i=Ms[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Lp)return jc[n]=i[o];return n}var Op=Vu("animationend"),Mp=Vu("animationiteration"),Fp=Vu("animationstart"),Up=Vu("transitionend"),jp=new Map,zp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(n,i){jp.set(n,i),l(i,[n])}for(var zc=0;zc<zp.length;zc++){var $c=zp[zc],WE=$c.toLowerCase(),KE=$c[0].toUpperCase()+$c.slice(1);Qr(WE,"on"+KE)}Qr(Op,"onAnimationEnd"),Qr(Mp,"onAnimationIteration"),Qr(Fp,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Up,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QE=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function $p(n,i,o){var c=n.type||"unknown-event";n.currentTarget=o,ou(c,i,void 0,n),n.currentTarget=null}function Bp(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;e:{var p=void 0;if(i)for(var v=c.length-1;0<=v;v--){var I=c[v],k=I.instance,F=I.currentTarget;if(I=I.listener,k!==p&&f.isPropagationStopped())break e;$p(f,I,F),p=k}else for(v=0;v<c.length;v++){if(I=c[v],k=I.instance,F=I.currentTarget,I=I.listener,k!==p&&f.isPropagationStopped())break e;$p(f,I,F),p=k}}}if(Pn)throw n=Bo,Pn=!1,Bo=null,n}function He(n,i){var o=i[Xc];o===void 0&&(o=i[Xc]=new Set);var c=n+"__bubble";o.has(c)||(qp(i,n,2,!1),o.add(c))}function Bc(n,i,o){var c=0;i&&(c|=4),qp(o,n,c,i)}var xu="_reactListening"+Math.random().toString(36).slice(2);function oa(n){if(!n[xu]){n[xu]=!0,s.forEach(function(o){o!=="selectionchange"&&(QE.has(o)||Bc(o,!1,n),Bc(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[xu]||(i[xu]=!0,Bc("selectionchange",!1,i))}}function qp(n,i,o,c){switch(Xo(i)){case 1:var f=Ke;break;case 4:f=Nc;break;default:f=Go}o=f.bind(null,i,o,n),f=void 0,!ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(i,o,{capture:!0,passive:f}):n.addEventListener(i,o,!0):f!==void 0?n.addEventListener(i,o,{passive:f}):n.addEventListener(i,o,!1)}function qc(n,i,o,c,f){var p=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var v=c.tag;if(v===3||v===4){var I=c.stateNode.containerInfo;if(I===f||I.nodeType===8&&I.parentNode===f)break;if(v===4)for(v=c.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;v=v.return}for(;I!==null;){if(v=Ui(I),v===null)return;if(k=v.tag,k===5||k===6){c=p=v;continue e}I=I.parentNode}}c=c.return}$o(function(){var F=p,H=ps(o),W=[];e:{var q=jp.get(n);if(q!==void 0){var ee=Rs,ie=n;switch(n){case"keypress":if(ks(o)===0)break e;case"keydown":case"keyup":ee=d;break;case"focusin":ie="focus",ee=Ds;break;case"focusout":ie="blur",ee=Ds;break;case"beforeblur":case"afterblur":ee=Ds;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Vs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=j;break;case Op:case Mp:case Fp:ee=Er;break;case Up:ee=Me;break;case"scroll":ee=bc;break;case"wheel":ee=Pe;break;case"copy":case"cut":case"paste":ee=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=w}var ae=(i&4)!==0,it=!ae&&n==="scroll",O=ae?q!==null?q+"Capture":null:q;ae=[];for(var P=F,M;P!==null;){M=P;var X=M.stateNode;if(M.tag===5&&X!==null&&(M=X,O!==null&&(X=rt(P,O),X!=null&&ae.push(aa(P,X,M)))),it)break;P=P.return}0<ae.length&&(q=new ee(q,ie,null,o,H),W.push({event:q,listeners:ae}))}}if((i&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",ee=n==="mouseout"||n==="pointerout",q&&o!==Ci&&(ie=o.relatedTarget||o.fromElement)&&(Ui(ie)||ie[Tr]))break e;if((ee||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,ee?(ie=o.relatedTarget||o.toElement,ee=F,ie=ie?Ui(ie):null,ie!==null&&(it=Vn(ie),ie!==it||ie.tag!==5&&ie.tag!==6)&&(ie=null)):(ee=null,ie=F),ee!==ie)){if(ae=Vs,X="onMouseLeave",O="onMouseEnter",P="mouse",(n==="pointerout"||n==="pointerover")&&(ae=w,X="onPointerLeave",O="onPointerEnter",P="pointer"),it=ee==null?q:js(ee),M=ie==null?q:js(ie),q=new ae(X,P+"leave",ee,o,H),q.target=it,q.relatedTarget=M,X=null,Ui(H)===F&&(ae=new ae(O,P+"enter",ie,o,H),ae.target=M,ae.relatedTarget=it,X=ae),it=X,ee&&ie)t:{for(ae=ee,O=ie,P=0,M=ae;M;M=Fs(M))P++;for(M=0,X=O;X;X=Fs(X))M++;for(;0<P-M;)ae=Fs(ae),P--;for(;0<M-P;)O=Fs(O),M--;for(;P--;){if(ae===O||O!==null&&ae===O.alternate)break t;ae=Fs(ae),O=Fs(O)}ae=null}else ae=null;ee!==null&&Hp(W,q,ee,ae,!1),ie!==null&&it!==null&&Hp(W,it,ie,ae,!0)}}e:{if(q=F?js(F):window,ee=q.nodeName&&q.nodeName.toLowerCase(),ee==="select"||ee==="input"&&q.type==="file")var ue=FE;else if(Sp(q))if(Cp)ue=$E;else{ue=jE;var he=UE}else(ee=q.nodeName)&&ee.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ue=zE);if(ue&&(ue=ue(n,F))){Ap(W,ue,o,H);break e}he&&he(n,q,F),n==="focusout"&&(he=q._wrapperState)&&he.controlled&&q.type==="number"&&hs(q,"number",q.value)}switch(he=F?js(F):window,n){case"focusin":(Sp(he)||he.contentEditable==="true")&&(Os=he,Fc=F,ia=null);break;case"focusout":ia=Fc=Os=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,bp(W,o,H);break;case"selectionchange":if(HE)break;case"keydown":case"keyup":bp(W,o,H)}var fe;if(ot)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Ls?Tp(n,o)&&(ye="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ye="onCompositionStart");ye&&(Fi&&o.locale!=="ko"&&(Ls||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Ls&&(fe=Yo()):(an=H,Cs="value"in an?an.value:an.textContent,Ls=!0)),he=Du(F,ye),0<he.length&&(ye=new ea(ye,n,null,o,H),W.push({event:ye,listeners:he}),fe?ye.data=fe:(fe=Ip(o),fe!==null&&(ye.data=fe)))),(fe=un?bE(n,o):LE(n,o))&&(F=Du(F,"onBeforeInput"),0<F.length&&(H=new ea("onBeforeInput","beforeinput",null,o,H),W.push({event:H,listeners:F}),H.data=fe))}Bp(W,i)})}function aa(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Du(n,i){for(var o=i+"Capture",c=[];n!==null;){var f=n,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=rt(n,o),p!=null&&c.unshift(aa(n,p,f)),p=rt(n,i),p!=null&&c.push(aa(n,p,f))),n=n.return}return c}function Fs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Hp(n,i,o,c,f){for(var p=i._reactName,v=[];o!==null&&o!==c;){var I=o,k=I.alternate,F=I.stateNode;if(k!==null&&k===c)break;I.tag===5&&F!==null&&(I=F,f?(k=rt(o,p),k!=null&&v.unshift(aa(o,k,I))):f||(k=rt(o,p),k!=null&&v.push(aa(o,k,I)))),o=o.return}v.length!==0&&n.push({event:i,listeners:v})}var GE=/\r\n?/g,XE=/\u0000|\uFFFD/g;function Wp(n){return(typeof n=="string"?n:""+n).replace(GE,`
`).replace(XE,"")}function Nu(n,i,o){if(i=Wp(i),Wp(n)!==i&&o)throw Error(t(425))}function bu(){}var Hc=null,Wc=null;function Kc(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qc=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(n){return Kp.resolve(null).then(n).catch(ZE)}:Qc;function ZE(n){setTimeout(function(){throw n})}function Gc(n,i){var o=i,c=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(c===0){n.removeChild(f),Ln(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=f}while(o);Ln(i)}function Gr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return n}function Qp(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}var Us=Math.random().toString(36).slice(2),tr="__reactFiber$"+Us,ua="__reactProps$"+Us,Tr="__reactContainer$"+Us,Xc="__reactEvents$"+Us,eT="__reactListeners$"+Us,tT="__reactHandles$"+Us;function Ui(n){var i=n[tr];if(i)return i;for(var o=n.parentNode;o;){if(i=o[Tr]||o[tr]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=Qp(n);n!==null;){if(o=n[tr])return o;n=Qp(n)}return i}n=o,o=n.parentNode}return null}function la(n){return n=n[tr]||n[Tr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function Lu(n){return n[ua]||null}var Yc=[],zs=-1;function Xr(n){return{current:n}}function We(n){0>zs||(n.current=Yc[zs],Yc[zs]=null,zs--)}function Be(n,i){zs++,Yc[zs]=n.current,n.current=i}var Yr={},bt=Xr(Yr),Gt=Xr(!1),ji=Yr;function $s(n,i){var o=n.type.contextTypes;if(!o)return Yr;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=i[p];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=f),f}function Xt(n){return n=n.childContextTypes,n!=null}function Ou(){We(Gt),We(bt)}function Gp(n,i,o){if(bt.current!==Yr)throw Error(t(168));Be(bt,i),Be(Gt,o)}function Xp(n,i,o){var c=n.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var f in c)if(!(f in i))throw Error(t(108,be(n)||"Unknown",f));return te({},o,c)}function Mu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yr,ji=bt.current,Be(bt,n),Be(Gt,Gt.current),!0}function Yp(n,i,o){var c=n.stateNode;if(!c)throw Error(t(169));o?(n=Xp(n,i,ji),c.__reactInternalMemoizedMergedChildContext=n,We(Gt),We(bt),Be(bt,n)):We(Gt),Be(Gt,o)}var Ir=null,Fu=!1,Jc=!1;function Jp(n){Ir===null?Ir=[n]:Ir.push(n)}function nT(n){Fu=!0,Jp(n)}function Jr(){if(!Jc&&Ir!==null){Jc=!0;var n=0,i=Ae;try{var o=Ir;for(Ae=1;n<o.length;n++){var c=o[n];do c=c(!0);while(c!==null)}Ir=null,Fu=!1}catch(f){throw Ir!==null&&(Ir=Ir.slice(n+1)),Es(xi,Jr),f}finally{Ae=i,Jc=!1}}return null}var Bs=[],qs=0,Uu=null,ju=0,_n=[],vn=0,zi=null,Sr=1,Ar="";function $i(n,i){Bs[qs++]=ju,Bs[qs++]=Uu,Uu=n,ju=i}function Zp(n,i,o){_n[vn++]=Sr,_n[vn++]=Ar,_n[vn++]=zi,zi=n;var c=Sr;n=Ar;var f=32-Bt(c)-1;c&=~(1<<f),o+=1;var p=32-Bt(i)+f;if(30<p){var v=f-f%5;p=(c&(1<<v)-1).toString(32),c>>=v,f-=v,Sr=1<<32-Bt(i)+f|o<<f|c,Ar=p+n}else Sr=1<<p|o<<f|c,Ar=n}function Zc(n){n.return!==null&&($i(n,1),Zp(n,1,0))}function eh(n){for(;n===Uu;)Uu=Bs[--qs],Bs[qs]=null,ju=Bs[--qs],Bs[qs]=null;for(;n===zi;)zi=_n[--vn],_n[vn]=null,Ar=_n[--vn],_n[vn]=null,Sr=_n[--vn],_n[vn]=null}var ln=null,cn=null,Qe=!1,Fn=null;function em(n,i){var o=In(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=n,i=n.deletions,i===null?(n.deletions=[o],n.flags|=16):i.push(o)}function tm(n,i){switch(n.tag){case 5:var o=n.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(n.stateNode=i,ln=n,cn=Gr(i.firstChild),!0):!1;case 6:return i=n.pendingProps===""||i.nodeType!==3?null:i,i!==null?(n.stateNode=i,ln=n,cn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=zi!==null?{id:Sr,overflow:Ar}:null,n.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=In(18,null,null,0),o.stateNode=i,o.return=n,n.child=o,ln=n,cn=null,!0):!1;default:return!1}}function th(n){return(n.mode&1)!==0&&(n.flags&128)===0}function nh(n){if(Qe){var i=cn;if(i){var o=i;if(!tm(n,i)){if(th(n))throw Error(t(418));i=Gr(o.nextSibling);var c=ln;i&&tm(n,i)?em(c,o):(n.flags=n.flags&-4097|2,Qe=!1,ln=n)}}else{if(th(n))throw Error(t(418));n.flags=n.flags&-4097|2,Qe=!1,ln=n}}}function nm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ln=n}function zu(n){if(n!==ln)return!1;if(!Qe)return nm(n),Qe=!0,!1;var i;if((i=n.tag!==3)&&!(i=n.tag!==5)&&(i=n.type,i=i!=="head"&&i!=="body"&&!Kc(n.type,n.memoizedProps)),i&&(i=cn)){if(th(n))throw rm(),Error(t(418));for(;i;)em(n,i),i=Gr(i.nextSibling)}if(nm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"){if(i===0){cn=Gr(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}n=n.nextSibling}cn=null}}else cn=ln?Gr(n.stateNode.nextSibling):null;return!0}function rm(){for(var n=cn;n;)n=Gr(n.nextSibling)}function Hs(){cn=ln=null,Qe=!1}function rh(n){Fn===null?Fn=[n]:Fn.push(n)}var rT=me.ReactCurrentBatchConfig;function ca(n,i,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(t(309));var c=o.stateNode}if(!c)throw Error(t(147,n));var f=c,p=""+n;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===p?i.ref:(i=function(v){var I=f.refs;v===null?delete I[p]:I[p]=v},i._stringRef=p,i)}if(typeof n!="string")throw Error(t(284));if(!o._owner)throw Error(t(290,n))}return n}function $u(n,i){throw n=Object.prototype.toString.call(i),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n))}function im(n){var i=n._init;return i(n._payload)}function sm(n){function i(O,P){if(n){var M=O.deletions;M===null?(O.deletions=[P],O.flags|=16):M.push(P)}}function o(O,P){if(!n)return null;for(;P!==null;)i(O,P),P=P.sibling;return null}function c(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function f(O,P){return O=oi(O,P),O.index=0,O.sibling=null,O}function p(O,P,M){return O.index=M,n?(M=O.alternate,M!==null?(M=M.index,M<P?(O.flags|=2,P):M):(O.flags|=2,P)):(O.flags|=1048576,P)}function v(O){return n&&O.alternate===null&&(O.flags|=2),O}function I(O,P,M,X){return P===null||P.tag!==6?(P=Qh(M,O.mode,X),P.return=O,P):(P=f(P,M),P.return=O,P)}function k(O,P,M,X){var ue=M.type;return ue===R?H(O,P,M.props.children,X,M.key):P!==null&&(P.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Nt&&im(ue)===P.type)?(X=f(P,M.props),X.ref=ca(O,P,M),X.return=O,X):(X=fl(M.type,M.key,M.props,null,O.mode,X),X.ref=ca(O,P,M),X.return=O,X)}function F(O,P,M,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=Gh(M,O.mode,X),P.return=O,P):(P=f(P,M.children||[]),P.return=O,P)}function H(O,P,M,X,ue){return P===null||P.tag!==7?(P=Xi(M,O.mode,X,ue),P.return=O,P):(P=f(P,M),P.return=O,P)}function W(O,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Qh(""+P,O.mode,M),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case ke:return M=fl(P.type,P.key,P.props,null,O.mode,M),M.ref=ca(O,null,P),M.return=O,M;case G:return P=Gh(P,O.mode,M),P.return=O,P;case Nt:var X=P._init;return W(O,X(P._payload),M)}if(dr(P)||ce(P))return P=Xi(P,O.mode,M,null),P.return=O,P;$u(O,P)}return null}function q(O,P,M,X){var ue=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ue!==null?null:I(O,P,""+M,X);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case ke:return M.key===ue?k(O,P,M,X):null;case G:return M.key===ue?F(O,P,M,X):null;case Nt:return ue=M._init,q(O,P,ue(M._payload),X)}if(dr(M)||ce(M))return ue!==null?null:H(O,P,M,X,null);$u(O,M)}return null}function ee(O,P,M,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(M)||null,I(P,O,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case ke:return O=O.get(X.key===null?M:X.key)||null,k(P,O,X,ue);case G:return O=O.get(X.key===null?M:X.key)||null,F(P,O,X,ue);case Nt:var he=X._init;return ee(O,P,M,he(X._payload),ue)}if(dr(X)||ce(X))return O=O.get(M)||null,H(P,O,X,ue,null);$u(P,X)}return null}function ie(O,P,M,X){for(var ue=null,he=null,fe=P,ye=P=0,Tt=null;fe!==null&&ye<M.length;ye++){fe.index>ye?(Tt=fe,fe=null):Tt=fe.sibling;var Ne=q(O,fe,M[ye],X);if(Ne===null){fe===null&&(fe=Tt);break}n&&fe&&Ne.alternate===null&&i(O,fe),P=p(Ne,P,ye),he===null?ue=Ne:he.sibling=Ne,he=Ne,fe=Tt}if(ye===M.length)return o(O,fe),Qe&&$i(O,ye),ue;if(fe===null){for(;ye<M.length;ye++)fe=W(O,M[ye],X),fe!==null&&(P=p(fe,P,ye),he===null?ue=fe:he.sibling=fe,he=fe);return Qe&&$i(O,ye),ue}for(fe=c(O,fe);ye<M.length;ye++)Tt=ee(fe,O,ye,M[ye],X),Tt!==null&&(n&&Tt.alternate!==null&&fe.delete(Tt.key===null?ye:Tt.key),P=p(Tt,P,ye),he===null?ue=Tt:he.sibling=Tt,he=Tt);return n&&fe.forEach(function(ai){return i(O,ai)}),Qe&&$i(O,ye),ue}function ae(O,P,M,X){var ue=ce(M);if(typeof ue!="function")throw Error(t(150));if(M=ue.call(M),M==null)throw Error(t(151));for(var he=ue=null,fe=P,ye=P=0,Tt=null,Ne=M.next();fe!==null&&!Ne.done;ye++,Ne=M.next()){fe.index>ye?(Tt=fe,fe=null):Tt=fe.sibling;var ai=q(O,fe,Ne.value,X);if(ai===null){fe===null&&(fe=Tt);break}n&&fe&&ai.alternate===null&&i(O,fe),P=p(ai,P,ye),he===null?ue=ai:he.sibling=ai,he=ai,fe=Tt}if(Ne.done)return o(O,fe),Qe&&$i(O,ye),ue;if(fe===null){for(;!Ne.done;ye++,Ne=M.next())Ne=W(O,Ne.value,X),Ne!==null&&(P=p(Ne,P,ye),he===null?ue=Ne:he.sibling=Ne,he=Ne);return Qe&&$i(O,ye),ue}for(fe=c(O,fe);!Ne.done;ye++,Ne=M.next())Ne=ee(fe,O,ye,Ne.value,X),Ne!==null&&(n&&Ne.alternate!==null&&fe.delete(Ne.key===null?ye:Ne.key),P=p(Ne,P,ye),he===null?ue=Ne:he.sibling=Ne,he=Ne);return n&&fe.forEach(function(OT){return i(O,OT)}),Qe&&$i(O,ye),ue}function it(O,P,M,X){if(typeof M=="object"&&M!==null&&M.type===R&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case ke:e:{for(var ue=M.key,he=P;he!==null;){if(he.key===ue){if(ue=M.type,ue===R){if(he.tag===7){o(O,he.sibling),P=f(he,M.props.children),P.return=O,O=P;break e}}else if(he.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===Nt&&im(ue)===he.type){o(O,he.sibling),P=f(he,M.props),P.ref=ca(O,he,M),P.return=O,O=P;break e}o(O,he);break}else i(O,he);he=he.sibling}M.type===R?(P=Xi(M.props.children,O.mode,X,M.key),P.return=O,O=P):(X=fl(M.type,M.key,M.props,null,O.mode,X),X.ref=ca(O,P,M),X.return=O,O=X)}return v(O);case G:e:{for(he=M.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){o(O,P.sibling),P=f(P,M.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else i(O,P);P=P.sibling}P=Gh(M,O.mode,X),P.return=O,O=P}return v(O);case Nt:return he=M._init,it(O,P,he(M._payload),X)}if(dr(M))return ie(O,P,M,X);if(ce(M))return ae(O,P,M,X);$u(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(o(O,P.sibling),P=f(P,M),P.return=O,O=P):(o(O,P),P=Qh(M,O.mode,X),P.return=O,O=P),v(O)):o(O,P)}return it}var Ws=sm(!0),om=sm(!1),Bu=Xr(null),qu=null,Ks=null,ih=null;function sh(){ih=Ks=qu=null}function oh(n){var i=Bu.current;We(Bu),n._currentValue=i}function ah(n,i,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===o)break;n=n.return}}function Qs(n,i){qu=n,ih=Ks=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&i)!==0&&(Yt=!0),n.firstContext=null)}function wn(n){var i=n._currentValue;if(ih!==n)if(n={context:n,memoizedValue:i,next:null},Ks===null){if(qu===null)throw Error(t(308));Ks=n,qu.dependencies={lanes:0,firstContext:n}}else Ks=Ks.next=n;return i}var Bi=null;function uh(n){Bi===null?Bi=[n]:Bi.push(n)}function am(n,i,o,c){var f=i.interleaved;return f===null?(o.next=o,uh(i)):(o.next=f.next,f.next=o),i.interleaved=o,Cr(n,c)}function Cr(n,i){n.lanes|=i;var o=n.alternate;for(o!==null&&(o.lanes|=i),o=n,n=n.return;n!==null;)n.childLanes|=i,o=n.alternate,o!==null&&(o.childLanes|=i),o=n,n=n.return;return o.tag===3?o.stateNode:null}var Zr=!1;function lh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function um(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function kr(n,i){return{eventTime:n,lane:i,tag:0,payload:null,callback:null,next:null}}function ei(n,i,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(De&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,Cr(n,o)}return f=c.interleaved,f===null?(i.next=i,uh(c)):(i.next=f.next,f.next=i),c.interleaved=i,Cr(n,o)}function Hu(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Br(n,o)}}function lm(n,i){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?f=p=i:p=p.next=i}else f=p=i;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}function Wu(n,i,o,c){var f=n.updateQueue;Zr=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,I=f.shared.pending;if(I!==null){f.shared.pending=null;var k=I,F=k.next;k.next=null,v===null?p=F:v.next=F,v=k;var H=n.alternate;H!==null&&(H=H.updateQueue,I=H.lastBaseUpdate,I!==v&&(I===null?H.firstBaseUpdate=F:I.next=F,H.lastBaseUpdate=k))}if(p!==null){var W=f.baseState;v=0,H=F=k=null,I=p;do{var q=I.lane,ee=I.eventTime;if((c&q)===q){H!==null&&(H=H.next={eventTime:ee,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ie=n,ae=I;switch(q=i,ee=o,ae.tag){case 1:if(ie=ae.payload,typeof ie=="function"){W=ie.call(ee,W,q);break e}W=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ae.payload,q=typeof ie=="function"?ie.call(ee,W,q):ie,q==null)break e;W=te({},W,q);break e;case 2:Zr=!0}}I.callback!==null&&I.lane!==0&&(n.flags|=64,q=f.effects,q===null?f.effects=[I]:q.push(I))}else ee={eventTime:ee,lane:q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},H===null?(F=H=ee,k=W):H=H.next=ee,v|=q;if(I=I.next,I===null){if(I=f.shared.pending,I===null)break;q=I,I=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);if(H===null&&(k=W),f.baseState=k,f.firstBaseUpdate=F,f.lastBaseUpdate=H,i=f.shared.interleaved,i!==null){f=i;do v|=f.lane,f=f.next;while(f!==i)}else p===null&&(f.shared.lanes=0);Wi|=v,n.lanes=v,n.memoizedState=W}}function cm(n,i,o){if(n=i.effects,i.effects=null,n!==null)for(i=0;i<n.length;i++){var c=n[i],f=c.callback;if(f!==null){if(c.callback=null,c=o,typeof f!="function")throw Error(t(191,f));f.call(c)}}}var ha={},nr=Xr(ha),fa=Xr(ha),da=Xr(ha);function qi(n){if(n===ha)throw Error(t(174));return n}function ch(n,i){switch(Be(da,i),Be(fa,n),Be(nr,ha),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:ct(null,"");break;default:n=n===8?i.parentNode:i,i=n.namespaceURI||null,n=n.tagName,i=ct(i,n)}We(nr),Be(nr,i)}function Gs(){We(nr),We(fa),We(da)}function hm(n){qi(da.current);var i=qi(nr.current),o=ct(i,n.type);i!==o&&(Be(fa,n),Be(nr,o))}function hh(n){fa.current===n&&(We(nr),We(fa))}var Xe=Xr(0);function Ku(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fh=[];function dh(){for(var n=0;n<fh.length;n++)fh[n]._workInProgressVersionPrimary=null;fh.length=0}var Qu=me.ReactCurrentDispatcher,ph=me.ReactCurrentBatchConfig,Hi=0,Ye=null,ft=null,wt=null,Gu=!1,pa=!1,ma=0,iT=0;function Lt(){throw Error(t(321))}function mh(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!Mn(n[o],i[o]))return!1;return!0}function gh(n,i,o,c,f,p){if(Hi=p,Ye=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Qu.current=n===null||n.memoizedState===null?uT:lT,n=o(c,f),pa){p=0;do{if(pa=!1,ma=0,25<=p)throw Error(t(301));p+=1,wt=ft=null,i.updateQueue=null,Qu.current=cT,n=o(c,f)}while(pa)}if(Qu.current=Ju,i=ft!==null&&ft.next!==null,Hi=0,wt=ft=Ye=null,Gu=!1,i)throw Error(t(300));return n}function yh(){var n=ma!==0;return ma=0,n}function rr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Ye.memoizedState=wt=n:wt=wt.next=n,wt}function En(){if(ft===null){var n=Ye.alternate;n=n!==null?n.memoizedState:null}else n=ft.next;var i=wt===null?Ye.memoizedState:wt.next;if(i!==null)wt=i,ft=n;else{if(n===null)throw Error(t(310));ft=n,n={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?Ye.memoizedState=wt=n:wt=wt.next=n}return wt}function ga(n,i){return typeof i=="function"?i(n):i}function _h(n){var i=En(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=ft,f=c.baseQueue,p=o.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}c.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,c=c.baseState;var I=v=null,k=null,F=p;do{var H=F.lane;if((Hi&H)===H)k!==null&&(k=k.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),c=F.hasEagerState?F.eagerState:n(c,F.action);else{var W={lane:H,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};k===null?(I=k=W,v=c):k=k.next=W,Ye.lanes|=H,Wi|=H}F=F.next}while(F!==null&&F!==p);k===null?v=c:k.next=I,Mn(c,i.memoizedState)||(Yt=!0),i.memoizedState=c,i.baseState=v,i.baseQueue=k,o.lastRenderedState=c}if(n=o.interleaved,n!==null){f=n;do p=f.lane,Ye.lanes|=p,Wi|=p,f=f.next;while(f!==n)}else f===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function vh(n){var i=En(),o=i.queue;if(o===null)throw Error(t(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,p=i.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do p=n(p,v.action),v=v.next;while(v!==f);Mn(p,i.memoizedState)||(Yt=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),o.lastRenderedState=p}return[p,c]}function fm(){}function dm(n,i){var o=Ye,c=En(),f=i(),p=!Mn(c.memoizedState,f);if(p&&(c.memoizedState=f,Yt=!0),c=c.queue,wh(gm.bind(null,o,c,n),[n]),c.getSnapshot!==i||p||wt!==null&&wt.memoizedState.tag&1){if(o.flags|=2048,ya(9,mm.bind(null,o,c,f,i),void 0,null),Et===null)throw Error(t(349));(Hi&30)!==0||pm(o,i,f)}return f}function pm(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function mm(n,i,o,c){i.value=o,i.getSnapshot=c,ym(i)&&_m(n)}function gm(n,i,o){return o(function(){ym(i)&&_m(n)})}function ym(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!Mn(n,o)}catch{return!0}}function _m(n){var i=Cr(n,1);i!==null&&$n(i,n,1,-1)}function vm(n){var i=rr();return typeof n=="function"&&(n=n()),i.memoizedState=i.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:n},i.queue=n,n=n.dispatch=aT.bind(null,Ye,n),[i.memoizedState,n]}function ya(n,i,o,c){return n={tag:n,create:i,destroy:o,deps:c,next:null},i=Ye.updateQueue,i===null?(i={lastEffect:null,stores:null},Ye.updateQueue=i,i.lastEffect=n.next=n):(o=i.lastEffect,o===null?i.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,i.lastEffect=n)),n}function wm(){return En().memoizedState}function Xu(n,i,o,c){var f=rr();Ye.flags|=n,f.memoizedState=ya(1|i,o,void 0,c===void 0?null:c)}function Yu(n,i,o,c){var f=En();c=c===void 0?null:c;var p=void 0;if(ft!==null){var v=ft.memoizedState;if(p=v.destroy,c!==null&&mh(c,v.deps)){f.memoizedState=ya(i,o,p,c);return}}Ye.flags|=n,f.memoizedState=ya(1|i,o,p,c)}function Em(n,i){return Xu(8390656,8,n,i)}function wh(n,i){return Yu(2048,8,n,i)}function Tm(n,i){return Yu(4,2,n,i)}function Im(n,i){return Yu(4,4,n,i)}function Sm(n,i){if(typeof i=="function")return n=n(),i(n),function(){i(null)};if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Am(n,i,o){return o=o!=null?o.concat([n]):null,Yu(4,4,Sm.bind(null,i,n),o)}function Eh(){}function Cm(n,i){var o=En();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&mh(i,c[1])?c[0]:(o.memoizedState=[n,i],n)}function km(n,i){var o=En();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&mh(i,c[1])?c[0]:(n=n(),o.memoizedState=[n,i],n)}function Rm(n,i,o){return(Hi&21)===0?(n.baseState&&(n.baseState=!1,Yt=!0),n.memoizedState=o):(Mn(o,i)||(o=bi(),Ye.lanes|=o,Wi|=o,n.baseState=!0),i)}function sT(n,i){var o=Ae;Ae=o!==0&&4>o?o:4,n(!0);var c=ph.transition;ph.transition={};try{n(!1),i()}finally{Ae=o,ph.transition=c}}function Pm(){return En().memoizedState}function oT(n,i,o){var c=ii(n);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Vm(n))xm(i,o);else if(o=am(n,i,o,c),o!==null){var f=Wt();$n(o,n,c,f),Dm(o,i,c)}}function aT(n,i,o){var c=ii(n),f={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Vm(n))xm(i,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var v=i.lastRenderedState,I=p(v,o);if(f.hasEagerState=!0,f.eagerState=I,Mn(I,v)){var k=i.interleaved;k===null?(f.next=f,uh(i)):(f.next=k.next,k.next=f),i.interleaved=f;return}}catch{}finally{}o=am(n,i,f,c),o!==null&&(f=Wt(),$n(o,n,c,f),Dm(o,i,c))}}function Vm(n){var i=n.alternate;return n===Ye||i!==null&&i===Ye}function xm(n,i){pa=Gu=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function Dm(n,i,o){if((o&4194240)!==0){var c=i.lanes;c&=n.pendingLanes,o|=c,i.lanes=o,Br(n,o)}}var Ju={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},uT={readContext:wn,useCallback:function(n,i){return rr().memoizedState=[n,i===void 0?null:i],n},useContext:wn,useEffect:Em,useImperativeHandle:function(n,i,o){return o=o!=null?o.concat([n]):null,Xu(4194308,4,Sm.bind(null,i,n),o)},useLayoutEffect:function(n,i){return Xu(4194308,4,n,i)},useInsertionEffect:function(n,i){return Xu(4,2,n,i)},useMemo:function(n,i){var o=rr();return i=i===void 0?null:i,n=n(),o.memoizedState=[n,i],n},useReducer:function(n,i,o){var c=rr();return i=o!==void 0?o(i):i,c.memoizedState=c.baseState=i,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:i},c.queue=n,n=n.dispatch=oT.bind(null,Ye,n),[c.memoizedState,n]},useRef:function(n){var i=rr();return n={current:n},i.memoizedState=n},useState:vm,useDebugValue:Eh,useDeferredValue:function(n){return rr().memoizedState=n},useTransition:function(){var n=vm(!1),i=n[0];return n=sT.bind(null,n[1]),rr().memoizedState=n,[i,n]},useMutableSource:function(){},useSyncExternalStore:function(n,i,o){var c=Ye,f=rr();if(Qe){if(o===void 0)throw Error(t(407));o=o()}else{if(o=i(),Et===null)throw Error(t(349));(Hi&30)!==0||pm(c,i,o)}f.memoizedState=o;var p={value:o,getSnapshot:i};return f.queue=p,Em(gm.bind(null,c,p,n),[n]),c.flags|=2048,ya(9,mm.bind(null,c,p,o,i),void 0,null),o},useId:function(){var n=rr(),i=Et.identifierPrefix;if(Qe){var o=Ar,c=Sr;o=(c&~(1<<32-Bt(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=ma++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=iT++,i=":"+i+"r"+o.toString(32)+":";return n.memoizedState=i},unstable_isNewReconciler:!1},lT={readContext:wn,useCallback:Cm,useContext:wn,useEffect:wh,useImperativeHandle:Am,useInsertionEffect:Tm,useLayoutEffect:Im,useMemo:km,useReducer:_h,useRef:wm,useState:function(){return _h(ga)},useDebugValue:Eh,useDeferredValue:function(n){var i=En();return Rm(i,ft.memoizedState,n)},useTransition:function(){var n=_h(ga)[0],i=En().memoizedState;return[n,i]},useMutableSource:fm,useSyncExternalStore:dm,useId:Pm,unstable_isNewReconciler:!1},cT={readContext:wn,useCallback:Cm,useContext:wn,useEffect:wh,useImperativeHandle:Am,useInsertionEffect:Tm,useLayoutEffect:Im,useMemo:km,useReducer:vh,useRef:wm,useState:function(){return vh(ga)},useDebugValue:Eh,useDeferredValue:function(n){var i=En();return ft===null?i.memoizedState=n:Rm(i,ft.memoizedState,n)},useTransition:function(){var n=vh(ga)[0],i=En().memoizedState;return[n,i]},useMutableSource:fm,useSyncExternalStore:dm,useId:Pm,unstable_isNewReconciler:!1};function Un(n,i){if(n&&n.defaultProps){i=te({},i),n=n.defaultProps;for(var o in n)i[o]===void 0&&(i[o]=n[o]);return i}return i}function Th(n,i,o,c){i=n.memoizedState,o=o(c,i),o=o==null?i:te({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Zu={isMounted:function(n){return(n=n._reactInternals)?Vn(n)===n:!1},enqueueSetState:function(n,i,o){n=n._reactInternals;var c=Wt(),f=ii(n),p=kr(c,f);p.payload=i,o!=null&&(p.callback=o),i=ei(n,p,f),i!==null&&($n(i,n,f,c),Hu(i,n,f))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var c=Wt(),f=ii(n),p=kr(c,f);p.tag=1,p.payload=i,o!=null&&(p.callback=o),i=ei(n,p,f),i!==null&&($n(i,n,f,c),Hu(i,n,f))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=Wt(),c=ii(n),f=kr(o,c);f.tag=2,i!=null&&(f.callback=i),i=ei(n,f,c),i!==null&&($n(i,n,c,o),Hu(i,n,c))}};function Nm(n,i,o,c,f,p,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,v):i.prototype&&i.prototype.isPureReactComponent?!ra(o,c)||!ra(f,p):!0}function bm(n,i,o){var c=!1,f=Yr,p=i.contextType;return typeof p=="object"&&p!==null?p=wn(p):(f=Xt(i)?ji:bt.current,c=i.contextTypes,p=(c=c!=null)?$s(n,f):Yr),i=new i(o,p),n.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Zu,n.stateNode=i,i._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=f,n.__reactInternalMemoizedMaskedChildContext=p),i}function Lm(n,i,o,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==n&&Zu.enqueueReplaceState(i,i.state,null)}function Ih(n,i,o,c){var f=n.stateNode;f.props=o,f.state=n.memoizedState,f.refs={},lh(n);var p=i.contextType;typeof p=="object"&&p!==null?f.context=wn(p):(p=Xt(i)?ji:bt.current,f.context=$s(n,p)),f.state=n.memoizedState,p=i.getDerivedStateFromProps,typeof p=="function"&&(Th(n,i,p,o),f.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(i=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),i!==f.state&&Zu.enqueueReplaceState(f,f.state,null),Wu(n,o,f,c),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308)}function Xs(n,i){try{var o="",c=i;do o+=Te(c),c=c.return;while(c);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:n,source:i,stack:f,digest:null}}function Sh(n,i,o){return{value:n,source:null,stack:o??null,digest:i??null}}function Ah(n,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var hT=typeof WeakMap=="function"?WeakMap:Map;function Om(n,i,o){o=kr(-1,o),o.tag=3,o.payload={element:null};var c=i.value;return o.callback=function(){ol||(ol=!0,jh=c),Ah(n,i)},o}function Mm(n,i,o){o=kr(-1,o),o.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var f=i.value;o.payload=function(){return c(f)},o.callback=function(){Ah(n,i)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Ah(n,i),typeof c!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})}),o}function Fm(n,i,o){var c=n.pingCache;if(c===null){c=n.pingCache=new hT;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(o)||(f.add(o),n=AT.bind(null,n,i,o),i.then(n,n))}function Um(n){do{var i;if((i=n.tag===13)&&(i=n.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return n;n=n.return}while(n!==null);return null}function jm(n,i,o,c,f){return(n.mode&1)===0?(n===i?n.flags|=65536:(n.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=kr(-1,1),i.tag=2,ei(o,i,1))),o.lanes|=1),n):(n.flags|=65536,n.lanes=f,n)}var fT=me.ReactCurrentOwner,Yt=!1;function Ht(n,i,o,c){i.child=n===null?om(i,null,o,c):Ws(i,n.child,o,c)}function zm(n,i,o,c,f){o=o.render;var p=i.ref;return Qs(i,f),c=gh(n,i,o,c,p,f),o=yh(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Rr(n,i,f)):(Qe&&o&&Zc(i),i.flags|=1,Ht(n,i,c,f),i.child)}function $m(n,i,o,c,f){if(n===null){var p=o.type;return typeof p=="function"&&!Kh(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=p,Bm(n,i,p,c,f)):(n=fl(o.type,null,c,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,(n.lanes&f)===0){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:ra,o(v,c)&&n.ref===i.ref)return Rr(n,i,f)}return i.flags|=1,n=oi(p,c),n.ref=i.ref,n.return=i,i.child=n}function Bm(n,i,o,c,f){if(n!==null){var p=n.memoizedProps;if(ra(p,c)&&n.ref===i.ref)if(Yt=!1,i.pendingProps=c=p,(n.lanes&f)!==0)(n.flags&131072)!==0&&(Yt=!0);else return i.lanes=n.lanes,Rr(n,i,f)}return Ch(n,i,o,c,f)}function qm(n,i,o){var c=i.pendingProps,f=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Js,hn),hn|=o;else{if((o&1073741824)===0)return n=p!==null?p.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:n,cachePool:null,transitions:null},i.updateQueue=null,Be(Js,hn),hn|=n,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,Be(Js,hn),hn|=c}else p!==null?(c=p.baseLanes|o,i.memoizedState=null):c=o,Be(Js,hn),hn|=c;return Ht(n,i,f,o),i.child}function Hm(n,i){var o=i.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function Ch(n,i,o,c,f){var p=Xt(o)?ji:bt.current;return p=$s(i,p),Qs(i,f),o=gh(n,i,o,c,p,f),c=yh(),n!==null&&!Yt?(i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~f,Rr(n,i,f)):(Qe&&c&&Zc(i),i.flags|=1,Ht(n,i,o,f),i.child)}function Wm(n,i,o,c,f){if(Xt(o)){var p=!0;Mu(i)}else p=!1;if(Qs(i,f),i.stateNode===null)tl(n,i),bm(i,o,c),Ih(i,o,c,f),c=!0;else if(n===null){var v=i.stateNode,I=i.memoizedProps;v.props=I;var k=v.context,F=o.contextType;typeof F=="object"&&F!==null?F=wn(F):(F=Xt(o)?ji:bt.current,F=$s(i,F));var H=o.getDerivedStateFromProps,W=typeof H=="function"||typeof v.getSnapshotBeforeUpdate=="function";W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==c||k!==F)&&Lm(i,v,c,F),Zr=!1;var q=i.memoizedState;v.state=q,Wu(i,c,v,f),k=i.memoizedState,I!==c||q!==k||Gt.current||Zr?(typeof H=="function"&&(Th(i,o,H,c),k=i.memoizedState),(I=Zr||Nm(i,o,I,c,q,k,F))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(i.flags|=4194308)):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=k),v.props=c,v.state=k,v.context=F,c=I):(typeof v.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{v=i.stateNode,um(n,i),I=i.memoizedProps,F=i.type===i.elementType?I:Un(i.type,I),v.props=F,W=i.pendingProps,q=v.context,k=o.contextType,typeof k=="object"&&k!==null?k=wn(k):(k=Xt(o)?ji:bt.current,k=$s(i,k));var ee=o.getDerivedStateFromProps;(H=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==W||q!==k)&&Lm(i,v,c,k),Zr=!1,q=i.memoizedState,v.state=q,Wu(i,c,v,f);var ie=i.memoizedState;I!==W||q!==ie||Gt.current||Zr?(typeof ee=="function"&&(Th(i,o,ee,c),ie=i.memoizedState),(F=Zr||Nm(i,o,F,c,q,ie,k)||!1)?(H||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(c,ie,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(c,ie,k)),typeof v.componentDidUpdate=="function"&&(i.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ie),v.props=c,v.state=ie,v.context=k,c=F):(typeof v.componentDidUpdate!="function"||I===n.memoizedProps&&q===n.memoizedState||(i.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===n.memoizedProps&&q===n.memoizedState||(i.flags|=1024),c=!1)}return kh(n,i,o,c,p,f)}function kh(n,i,o,c,f,p){Hm(n,i);var v=(i.flags&128)!==0;if(!c&&!v)return f&&Yp(i,o,!1),Rr(n,i,p);c=i.stateNode,fT.current=i;var I=v&&typeof o.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,n!==null&&v?(i.child=Ws(i,n.child,null,p),i.child=Ws(i,null,I,p)):Ht(n,i,I,p),i.memoizedState=c.state,f&&Yp(i,o,!0),i.child}function Km(n){var i=n.stateNode;i.pendingContext?Gp(n,i.pendingContext,i.pendingContext!==i.context):i.context&&Gp(n,i.context,!1),ch(n,i.containerInfo)}function Qm(n,i,o,c,f){return Hs(),rh(f),i.flags|=256,Ht(n,i,o,c),i.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function Ph(n){return{baseLanes:n,cachePool:null,transitions:null}}function Gm(n,i,o){var c=i.pendingProps,f=Xe.current,p=!1,v=(i.flags&128)!==0,I;if((I=v)||(I=n!==null&&n.memoizedState===null?!1:(f&2)!==0),I?(p=!0,i.flags&=-129):(n===null||n.memoizedState!==null)&&(f|=1),Be(Xe,f&1),n===null)return nh(i),n=i.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((i.mode&1)===0?i.lanes=1:n.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(v=c.children,n=c.fallback,p?(c=i.mode,p=i.child,v={mode:"hidden",children:v},(c&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=v):p=dl(v,c,0,null),n=Xi(n,c,o,null),p.return=i,n.return=i,p.sibling=n,i.child=p,i.child.memoizedState=Ph(o),i.memoizedState=Rh,n):Vh(i,v));if(f=n.memoizedState,f!==null&&(I=f.dehydrated,I!==null))return dT(n,i,v,c,I,f,o);if(p){p=c.fallback,v=i.mode,f=n.child,I=f.sibling;var k={mode:"hidden",children:c.children};return(v&1)===0&&i.child!==f?(c=i.child,c.childLanes=0,c.pendingProps=k,i.deletions=null):(c=oi(f,k),c.subtreeFlags=f.subtreeFlags&14680064),I!==null?p=oi(I,p):(p=Xi(p,v,o,null),p.flags|=2),p.return=i,c.return=i,c.sibling=p,i.child=c,c=p,p=i.child,v=n.child.memoizedState,v=v===null?Ph(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=n.childLanes&~o,i.memoizedState=Rh,c}return p=n.child,n=p.sibling,c=oi(p,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=o),c.return=i,c.sibling=null,n!==null&&(o=i.deletions,o===null?(i.deletions=[n],i.flags|=16):o.push(n)),i.child=c,i.memoizedState=null,c}function Vh(n,i){return i=dl({mode:"visible",children:i},n.mode,0,null),i.return=n,n.child=i}function el(n,i,o,c){return c!==null&&rh(c),Ws(i,n.child,null,o),n=Vh(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function dT(n,i,o,c,f,p,v){if(o)return i.flags&256?(i.flags&=-257,c=Sh(Error(t(422))),el(n,i,v,c)):i.memoizedState!==null?(i.child=n.child,i.flags|=128,null):(p=c.fallback,f=i.mode,c=dl({mode:"visible",children:c.children},f,0,null),p=Xi(p,f,v,null),p.flags|=2,c.return=i,p.return=i,c.sibling=p,i.child=c,(i.mode&1)!==0&&Ws(i,n.child,null,v),i.child.memoizedState=Ph(v),i.memoizedState=Rh,p);if((i.mode&1)===0)return el(n,i,v,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var I=c.dgst;return c=I,p=Error(t(419)),c=Sh(p,c,void 0),el(n,i,v,c)}if(I=(v&n.childLanes)!==0,Yt||I){if(c=Et,c!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(c.suspendedLanes|v))!==0?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,Cr(n,f),$n(c,n,f,-1))}return Wh(),c=Sh(Error(t(421))),el(n,i,v,c)}return f.data==="$?"?(i.flags|=128,i.child=n.child,i=CT.bind(null,n),f._reactRetry=i,null):(n=p.treeContext,cn=Gr(f.nextSibling),ln=i,Qe=!0,Fn=null,n!==null&&(_n[vn++]=Sr,_n[vn++]=Ar,_n[vn++]=zi,Sr=n.id,Ar=n.overflow,zi=i),i=Vh(i,c.children),i.flags|=4096,i)}function Xm(n,i,o){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ah(n.return,i,o)}function xh(n,i,o,c,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Ym(n,i,o){var c=i.pendingProps,f=c.revealOrder,p=c.tail;if(Ht(n,i,c.children,o),c=Xe.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Xm(n,o,i);else if(n.tag===19)Xm(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Be(Xe,c),(i.mode&1)===0)i.memoizedState=null;else switch(f){case"forwards":for(o=i.child,f=null;o!==null;)n=o.alternate,n!==null&&Ku(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),xh(i,!1,f,o,p);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ku(n)===null){i.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}xh(i,!0,o,null,p);break;case"together":xh(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function tl(n,i){(i.mode&1)===0&&n!==null&&(n.alternate=null,i.alternate=null,i.flags|=2)}function Rr(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Wi|=i.lanes,(o&i.childLanes)===0)return null;if(n!==null&&i.child!==n.child)throw Error(t(153));if(i.child!==null){for(n=i.child,o=oi(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=oi(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function pT(n,i,o){switch(i.tag){case 3:Km(i),Hs();break;case 5:hm(i);break;case 1:Xt(i.type)&&Mu(i);break;case 4:ch(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,f=i.memoizedProps.value;Be(Bu,c._currentValue),c._currentValue=f;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(Be(Xe,Xe.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?Gm(n,i,o):(Be(Xe,Xe.current&1),n=Rr(n,i,o),n!==null?n.sibling:null);Be(Xe,Xe.current&1);break;case 19:if(c=(o&i.childLanes)!==0,(n.flags&128)!==0){if(c)return Ym(n,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Be(Xe,Xe.current),c)break;return null;case 22:case 23:return i.lanes=0,qm(n,i,o)}return Rr(n,i,o)}var Jm,Dh,Zm,eg;Jm=function(n,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Dh=function(){},Zm=function(n,i,o,c){var f=n.memoizedProps;if(f!==c){n=i.stateNode,qi(nr.current);var p=null;switch(o){case"input":f=Ii(n,f),c=Ii(n,c),p=[];break;case"select":f=te({},f,{value:void 0}),c=te({},c,{value:void 0}),p=[];break;case"textarea":f=Do(n,f),c=Do(n,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=bu)}Fo(o,c);var v;o=null;for(F in f)if(!c.hasOwnProperty(F)&&f.hasOwnProperty(F)&&f[F]!=null)if(F==="style"){var I=f[F];for(v in I)I.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in c){var k=c[F];if(I=f!=null?f[F]:void 0,c.hasOwnProperty(F)&&k!==I&&(k!=null||I!=null))if(F==="style")if(I){for(v in I)!I.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in k)k.hasOwnProperty(v)&&I[v]!==k[v]&&(o||(o={}),o[v]=k[v])}else o||(p||(p=[]),p.push(F,o)),o=k;else F==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,I=I?I.__html:void 0,k!=null&&I!==k&&(p=p||[]).push(F,k)):F==="children"?typeof k!="string"&&typeof k!="number"||(p=p||[]).push(F,""+k):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(k!=null&&F==="onScroll"&&He("scroll",n),p||I===k||(p=[])):(p=p||[]).push(F,k))}o&&(p=p||[]).push("style",o);var F=p;(i.updateQueue=F)&&(i.flags|=4)}},eg=function(n,i,o,c){o!==c&&(i.flags|=4)};function _a(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ot(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(i)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,i}function mT(n,i,o){var c=i.pendingProps;switch(eh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(i),null;case 1:return Xt(i.type)&&Ou(),Ot(i),null;case 3:return c=i.stateNode,Gs(),We(Gt),We(bt),dh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(zu(i)?i.flags|=4:n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fn!==null&&(Bh(Fn),Fn=null))),Dh(n,i),Ot(i),null;case 5:hh(i);var f=qi(da.current);if(o=i.type,n!==null&&i.stateNode!=null)Zm(n,i,o,c,f),n.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ot(i),null}if(n=qi(nr.current),zu(i)){c=i.stateNode,o=i.type;var p=i.memoizedProps;switch(c[tr]=i,c[ua]=p,n=(i.mode&1)!==0,o){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(f=0;f<sa.length;f++)He(sa[f],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":cs(c,p),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},He("invalid",c);break;case"textarea":fs(c,p),He("invalid",c)}Fo(o,p),f=null;for(var v in p)if(p.hasOwnProperty(v)){var I=p[v];v==="children"?typeof I=="string"?c.textContent!==I&&(p.suppressHydrationWarning!==!0&&Nu(c.textContent,I,n),f=["children",I]):typeof I=="number"&&c.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&Nu(c.textContent,I,n),f=["children",""+I]):a.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&He("scroll",c)}switch(o){case"input":fr(c),su(c,p,!0);break;case"textarea":fr(c),No(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=bu)}c=f,i.updateQueue=c,c!==null&&(i.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=lt(o)),n==="http://www.w3.org/1999/xhtml"?o==="script"?(n=v.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=v.createElement(o,{is:c.is}):(n=v.createElement(o),o==="select"&&(v=n,c.multiple?v.multiple=!0:c.size&&(v.size=c.size))):n=v.createElementNS(n,o),n[tr]=i,n[ua]=c,Jm(n,i,!1,!1),i.stateNode=n;e:{switch(v=Uo(o,c),o){case"dialog":He("cancel",n),He("close",n),f=c;break;case"iframe":case"object":case"embed":He("load",n),f=c;break;case"video":case"audio":for(f=0;f<sa.length;f++)He(sa[f],n);f=c;break;case"source":He("error",n),f=c;break;case"img":case"image":case"link":He("error",n),He("load",n),f=c;break;case"details":He("toggle",n),f=c;break;case"input":cs(n,c),f=Ii(n,c),He("invalid",n);break;case"option":f=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},f=te({},c,{value:void 0}),He("invalid",n);break;case"textarea":fs(n,c),f=Do(n,c),He("invalid",n);break;default:f=c}Fo(o,f),I=f;for(p in I)if(I.hasOwnProperty(p)){var k=I[p];p==="style"?Oo(n,k):p==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&bo(n,k)):p==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Fr(n,k):typeof k=="number"&&Fr(n,""+k):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?k!=null&&p==="onScroll"&&He("scroll",n):k!=null&&oe(n,p,k,v))}switch(o){case"input":fr(n),su(n,c,!1);break;case"textarea":fr(n),No(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Le(c.value));break;case"select":n.multiple=!!c.multiple,p=c.value,p!=null?pr(n,!!c.multiple,p,!1):c.defaultValue!=null&&pr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(n.onclick=bu)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ot(i),null;case 6:if(n&&i.stateNode!=null)eg(n,i,n.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(o=qi(da.current),qi(nr.current),zu(i)){if(c=i.stateNode,o=i.memoizedProps,c[tr]=i,(p=c.nodeValue!==o)&&(n=ln,n!==null))switch(n.tag){case 3:Nu(c.nodeValue,o,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Nu(c.nodeValue,o,(n.mode&1)!==0)}p&&(i.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[tr]=i,i.stateNode=c}return Ot(i),null;case 13:if(We(Xe),c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Qe&&cn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)rm(),Hs(),i.flags|=98560,p=!1;else if(p=zu(i),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(t(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(t(317));p[tr]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ot(i),p=!1}else Fn!==null&&(Bh(Fn),Fn=null),p=!0;if(!p)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=o,i):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(n===null||(Xe.current&1)!==0?dt===0&&(dt=3):Wh())),i.updateQueue!==null&&(i.flags|=4),Ot(i),null);case 4:return Gs(),Dh(n,i),n===null&&oa(i.stateNode.containerInfo),Ot(i),null;case 10:return oh(i.type._context),Ot(i),null;case 17:return Xt(i.type)&&Ou(),Ot(i),null;case 19:if(We(Xe),p=i.memoizedState,p===null)return Ot(i),null;if(c=(i.flags&128)!==0,v=p.rendering,v===null)if(c)_a(p,!1);else{if(dt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(v=Ku(n),v!==null){for(i.flags|=128,_a(p,!1),c=v.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=o,o=i.child;o!==null;)p=o,n=c,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=n,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,n=v.dependencies,p.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),o=o.sibling;return Be(Xe,Xe.current&1|2),i.child}n=n.sibling}p.tail!==null&&$e()>Zs&&(i.flags|=128,c=!0,_a(p,!1),i.lanes=4194304)}else{if(!c)if(n=Ku(v),n!==null){if(i.flags|=128,c=!0,o=n.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),_a(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Qe)return Ot(i),null}else 2*$e()-p.renderingStartTime>Zs&&o!==1073741824&&(i.flags|=128,c=!0,_a(p,!1),i.lanes=4194304);p.isBackwards?(v.sibling=i.child,i.child=v):(o=p.last,o!==null?o.sibling=v:i.child=v,p.last=v)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=$e(),i.sibling=null,o=Xe.current,Be(Xe,c?o&1|2:o&1),i):(Ot(i),null);case 22:case 23:return Hh(),c=i.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(hn&1073741824)!==0&&(Ot(i),i.subtreeFlags&6&&(i.flags|=8192)):Ot(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function gT(n,i){switch(eh(i),i.tag){case 1:return Xt(i.type)&&Ou(),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Gs(),We(Gt),We(bt),dh(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 5:return hh(i),null;case 13:if(We(Xe),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(t(340));Hs()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return We(Xe),null;case 4:return Gs(),null;case 10:return oh(i.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var nl=!1,Mt=!1,yT=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ys(n,i){var o=n.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){et(n,i,c)}else o.current=null}function Nh(n,i,o){try{o()}catch(c){et(n,i,c)}}var tg=!1;function _T(n,i){if(Hc=Wr,n=Np(),Mc(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,I=-1,k=-1,F=0,H=0,W=n,q=null;t:for(;;){for(var ee;W!==o||f!==0&&W.nodeType!==3||(I=v+f),W!==p||c!==0&&W.nodeType!==3||(k=v+c),W.nodeType===3&&(v+=W.nodeValue.length),(ee=W.firstChild)!==null;)q=W,W=ee;for(;;){if(W===n)break t;if(q===o&&++F===f&&(I=v),q===p&&++H===c&&(k=v),(ee=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=ee}o=I===-1||k===-1?null:{start:I,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wc={focusedElem:n,selectionRange:o},Wr=!1,re=i;re!==null;)if(i=re,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,re=n;else for(;re!==null;){i=re;try{var ie=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ie!==null){var ae=ie.memoizedProps,it=ie.memoizedState,O=i.stateNode,P=O.getSnapshotBeforeUpdate(i.elementType===i.type?ae:Un(i.type,ae),it);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=i.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(X){et(i,i.return,X)}if(n=i.sibling,n!==null){n.return=i.return,re=n;break}re=i.return}return ie=tg,tg=!1,ie}function va(n,i,o){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&n)===n){var p=f.destroy;f.destroy=void 0,p!==void 0&&Nh(i,o,p)}f=f.next}while(f!==c)}}function rl(n,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var c=o.create;o.destroy=c()}o=o.next}while(o!==i)}}function bh(n){var i=n.ref;if(i!==null){var o=n.stateNode;switch(n.tag){case 5:n=o;break;default:n=o}typeof i=="function"?i(n):i.current=n}}function ng(n){var i=n.alternate;i!==null&&(n.alternate=null,ng(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&(delete i[tr],delete i[ua],delete i[Xc],delete i[eT],delete i[tT])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function rg(n){return n.tag===5||n.tag===3||n.tag===4}function ig(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Lh(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(n,i):o.insertBefore(n,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(n,o)):(i=o,i.appendChild(n)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=bu));else if(c!==4&&(n=n.child,n!==null))for(Lh(n,i,o),n=n.sibling;n!==null;)Lh(n,i,o),n=n.sibling}function Oh(n,i,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(Oh(n,i,o),n=n.sibling;n!==null;)Oh(n,i,o),n=n.sibling}var kt=null,jn=!1;function ti(n,i,o){for(o=o.child;o!==null;)sg(n,i,o),o=o.sibling}function sg(n,i,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(Di,o)}catch{}switch(o.tag){case 5:Mt||Ys(o,i);case 6:var c=kt,f=jn;kt=null,ti(n,i,o),kt=c,jn=f,kt!==null&&(jn?(n=kt,o=o.stateNode,n.nodeType===8?n.parentNode.removeChild(o):n.removeChild(o)):kt.removeChild(o.stateNode));break;case 18:kt!==null&&(jn?(n=kt,o=o.stateNode,n.nodeType===8?Gc(n.parentNode,o):n.nodeType===1&&Gc(n,o),Ln(n)):Gc(kt,o.stateNode));break;case 4:c=kt,f=jn,kt=o.stateNode.containerInfo,jn=!0,ti(n,i,o),kt=c,jn=f;break;case 0:case 11:case 14:case 15:if(!Mt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,v=p.destroy;p=p.tag,v!==void 0&&((p&2)!==0||(p&4)!==0)&&Nh(o,i,v),f=f.next}while(f!==c)}ti(n,i,o);break;case 1:if(!Mt&&(Ys(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(I){et(o,i,I)}ti(n,i,o);break;case 21:ti(n,i,o);break;case 22:o.mode&1?(Mt=(c=Mt)||o.memoizedState!==null,ti(n,i,o),Mt=c):ti(n,i,o);break;default:ti(n,i,o)}}function og(n){var i=n.updateQueue;if(i!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new yT),i.forEach(function(c){var f=kT.bind(null,n,c);o.has(c)||(o.add(c),c.then(f,f))})}}function zn(n,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c];try{var p=n,v=i,I=v;e:for(;I!==null;){switch(I.tag){case 5:kt=I.stateNode,jn=!1;break e;case 3:kt=I.stateNode.containerInfo,jn=!0;break e;case 4:kt=I.stateNode.containerInfo,jn=!0;break e}I=I.return}if(kt===null)throw Error(t(160));sg(p,v,f),kt=null,jn=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch(F){et(f,i,F)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ag(i,n),i=i.sibling}function ag(n,i){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(zn(i,n),ir(n),c&4){try{va(3,n,n.return),rl(3,n)}catch(ae){et(n,n.return,ae)}try{va(5,n,n.return)}catch(ae){et(n,n.return,ae)}}break;case 1:zn(i,n),ir(n),c&512&&o!==null&&Ys(o,o.return);break;case 5:if(zn(i,n),ir(n),c&512&&o!==null&&Ys(o,o.return),n.flags&32){var f=n.stateNode;try{Fr(f,"")}catch(ae){et(n,n.return,ae)}}if(c&4&&(f=n.stateNode,f!=null)){var p=n.memoizedProps,v=o!==null?o.memoizedProps:p,I=n.type,k=n.updateQueue;if(n.updateQueue=null,k!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&Vo(f,p),Uo(I,v);var F=Uo(I,p);for(v=0;v<k.length;v+=2){var H=k[v],W=k[v+1];H==="style"?Oo(f,W):H==="dangerouslySetInnerHTML"?bo(f,W):H==="children"?Fr(f,W):oe(f,H,W,F)}switch(I){case"input":xo(f,p);break;case"textarea":ds(f,p);break;case"select":var q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var ee=p.value;ee!=null?pr(f,!!p.multiple,ee,!1):q!==!!p.multiple&&(p.defaultValue!=null?pr(f,!!p.multiple,p.defaultValue,!0):pr(f,!!p.multiple,p.multiple?[]:"",!1))}f[ua]=p}catch(ae){et(n,n.return,ae)}}break;case 6:if(zn(i,n),ir(n),c&4){if(n.stateNode===null)throw Error(t(162));f=n.stateNode,p=n.memoizedProps;try{f.nodeValue=p}catch(ae){et(n,n.return,ae)}}break;case 3:if(zn(i,n),ir(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ln(i.containerInfo)}catch(ae){et(n,n.return,ae)}break;case 4:zn(i,n),ir(n);break;case 13:zn(i,n),ir(n),f=n.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Uh=$e())),c&4&&og(n);break;case 22:if(H=o!==null&&o.memoizedState!==null,n.mode&1?(Mt=(F=Mt)||H,zn(i,n),Mt=F):zn(i,n),ir(n),c&8192){if(F=n.memoizedState!==null,(n.stateNode.isHidden=F)&&!H&&(n.mode&1)!==0)for(re=n,H=n.child;H!==null;){for(W=re=H;re!==null;){switch(q=re,ee=q.child,q.tag){case 0:case 11:case 14:case 15:va(4,q,q.return);break;case 1:Ys(q,q.return);var ie=q.stateNode;if(typeof ie.componentWillUnmount=="function"){c=q,o=q.return;try{i=c,ie.props=i.memoizedProps,ie.state=i.memoizedState,ie.componentWillUnmount()}catch(ae){et(c,o,ae)}}break;case 5:Ys(q,q.return);break;case 22:if(q.memoizedState!==null){cg(W);continue}}ee!==null?(ee.return=q,re=ee):cg(W)}H=H.sibling}e:for(H=null,W=n;;){if(W.tag===5){if(H===null){H=W;try{f=W.stateNode,F?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=W.stateNode,k=W.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,I.style.display=Lo("display",v))}catch(ae){et(n,n.return,ae)}}}else if(W.tag===6){if(H===null)try{W.stateNode.nodeValue=F?"":W.memoizedProps}catch(ae){et(n,n.return,ae)}}else if((W.tag!==22&&W.tag!==23||W.memoizedState===null||W===n)&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===n)break e;for(;W.sibling===null;){if(W.return===null||W.return===n)break e;H===W&&(H=null),W=W.return}H===W&&(H=null),W.sibling.return=W.return,W=W.sibling}}break;case 19:zn(i,n),ir(n),c&4&&og(n);break;case 21:break;default:zn(i,n),ir(n)}}function ir(n){var i=n.flags;if(i&2){try{e:{for(var o=n.return;o!==null;){if(rg(o)){var c=o;break e}o=o.return}throw Error(t(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Fr(f,""),c.flags&=-33);var p=ig(n);Oh(n,p,f);break;case 3:case 4:var v=c.stateNode.containerInfo,I=ig(n);Lh(n,I,v);break;default:throw Error(t(161))}}catch(k){et(n,n.return,k)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function vT(n,i,o){re=n,ug(n)}function ug(n,i,o){for(var c=(n.mode&1)!==0;re!==null;){var f=re,p=f.child;if(f.tag===22&&c){var v=f.memoizedState!==null||nl;if(!v){var I=f.alternate,k=I!==null&&I.memoizedState!==null||Mt;I=nl;var F=Mt;if(nl=v,(Mt=k)&&!F)for(re=f;re!==null;)v=re,k=v.child,v.tag===22&&v.memoizedState!==null?hg(f):k!==null?(k.return=v,re=k):hg(f);for(;p!==null;)re=p,ug(p),p=p.sibling;re=f,nl=I,Mt=F}lg(n)}else(f.subtreeFlags&8772)!==0&&p!==null?(p.return=f,re=p):lg(n)}}function lg(n){for(;re!==null;){var i=re;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Mt||rl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!Mt)if(o===null)c.componentDidMount();else{var f=i.elementType===i.type?o.memoizedProps:Un(i.type,o.memoizedProps);c.componentDidUpdate(f,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=i.updateQueue;p!==null&&cm(i,p,c);break;case 3:var v=i.updateQueue;if(v!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}cm(i,v,o)}break;case 5:var I=i.stateNode;if(o===null&&i.flags&4){o=I;var k=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var F=i.alternate;if(F!==null){var H=F.memoizedState;if(H!==null){var W=H.dehydrated;W!==null&&Ln(W)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Mt||i.flags&512&&bh(i)}catch(q){et(i,i.return,q)}}if(i===n){re=null;break}if(o=i.sibling,o!==null){o.return=i.return,re=o;break}re=i.return}}function cg(n){for(;re!==null;){var i=re;if(i===n){re=null;break}var o=i.sibling;if(o!==null){o.return=i.return,re=o;break}re=i.return}}function hg(n){for(;re!==null;){var i=re;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{rl(4,i)}catch(k){et(i,o,k)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var f=i.return;try{c.componentDidMount()}catch(k){et(i,f,k)}}var p=i.return;try{bh(i)}catch(k){et(i,p,k)}break;case 5:var v=i.return;try{bh(i)}catch(k){et(i,v,k)}}}catch(k){et(i,i.return,k)}if(i===n){re=null;break}var I=i.sibling;if(I!==null){I.return=i.return,re=I;break}re=i.return}}var wT=Math.ceil,il=me.ReactCurrentDispatcher,Mh=me.ReactCurrentOwner,Tn=me.ReactCurrentBatchConfig,De=0,Et=null,at=null,Rt=0,hn=0,Js=Xr(0),dt=0,wa=null,Wi=0,sl=0,Fh=0,Ea=null,Jt=null,Uh=0,Zs=1/0,Pr=null,ol=!1,jh=null,ni=null,al=!1,ri=null,ul=0,Ta=0,zh=null,ll=-1,cl=0;function Wt(){return(De&6)!==0?$e():ll!==-1?ll:ll=$e()}function ii(n){return(n.mode&1)===0?1:(De&2)!==0&&Rt!==0?Rt&-Rt:rT.transition!==null?(cl===0&&(cl=bi()),cl):(n=Ae,n!==0||(n=window.event,n=n===void 0?16:Xo(n.type)),n)}function $n(n,i,o,c){if(50<Ta)throw Ta=0,zh=null,Error(t(185));$r(n,o,c),((De&2)===0||n!==Et)&&(n===Et&&((De&2)===0&&(sl|=o),dt===4&&si(n,Rt)),Zt(n,c),o===1&&De===0&&(i.mode&1)===0&&(Zs=$e()+500,Fu&&Jr()))}function Zt(n,i){var o=n.callbackNode;yr(n,i);var c=Ni(n,n===Et?Rt:0);if(c===0)o!==null&&Ho(o),n.callbackNode=null,n.callbackPriority=0;else if(i=c&-c,n.callbackPriority!==i){if(o!=null&&Ho(o),i===1)n.tag===0?nT(dg.bind(null,n)):Jp(dg.bind(null,n)),JE(function(){(De&6)===0&&Jr()}),o=null;else{switch(qr(c)){case 1:o=xi;break;case 4:o=Ur;break;case 16:o=mn;break;case 536870912:o=cu;break;default:o=mn}o=Eg(o,fg.bind(null,n))}n.callbackPriority=i,n.callbackNode=o}}function fg(n,i){if(ll=-1,cl=0,(De&6)!==0)throw Error(t(327));var o=n.callbackNode;if(eo()&&n.callbackNode!==o)return null;var c=Ni(n,n===Et?Rt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||i)i=hl(n,c);else{i=c;var f=De;De|=2;var p=mg();(Et!==n||Rt!==i)&&(Pr=null,Zs=$e()+500,Qi(n,i));do try{IT();break}catch(I){pg(n,I)}while(!0);sh(),il.current=p,De=f,at!==null?i=0:(Et=null,Rt=0,i=dt)}if(i!==0){if(i===2&&(f=on(n),f!==0&&(c=f,i=$h(n,f))),i===1)throw o=wa,Qi(n,0),si(n,c),Zt(n,$e()),o;if(i===6)si(n,c);else{if(f=n.current.alternate,(c&30)===0&&!ET(f)&&(i=hl(n,c),i===2&&(p=on(n),p!==0&&(c=p,i=$h(n,p))),i===1))throw o=wa,Qi(n,0),si(n,c),Zt(n,$e()),o;switch(n.finishedWork=f,n.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Gi(n,Jt,Pr);break;case 3:if(si(n,c),(c&130023424)===c&&(i=Uh+500-$e(),10<i)){if(Ni(n,0)!==0)break;if(f=n.suspendedLanes,(f&c)!==c){Wt(),n.pingedLanes|=n.suspendedLanes&f;break}n.timeoutHandle=Qc(Gi.bind(null,n,Jt,Pr),i);break}Gi(n,Jt,Pr);break;case 4:if(si(n,c),(c&4194240)===c)break;for(i=n.eventTimes,f=-1;0<c;){var v=31-Bt(c);p=1<<v,v=i[v],v>f&&(f=v),c&=~p}if(c=f,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*wT(c/1960))-c,10<c){n.timeoutHandle=Qc(Gi.bind(null,n,Jt,Pr),c);break}Gi(n,Jt,Pr);break;case 5:Gi(n,Jt,Pr);break;default:throw Error(t(329))}}}return Zt(n,$e()),n.callbackNode===o?fg.bind(null,n):null}function $h(n,i){var o=Ea;return n.current.memoizedState.isDehydrated&&(Qi(n,i).flags|=256),n=hl(n,i),n!==2&&(i=Jt,Jt=o,i!==null&&Bh(i)),n}function Bh(n){Jt===null?Jt=n:Jt.push.apply(Jt,n)}function ET(n){for(var i=n;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Mn(p(),f))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function si(n,i){for(i&=~Fh,i&=~sl,n.suspendedLanes|=i,n.pingedLanes&=~i,n=n.expirationTimes;0<i;){var o=31-Bt(i),c=1<<o;n[o]=-1,i&=~c}}function dg(n){if((De&6)!==0)throw Error(t(327));eo();var i=Ni(n,0);if((i&1)===0)return Zt(n,$e()),null;var o=hl(n,i);if(n.tag!==0&&o===2){var c=on(n);c!==0&&(i=c,o=$h(n,c))}if(o===1)throw o=wa,Qi(n,0),si(n,i),Zt(n,$e()),o;if(o===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=i,Gi(n,Jt,Pr),Zt(n,$e()),null}function qh(n,i){var o=De;De|=1;try{return n(i)}finally{De=o,De===0&&(Zs=$e()+500,Fu&&Jr())}}function Ki(n){ri!==null&&ri.tag===0&&(De&6)===0&&eo();var i=De;De|=1;var o=Tn.transition,c=Ae;try{if(Tn.transition=null,Ae=1,n)return n()}finally{Ae=c,Tn.transition=o,De=i,(De&6)===0&&Jr()}}function Hh(){hn=Js.current,We(Js)}function Qi(n,i){n.finishedWork=null,n.finishedLanes=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,YE(o)),at!==null)for(o=at.return;o!==null;){var c=o;switch(eh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ou();break;case 3:Gs(),We(Gt),We(bt),dh();break;case 5:hh(c);break;case 4:Gs();break;case 13:We(Xe);break;case 19:We(Xe);break;case 10:oh(c.type._context);break;case 22:case 23:Hh()}o=o.return}if(Et=n,at=n=oi(n.current,null),Rt=hn=i,dt=0,wa=null,Fh=sl=Wi=0,Jt=Ea=null,Bi!==null){for(i=0;i<Bi.length;i++)if(o=Bi[i],c=o.interleaved,c!==null){o.interleaved=null;var f=c.next,p=o.pending;if(p!==null){var v=p.next;p.next=f,c.next=v}o.pending=c}Bi=null}return n}function pg(n,i){do{var o=at;try{if(sh(),Qu.current=Ju,Gu){for(var c=Ye.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Gu=!1}if(Hi=0,wt=ft=Ye=null,pa=!1,ma=0,Mh.current=null,o===null||o.return===null){dt=1,wa=i,at=null;break}e:{var p=n,v=o.return,I=o,k=i;if(i=Rt,I.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var F=k,H=I,W=H.tag;if((H.mode&1)===0&&(W===0||W===11||W===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var ee=Um(v);if(ee!==null){ee.flags&=-257,jm(ee,v,I,p,i),ee.mode&1&&Fm(p,F,i),i=ee,k=F;var ie=i.updateQueue;if(ie===null){var ae=new Set;ae.add(k),i.updateQueue=ae}else ie.add(k);break e}else{if((i&1)===0){Fm(p,F,i),Wh();break e}k=Error(t(426))}}else if(Qe&&I.mode&1){var it=Um(v);if(it!==null){(it.flags&65536)===0&&(it.flags|=256),jm(it,v,I,p,i),rh(Xs(k,I));break e}}p=k=Xs(k,I),dt!==4&&(dt=2),Ea===null?Ea=[p]:Ea.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,i&=-i,p.lanes|=i;var O=Om(p,k,i);lm(p,O);break e;case 1:I=k;var P=p.type,M=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(ni===null||!ni.has(M)))){p.flags|=65536,i&=-i,p.lanes|=i;var X=Mm(p,I,i);lm(p,X);break e}}p=p.return}while(p!==null)}yg(o)}catch(ue){i=ue,at===o&&o!==null&&(at=o=o.return);continue}break}while(!0)}function mg(){var n=il.current;return il.current=Ju,n===null?Ju:n}function Wh(){(dt===0||dt===3||dt===2)&&(dt=4),Et===null||(Wi&268435455)===0&&(sl&268435455)===0||si(Et,Rt)}function hl(n,i){var o=De;De|=2;var c=mg();(Et!==n||Rt!==i)&&(Pr=null,Qi(n,i));do try{TT();break}catch(f){pg(n,f)}while(!0);if(sh(),De=o,il.current=c,at!==null)throw Error(t(261));return Et=null,Rt=0,dt}function TT(){for(;at!==null;)gg(at)}function IT(){for(;at!==null&&!uu();)gg(at)}function gg(n){var i=wg(n.alternate,n,hn);n.memoizedProps=n.pendingProps,i===null?yg(n):at=i,Mh.current=null}function yg(n){var i=n;do{var o=i.alternate;if(n=i.return,(i.flags&32768)===0){if(o=mT(o,i,hn),o!==null){at=o;return}}else{if(o=gT(o,i),o!==null){o.flags&=32767,at=o;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{dt=6,at=null;return}}if(i=i.sibling,i!==null){at=i;return}at=i=n}while(i!==null);dt===0&&(dt=5)}function Gi(n,i,o){var c=Ae,f=Tn.transition;try{Tn.transition=null,Ae=1,ST(n,i,o,c)}finally{Tn.transition=f,Ae=c}return null}function ST(n,i,o,c){do eo();while(ri!==null);if((De&6)!==0)throw Error(t(327));o=n.finishedWork;var f=n.finishedLanes;if(o===null)return null;if(n.finishedWork=null,n.finishedLanes=0,o===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(n,p),n===Et&&(at=Et=null,Rt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||al||(al=!0,Eg(mn,function(){return eo(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=Tn.transition,Tn.transition=null;var v=Ae;Ae=1;var I=De;De|=4,Mh.current=null,_T(n,o),ag(o,n),qE(Wc),Wr=!!Hc,Wc=Hc=null,n.current=o,vT(o),Pc(),De=I,Ae=v,Tn.transition=p}else n.current=o;if(al&&(al=!1,ri=n,ul=f),p=n.pendingLanes,p===0&&(ni=null),hu(o.stateNode),Zt(n,$e()),i!==null)for(c=n.onRecoverableError,o=0;o<i.length;o++)f=i[o],c(f.value,{componentStack:f.stack,digest:f.digest});if(ol)throw ol=!1,n=jh,jh=null,n;return(ul&1)!==0&&n.tag!==0&&eo(),p=n.pendingLanes,(p&1)!==0?n===zh?Ta++:(Ta=0,zh=n):Ta=0,Jr(),null}function eo(){if(ri!==null){var n=qr(ul),i=Tn.transition,o=Ae;try{if(Tn.transition=null,Ae=16>n?16:n,ri===null)var c=!1;else{if(n=ri,ri=null,ul=0,(De&6)!==0)throw Error(t(331));var f=De;for(De|=4,re=n.current;re!==null;){var p=re,v=p.child;if((re.flags&16)!==0){var I=p.deletions;if(I!==null){for(var k=0;k<I.length;k++){var F=I[k];for(re=F;re!==null;){var H=re;switch(H.tag){case 0:case 11:case 15:va(8,H,p)}var W=H.child;if(W!==null)W.return=H,re=W;else for(;re!==null;){H=re;var q=H.sibling,ee=H.return;if(ng(H),H===F){re=null;break}if(q!==null){q.return=ee,re=q;break}re=ee}}}var ie=p.alternate;if(ie!==null){var ae=ie.child;if(ae!==null){ie.child=null;do{var it=ae.sibling;ae.sibling=null,ae=it}while(ae!==null)}}re=p}}if((p.subtreeFlags&2064)!==0&&v!==null)v.return=p,re=v;else e:for(;re!==null;){if(p=re,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:va(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,re=O;break e}re=p.return}}var P=n.current;for(re=P;re!==null;){v=re;var M=v.child;if((v.subtreeFlags&2064)!==0&&M!==null)M.return=v,re=M;else e:for(v=P;re!==null;){if(I=re,(I.flags&2048)!==0)try{switch(I.tag){case 0:case 11:case 15:rl(9,I)}}catch(ue){et(I,I.return,ue)}if(I===v){re=null;break e}var X=I.sibling;if(X!==null){X.return=I.return,re=X;break e}re=I.return}}if(De=f,Jr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(Di,n)}catch{}c=!0}return c}finally{Ae=o,Tn.transition=i}}return!1}function _g(n,i,o){i=Xs(o,i),i=Om(n,i,1),n=ei(n,i,1),i=Wt(),n!==null&&($r(n,1,i),Zt(n,i))}function et(n,i,o){if(n.tag===3)_g(n,n,o);else for(;i!==null;){if(i.tag===3){_g(i,n,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ni===null||!ni.has(c))){n=Xs(o,n),n=Mm(i,n,1),i=ei(i,n,1),n=Wt(),i!==null&&($r(i,1,n),Zt(i,n));break}}i=i.return}}function AT(n,i,o){var c=n.pingCache;c!==null&&c.delete(i),i=Wt(),n.pingedLanes|=n.suspendedLanes&o,Et===n&&(Rt&o)===o&&(dt===4||dt===3&&(Rt&130023424)===Rt&&500>$e()-Uh?Qi(n,0):Fh|=o),Zt(n,i)}function vg(n,i){i===0&&((n.mode&1)===0?i=1:(i=Is,Is<<=1,(Is&130023424)===0&&(Is=4194304)));var o=Wt();n=Cr(n,i),n!==null&&($r(n,i,o),Zt(n,o))}function CT(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),vg(n,o)}function kT(n,i){var o=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),vg(n,o)}var wg;wg=function(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps||Gt.current)Yt=!0;else{if((n.lanes&o)===0&&(i.flags&128)===0)return Yt=!1,pT(n,i,o);Yt=(n.flags&131072)!==0}else Yt=!1,Qe&&(i.flags&1048576)!==0&&Zp(i,ju,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;tl(n,i),n=i.pendingProps;var f=$s(i,bt.current);Qs(i,o),f=gh(null,i,c,n,f,o);var p=yh();return i.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Xt(c)?(p=!0,Mu(i)):p=!1,i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,lh(i),f.updater=Zu,i.stateNode=f,f._reactInternals=i,Ih(i,c,n,o),i=kh(null,i,c,!0,p,o)):(i.tag=0,Qe&&p&&Zc(i),Ht(null,i,f,o),i=i.child),i;case 16:c=i.elementType;e:{switch(tl(n,i),n=i.pendingProps,f=c._init,c=f(c._payload),i.type=c,f=i.tag=PT(c),n=Un(c,n),f){case 0:i=Ch(null,i,c,n,o);break e;case 1:i=Wm(null,i,c,n,o);break e;case 11:i=zm(null,i,c,n,o);break e;case 14:i=$m(null,i,c,Un(c.type,n),o);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Un(c,f),Ch(n,i,c,f,o);case 1:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Un(c,f),Wm(n,i,c,f,o);case 3:e:{if(Km(i),n===null)throw Error(t(387));c=i.pendingProps,p=i.memoizedState,f=p.element,um(n,i),Wu(i,c,null,o);var v=i.memoizedState;if(c=v.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){f=Xs(Error(t(423)),i),i=Qm(n,i,c,o,f);break e}else if(c!==f){f=Xs(Error(t(424)),i),i=Qm(n,i,c,o,f);break e}else for(cn=Gr(i.stateNode.containerInfo.firstChild),ln=i,Qe=!0,Fn=null,o=om(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Hs(),c===f){i=Rr(n,i,o);break e}Ht(n,i,c,o)}i=i.child}return i;case 5:return hm(i),n===null&&nh(i),c=i.type,f=i.pendingProps,p=n!==null?n.memoizedProps:null,v=f.children,Kc(c,f)?v=null:p!==null&&Kc(c,p)&&(i.flags|=32),Hm(n,i),Ht(n,i,v,o),i.child;case 6:return n===null&&nh(i),null;case 13:return Gm(n,i,o);case 4:return ch(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=Ws(i,null,c,o):Ht(n,i,c,o),i.child;case 11:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Un(c,f),zm(n,i,c,f,o);case 7:return Ht(n,i,i.pendingProps,o),i.child;case 8:return Ht(n,i,i.pendingProps.children,o),i.child;case 12:return Ht(n,i,i.pendingProps.children,o),i.child;case 10:e:{if(c=i.type._context,f=i.pendingProps,p=i.memoizedProps,v=f.value,Be(Bu,c._currentValue),c._currentValue=v,p!==null)if(Mn(p.value,v)){if(p.children===f.children&&!Gt.current){i=Rr(n,i,o);break e}}else for(p=i.child,p!==null&&(p.return=i);p!==null;){var I=p.dependencies;if(I!==null){v=p.child;for(var k=I.firstContext;k!==null;){if(k.context===c){if(p.tag===1){k=kr(-1,o&-o),k.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var H=F.pending;H===null?k.next=k:(k.next=H.next,H.next=k),F.pending=k}}p.lanes|=o,k=p.alternate,k!==null&&(k.lanes|=o),ah(p.return,o,i),I.lanes|=o;break}k=k.next}}else if(p.tag===10)v=p.type===i.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(t(341));v.lanes|=o,I=v.alternate,I!==null&&(I.lanes|=o),ah(v,o,i),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===i){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Ht(n,i,f.children,o),i=i.child}return i;case 9:return f=i.type,c=i.pendingProps.children,Qs(i,o),f=wn(f),c=c(f),i.flags|=1,Ht(n,i,c,o),i.child;case 14:return c=i.type,f=Un(c,i.pendingProps),f=Un(c.type,f),$m(n,i,c,f,o);case 15:return Bm(n,i,i.type,i.pendingProps,o);case 17:return c=i.type,f=i.pendingProps,f=i.elementType===c?f:Un(c,f),tl(n,i),i.tag=1,Xt(c)?(n=!0,Mu(i)):n=!1,Qs(i,o),bm(i,c,f),Ih(i,c,f,o),kh(null,i,c,!0,n,o);case 19:return Ym(n,i,o);case 22:return qm(n,i,o)}throw Error(t(156,i.tag))};function Eg(n,i){return Es(n,i)}function RT(n,i,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,i,o,c){return new RT(n,i,o,c)}function Kh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function PT(n){if(typeof n=="function")return Kh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===b)return 11;if(n===Dt)return 14}return 2}function oi(n,i){var o=n.alternate;return o===null?(o=In(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&14680064,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function fl(n,i,o,c,f,p){var v=2;if(c=n,typeof n=="function")Kh(n)&&(v=1);else if(typeof n=="string")v=5;else e:switch(n){case R:return Xi(o.children,f,p,i);case T:v=8,f|=8;break;case C:return n=In(12,o,i,f|2),n.elementType=C,n.lanes=p,n;case A:return n=In(13,o,i,f),n.elementType=A,n.lanes=p,n;case nt:return n=In(19,o,i,f),n.elementType=nt,n.lanes=p,n;case Fe:return dl(o,f,p,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case V:v=10;break e;case x:v=9;break e;case b:v=11;break e;case Dt:v=14;break e;case Nt:v=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return i=In(v,o,i,f),i.elementType=n,i.type=c,i.lanes=p,i}function Xi(n,i,o,c){return n=In(7,n,c,i),n.lanes=o,n}function dl(n,i,o,c){return n=In(22,n,c,i),n.elementType=Fe,n.lanes=o,n.stateNode={isHidden:!1},n}function Qh(n,i,o){return n=In(6,n,null,i),n.lanes=o,n}function Gh(n,i,o){return i=In(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function VT(n,i,o,c,f){this.tag=i,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zr(0),this.expirationTimes=zr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zr(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Xh(n,i,o,c,f,p,v,I,k){return n=new VT(n,i,o,I,k),i===1?(i=1,p===!0&&(i|=8)):i=0,p=In(3,null,null,i),n.current=p,p.stateNode=n,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(p),n}function xT(n,i,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:c==null?null:""+c,children:n,containerInfo:i,implementation:o}}function Tg(n){if(!n)return Yr;n=n._reactInternals;e:{if(Vn(n)!==n||n.tag!==1)throw Error(t(170));var i=n;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Xt(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(n.tag===1){var o=n.type;if(Xt(o))return Xp(n,o,i)}return i}function Ig(n,i,o,c,f,p,v,I,k){return n=Xh(o,c,!0,n,f,p,v,I,k),n.context=Tg(null),o=n.current,c=Wt(),f=ii(o),p=kr(c,f),p.callback=i??null,ei(o,p,f),n.current.lanes=f,$r(n,f,c),Zt(n,c),n}function pl(n,i,o,c){var f=i.current,p=Wt(),v=ii(f);return o=Tg(o),i.context===null?i.context=o:i.pendingContext=o,i=kr(p,v),i.payload={element:n},c=c===void 0?null:c,c!==null&&(i.callback=c),n=ei(f,i,v),n!==null&&($n(n,f,v,p),Hu(n,f,v)),v}function ml(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Sg(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function Yh(n,i){Sg(n,i),(n=n.alternate)&&Sg(n,i)}function DT(){return null}var Ag=typeof reportError=="function"?reportError:function(n){console.error(n)};function Jh(n){this._internalRoot=n}gl.prototype.render=Jh.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(t(409));pl(n,i,null,null)},gl.prototype.unmount=Jh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Ki(function(){pl(null,n,null,null)}),i[Tr]=null}};function gl(n){this._internalRoot=n}gl.prototype.unstable_scheduleHydration=function(n){if(n){var i=gu();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Yn.length&&i!==0&&i<Yn[o].priority;o++);Yn.splice(o,0,n),o===0&&vu(n)}};function Zh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function yl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Cg(){}function NT(n,i,o,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var F=ml(v);p.call(F)}}var v=Ig(i,c,n,0,null,!1,!1,"",Cg);return n._reactRootContainer=v,n[Tr]=v.current,oa(n.nodeType===8?n.parentNode:n),Ki(),v}for(;f=n.lastChild;)n.removeChild(f);if(typeof c=="function"){var I=c;c=function(){var F=ml(k);I.call(F)}}var k=Xh(n,0,!1,null,null,!1,!1,"",Cg);return n._reactRootContainer=k,n[Tr]=k.current,oa(n.nodeType===8?n.parentNode:n),Ki(function(){pl(i,k,o,c)}),k}function _l(n,i,o,c,f){var p=o._reactRootContainer;if(p){var v=p;if(typeof f=="function"){var I=f;f=function(){var k=ml(v);I.call(k)}}pl(i,v,n,f)}else v=NT(o,i,n,f,c);return ml(v)}pu=function(n){switch(n.tag){case 3:var i=n.stateNode;if(i.current.memoizedState.isDehydrated){var o=jr(i.pendingLanes);o!==0&&(Br(i,o|1),Zt(i,$e()),(De&6)===0&&(Zs=$e()+500,Jr()))}break;case 13:Ki(function(){var c=Cr(n,1);if(c!==null){var f=Wt();$n(c,n,1,f)}}),Yh(n,1)}},Ss=function(n){if(n.tag===13){var i=Cr(n,134217728);if(i!==null){var o=Wt();$n(i,n,134217728,o)}Yh(n,134217728)}},mu=function(n){if(n.tag===13){var i=ii(n),o=Cr(n,i);if(o!==null){var c=Wt();$n(o,n,i,c)}Yh(n,i)}},gu=function(){return Ae},yu=function(n,i){var o=Ae;try{return Ae=n,i()}finally{Ae=o}},ms=function(n,i,o){switch(i){case"input":if(xo(n,o),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==n&&c.form===n.form){var f=Lu(c);if(!f)throw Error(t(90));ls(c),xo(c,f)}}}break;case"textarea":ds(n,o);break;case"select":i=o.value,i!=null&&pr(n,!!o.multiple,i,!1)}},ki=qh,zo=Ki;var bT={usingClientEntryPoint:!1,Events:[la,js,Lu,Gn,jo,qh]},Ia={findFiberByHostInstance:Ui,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LT={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=qo(n),n===null?null:n.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||DT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{Di=vl.inject(LT),sn=vl}catch{}}return en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bT,en.createPortal=function(n,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zh(i))throw Error(t(200));return xT(n,i,null,o)},en.createRoot=function(n,i){if(!Zh(n))throw Error(t(299));var o=!1,c="",f=Ag;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(f=i.onRecoverableError)),i=Xh(n,1,!1,null,null,o,!1,c,f),n[Tr]=i.current,oa(n.nodeType===8?n.parentNode:n),new Jh(i)},en.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=qo(i),n=n===null?null:n.stateNode,n},en.flushSync=function(n){return Ki(n)},en.hydrate=function(n,i,o){if(!yl(i))throw Error(t(200));return _l(null,n,i,!0,o)},en.hydrateRoot=function(n,i,o){if(!Zh(n))throw Error(t(405));var c=o!=null&&o.hydratedSources||null,f=!1,p="",v=Ag;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),i=Ig(i,null,n,1,o??null,f,!1,p,v),n[Tr]=i.current,oa(n),c)for(n=0;n<c.length;n++)o=c[n],f=o._getVersion,f=f(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,f]:i.mutableSourceEagerHydrationData.push(o,f);return new gl(i)},en.render=function(n,i,o){if(!yl(i))throw Error(t(200));return _l(null,n,i,!1,o)},en.unmountComponentAtNode=function(n){if(!yl(n))throw Error(t(40));return n._reactRootContainer?(Ki(function(){_l(null,null,n,!1,function(){n._reactRootContainer=null,n[Tr]=null})}),!0):!1},en.unstable_batchedUpdates=qh,en.unstable_renderSubtreeIntoContainer=function(n,i,o,c){if(!yl(o))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return _l(n,i,o,!1,c)},en.version="18.3.1-next-f1338f8080-20240426",en}var bg;function HT(){if(bg)return nf.exports;bg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nf.exports=qT(),nf.exports}var Lg;function WT(){if(Lg)return wl;Lg=1;var r=HT();return wl.createRoot=r.createRoot,wl.hydrateRoot=r.hydrateRoot,wl}WT();function __(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}function KT(r,e){var t;return(t=void 0)==null?void 0:t.get(e)}function QT(r){var e,t;const s=typeof r;return s==="string"?`"${r}"`:s==="number"||s==="bigint"||s==="boolean"?`${r}`:s==="object"||s==="function"?(r&&((t=(e=Object.getPrototypeOf(r))==null?void 0:e.constructor)==null?void 0:t.name))??"null":s}function co(r,e,t,s,a){const l=a&&"input"in a?a.input:t.value,h=(a==null?void 0:a.expected)??r.expects??null,m=(a==null?void 0:a.received)??QT(l),g={kind:r.kind,type:r.type,input:l,expected:h,received:m,message:`Invalid ${e}: ${h?`Expected ${h} but r`:"R"}eceived ${m}`,requirement:r.requirement,path:a==null?void 0:a.path,issues:a==null?void 0:a.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},_=r.kind==="schema",E=(a==null?void 0:a.message)??r.message??KT(r.reference,g.lang)??(_?(g.lang,void 0):null)??s.message??(g.lang,void 0);E&&(g.message=typeof E=="function"?E(g):E),_&&(t.typed=!1),t.issues?t.issues.push(g):t.issues=[g]}function Or(r){return{version:1,vendor:"valibot",validate(e){return r["~run"]({value:e},__())}}}function GT(r,e){return Object.hasOwn(r,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}var XT=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function cd(r,e,t){return typeof r.default=="function"?r.default(e,t):r.default}function v_(r,e){return!r["~run"]({value:e},{abortEarly:!0}).issues}function If(r){return{kind:"schema",type:"boolean",reference:If,expects:"boolean",async:!1,message:r,get"~standard"(){return Or(this)},"~run"(e,t){return typeof e.value=="boolean"?e.typed=!0:co(this,"type",e,t),e}}}function hd(r){return{kind:"schema",type:"function",reference:hd,expects:"Function",async:!1,message:r,get"~standard"(){return Or(this)},"~run"(e,t){return typeof e.value=="function"?e.typed=!0:co(this,"type",e,t),e}}}function xr(r,e){return{kind:"schema",type:"loose_object",reference:xr,expects:"Object",async:!1,entries:r,message:e,get"~standard"(){return Or(this)},"~run"(t,s){var a;const l=t.value;if(l&&typeof l=="object"){t.typed=!0,t.value={};for(const h in this.entries){const m=this.entries[h];if(h in l||(m.type==="exact_optional"||m.type==="optional"||m.type==="nullish")&&m.default!==void 0){const g=h in l?l[h]:cd(m),_=m["~run"]({value:g},s);if(_.issues){const E={type:"object",origin:"value",input:l,key:h,value:g};for(const S of _.issues)S.path?S.path.unshift(E):S.path=[E],(a=t.issues)==null||a.push(S);if(t.issues||(t.issues=_.issues),s.abortEarly){t.typed=!1;break}}_.typed||(t.typed=!1),t.value[h]=_.value}else if(m.type!=="exact_optional"&&m.type!=="optional"&&m.type!=="nullish"&&(co(this,"key",t,s,{input:void 0,expected:`"${h}"`,path:[{type:"object",origin:"key",input:l,key:h,value:l[h]}]}),s.abortEarly))break}if(!t.issues||!s.abortEarly)for(const h in l)GT(l,h)&&!(h in this.entries)&&(t.value[h]=l[h])}else co(this,"type",t,s);return t}}}function Ca(r,e){return{kind:"schema",type:"nullish",reference:Ca,expects:`(${r.expects} | null | undefined)`,async:!1,wrapped:r,default:e,get"~standard"(){return Or(this)},"~run"(t,s){return(t.value===null||t.value===void 0)&&(this.default!==void 0&&(t.value=cd(this,t,s)),t.value===null||t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,s)}}}function Sf(r){return{kind:"schema",type:"number",reference:Sf,expects:"number",async:!1,message:r,get"~standard"(){return Or(this)},"~run"(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:co(this,"type",e,t),e}}}function Af(r,e){return{kind:"schema",type:"optional",reference:Af,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:e,get"~standard"(){return Or(this)},"~run"(t,s){return t.value===void 0&&(this.default!==void 0&&(t.value=cd(this,t,s)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,s)}}}function Zi(r){return{kind:"schema",type:"string",reference:Zi,expects:"string",async:!1,message:r,get"~standard"(){return Or(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:co(this,"type",e,t),e}}}function w_(){return{kind:"schema",type:"unknown",reference:w_,expects:"unknown",async:!1,get"~standard"(){return Or(this)},"~run"(r){return r.typed=!0,r}}}function Og(r,e,t){const s=r["~run"]({value:e},__(t));if(s.issues)throw new XT(s.issues);return s.value}function YT(...r){return{...r[0],pipe:r,get"~standard"(){return Or(this)},"~run"(e,t){for(const s of r)if(s.kind!=="metadata"){if(e.issues&&(s.kind==="schema"||s.kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=s["~run"](e,t))}return e}}}function E_(r){return v_(xr({TelegramWebviewProxy:xr({postEvent:hd()})}),r)}function JT(){try{return window.self!==window.top}catch{return!0}}var ZT=Object.defineProperty,e0=(r,e,t)=>e in r?ZT(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mg=(r,e,t)=>e0(r,typeof e!="symbol"?e+"":e,t);function t0(r){return e=>e instanceof r}function T_(r,e){e||(e=[]);class t extends Error{constructor(...a){const l=typeof e=="function"?e(...a):typeof e=="string"?[e]:e||[];super(...l),this.name=r}}return Object.defineProperty(t,"name",{value:r}),[t,t0(t)]}const[n0,QP]=T_("CancelledError","Promise was canceled"),[r0,GP]=T_("TimeoutError",(r,e)=>[`Timeout reached: ${r}ms`,{cause:e}]),I_=Symbol("Resolved");function Fg(r){return Array.isArray(r)&&r[0]===I_}function i0(r){return[I_,r]}function Ug(r,e){return r.reject=e.reject,r.abort=e.abort,r}let S_=class Cf extends Promise{constructor(e,t){let s,a;super((l,h)=>{let m,g;typeof e=="function"?(m=e,g=t):g=e;const _=[],E=G=>(...R)=>{const T=G(...R);return _.forEach(C=>C()),T},S=new AbortController,{signal:D}=S;a=G=>{!D.aborted&&S.abort(G)};const U=()=>D.reason,Q=G=>{const R=()=>{G(U())};D.addEventListener("abort",R,!0);const T=()=>{D.removeEventListener("abort",R,!0)};return _.push(T),T},Y=E(G=>{l(G),a(i0(G))});s=E(G=>{h(G),a(G)}),g||(g={});const{abortSignal:z,rejectOnAbort:ge=!0}=g;if(z)if(z.aborted){const{reason:G}=z;if(ge)return s(G);a(G)}else{const G=()=>{a(z.reason)};z.addEventListener("abort",G),_.push(()=>{z.removeEventListener("abort",G)})}ge&&Q(h);const{timeout:se}=g;if(se){const G=setTimeout(()=>{a(new r0(se))},se);_.push(()=>{clearTimeout(G)})}const oe=()=>D.aborted,me=()=>Fg(U()),ke=()=>{const G=U();return Fg(G)?G[1]:void 0};try{const G=m&&m(Y,s,{abortReason:U,abortSignal:D,isAborted:oe,isResolved:me,onAborted:Q,onResolved:R=>Q(()=>{me()&&R(ke())}),resolved:ke,throwIfAborted(){if(oe())throw U()}});G instanceof Promise&&G.catch(s)}catch(G){s(G)}}),Mg(this,"abort"),Mg(this,"reject"),this.abort=a,this.reject=s}static fn(e,t){return new Cf(async(s,a,l)=>{try{s(await e(l))}catch(h){a(h)}},t)}static resolve(e){return this.fn(()=>e)}static reject(e){return new Cf((t,s)=>{s(e)})}cancel(){this.abort(new n0)}catch(e){return this.then(void 0,e)}finally(e){return Ug(super.finally(e),this)}then(e,t){return Ug(super.then(e,t),this)}};function s0(r){return r.replace(/_[a-z]/g,e=>e[1].toUpperCase())}function o0(r){return Object.entries(r).reduce((e,[t,s])=>(e[s0(t)]=s,e),{})}function kf(r){const e=o0(r);for(const t in e){const s=e[t];s&&typeof s=="object"&&!(s instanceof Date)&&(e[t]=Array.isArray(s)?s.map(kf):kf(s))}return e}function A_(r){return`tapps/${r}`}function a0(r,e){sessionStorage.setItem(A_(r),JSON.stringify(e))}function u0(r){const e=sessionStorage.getItem(A_(r));try{return e?JSON.parse(e):void 0}catch{}}function l0(...r){const e=r.flat(1);return[e.push.bind(e),()=>{e.forEach(t=>{t()})}]}function c0(r,e){e||(e={});const{textColor:t,bgColor:s,shouldLog:a}=e,l=a===void 0?!0:a,h=typeof l=="boolean"?()=>l:l;function m(g,_,...E){if(_||h()){const S="font-weight:bold;padding:0 5px;border-radius:5px";console[g](`%c${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c / %c${r}`,`${S};background-color: lightblue;color:black`,"",`${S};${t?`color:${t};`:""}${s?`background-color:${s}`:""}`,...E)}}return[m.bind(void 0,"log"),m.bind(void 0,"error")]}function C_(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}function h0(r,e){var t;return(t=void 0)==null?void 0:t.get(e)}function f0(r){var e,t;const s=typeof r;return s==="string"?`"${r}"`:s==="number"||s==="bigint"||s==="boolean"?`${r}`:s==="object"||s==="function"?(r&&((t=(e=Object.getPrototypeOf(r))==null?void 0:e.constructor)==null?void 0:t.name))??"null":s}function fn(r,e,t,s,a){const l=a&&"input"in a?a.input:t.value,h=(a==null?void 0:a.expected)??r.expects??null,m=(a==null?void 0:a.received)??f0(l),g={kind:r.kind,type:r.type,input:l,expected:h,received:m,message:`Invalid ${e}: ${h?`Expected ${h} but r`:"R"}eceived ${m}`,requirement:r.requirement,path:a==null?void 0:a.path,issues:a==null?void 0:a.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},_=r.kind==="schema",E=(a==null?void 0:a.message)??r.message??h0(r.reference,g.lang)??(_?(g.lang,void 0):null)??s.message??(g.lang,void 0);E&&(g.message=typeof E=="function"?E(g):E),_&&(t.typed=!1),t.issues?t.issues.push(g):t.issues=[g]}function kn(r){return{version:1,vendor:"valibot",validate(e){return r["~run"]({value:e},C_())}}}function k_(r,e){return Object.hasOwn(r,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function d0(r,e){const t=[...new Set(r)];return t.length>1?`(${t.join(` ${e} `)})`:t[0]??"never"}var p0=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function R_(r,e){return{kind:"validation",type:"check",reference:R_,async:!1,expects:null,requirement:r,message:e,"~run"(t,s){return t.typed&&!this.requirement(t.value)&&fn(this,"input",t,s),t}}}function P_(r){return{kind:"validation",type:"integer",reference:P_,async:!1,expects:null,requirement:Number.isInteger,message:r,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&fn(this,"integer",e,t),e}}}function di(r){return{kind:"transformation",type:"transform",reference:di,async:!1,operation:r,"~run"(e){return e.value=this.operation(e.value),e}}}function V_(r,e,t){return typeof r.default=="function"?r.default(e,t):r.default}function m0(r,e){return!r["~run"]({value:e},{abortEarly:!0}).issues}function ka(r){return{kind:"schema",type:"boolean",reference:ka,expects:"boolean",async:!1,message:r,get"~standard"(){return kn(this)},"~run"(e,t){return typeof e.value=="boolean"?e.typed=!0:fn(this,"type",e,t),e}}}function x_(r){return{kind:"schema",type:"date",reference:x_,expects:"Date",async:!1,message:r,get"~standard"(){return kn(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?fn(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:fn(this,"type",e,t),e}}}function D_(r,e){return{kind:"schema",type:"instance",reference:D_,expects:r.name,async:!1,class:r,message:e,get"~standard"(){return kn(this)},"~run"(t,s){return t.value instanceof this.class?t.typed=!0:fn(this,"type",t,s),t}}}function fd(r){return{kind:"schema",type:"lazy",reference:fd,expects:"unknown",async:!1,getter:r,get"~standard"(){return kn(this)},"~run"(e,t){return this.getter(e.value)["~run"](e,t)}}}function wo(r,e){return{kind:"schema",type:"loose_object",reference:wo,expects:"Object",async:!1,entries:r,message:e,get"~standard"(){return kn(this)},"~run"(t,s){var a;const l=t.value;if(l&&typeof l=="object"){t.typed=!0,t.value={};for(const h in this.entries){const m=this.entries[h];if(h in l||(m.type==="exact_optional"||m.type==="optional"||m.type==="nullish")&&m.default!==void 0){const g=h in l?l[h]:V_(m),_=m["~run"]({value:g},s);if(_.issues){const E={type:"object",origin:"value",input:l,key:h,value:g};for(const S of _.issues)S.path?S.path.unshift(E):S.path=[E],(a=t.issues)==null||a.push(S);if(t.issues||(t.issues=_.issues),s.abortEarly){t.typed=!1;break}}_.typed||(t.typed=!1),t.value[h]=_.value}else if(m.type!=="exact_optional"&&m.type!=="optional"&&m.type!=="nullish"&&(fn(this,"key",t,s,{input:void 0,expected:`"${h}"`,path:[{type:"object",origin:"key",input:l,key:h,value:l[h]}]}),s.abortEarly))break}if(!t.issues||!s.abortEarly)for(const h in l)k_(l,h)&&!(h in this.entries)&&(t.value[h]=l[h])}else fn(this,"type",t,s);return t}}}function dd(r){return{kind:"schema",type:"number",reference:dd,expects:"number",async:!1,message:r,get"~standard"(){return kn(this)},"~run"(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:fn(this,"type",e,t),e}}}function Je(r,e){return{kind:"schema",type:"optional",reference:Je,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:e,get"~standard"(){return kn(this)},"~run"(t,s){return t.value===void 0&&(this.default!==void 0&&(t.value=V_(this,t,s)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,s)}}}function N_(r,e,t){return{kind:"schema",type:"record",reference:N_,expects:"Object",async:!1,key:r,value:e,message:t,get"~standard"(){return kn(this)},"~run"(s,a){var l,h;const m=s.value;if(m&&typeof m=="object"){s.typed=!0,s.value={};for(const g in m)if(k_(m,g)){const _=m[g],E=this.key["~run"]({value:g},a);if(E.issues){const D={type:"object",origin:"key",input:m,key:g,value:_};for(const U of E.issues)U.path=[D],(l=s.issues)==null||l.push(U);if(s.issues||(s.issues=E.issues),a.abortEarly){s.typed=!1;break}}const S=this.value["~run"]({value:_},a);if(S.issues){const D={type:"object",origin:"value",input:m,key:g,value:_};for(const U of S.issues)U.path?U.path.unshift(D):U.path=[D],(h=s.issues)==null||h.push(U);if(s.issues||(s.issues=S.issues),a.abortEarly){s.typed=!1;break}}(!E.typed||!S.typed)&&(s.typed=!1),E.typed&&(s.value[E.value]=S.value)}}else fn(this,"type",s,a);return s}}}function je(r){return{kind:"schema",type:"string",reference:je,expects:"string",async:!1,message:r,get"~standard"(){return kn(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:fn(this,"type",e,t),e}}}function jg(r){let e;if(r)for(const t of r)e?e.push(...t.issues):e=t.issues;return e}function b_(r,e){return{kind:"schema",type:"union",reference:b_,expects:d0(r.map(t=>t.expects),"|"),async:!1,options:r,message:e,get"~standard"(){return kn(this)},"~run"(t,s){let a,l,h;for(const m of this.options){const g=m["~run"]({value:t.value},s);if(g.typed)if(g.issues)l?l.push(g):l=[g];else{a=g;break}else h?h.push(g):h=[g]}if(a)return a;if(l){if(l.length===1)return l[0];fn(this,"type",t,s,{issues:jg(l)}),t.typed=!0}else{if((h==null?void 0:h.length)===1)return h[0];fn(this,"type",t,s,{issues:jg(h)})}return t}}}function L_(){return{kind:"schema",type:"unknown",reference:L_,expects:"unknown",async:!1,get"~standard"(){return kn(this)},"~run"(r){return r.typed=!0,r}}}function O_(r,e,t){const s=r["~run"]({value:e},C_(t));if(s.issues)throw new p0(s.issues);return s.value}function pi(...r){return{...r[0],pipe:r,get"~standard"(){return kn(this)},"~run"(e,t){for(const s of r)if(s.kind!=="metadata"){if(e.issues&&(s.kind==="schema"||s.kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=s["~run"](e,t))}return e}}}function g0(r){return r.replace(/_[a-z]/g,e=>e[1].toUpperCase())}function y0(r){return Object.entries(r).reduce((e,[t,s])=>(e[g0(t)]=s,e),{})}function Rf(r){const e=y0(r);for(const t in e){const s=e[t];s&&typeof s=="object"&&!(s instanceof Date)&&(e[t]=Array.isArray(s)?s.map(Rf):Rf(s))}return e}function pd(r){return di(e=>r?Rf(e):e)}function M_(r){return e=>pi(r,pd(e))}function _0(r){return(e,t)=>O_(pi(r,pd(t)),e)}function F_(){return di(JSON.parse)}function md(r){const e=M_(r);return t=>pi(je(),F_(),e(t))}function v0(r){return di(e=>{const t={};return new URLSearchParams(e).forEach((s,a)=>{const l=t[a];Array.isArray(l)?l.push(s):l===void 0?t[a]=s:t[a]=[l,s]}),O_(r,t)})}function U_(r){return e=>pi(b_([je(),D_(URLSearchParams)]),v0(r),pd(e))}const zg=Je(fd(()=>S0())),w0=wo({id:dd(),photo_url:Je(je()),type:je(),title:je(),username:Je(je())}),E0=wo({added_to_attachment_menu:Je(ka()),allows_write_to_pm:Je(ka()),first_name:je(),id:dd(),is_bot:Je(ka()),is_premium:Je(ka()),last_name:Je(je()),language_code:Je(je()),photo_url:Je(je()),username:Je(je())}),T0=wo({auth_date:pi(je(),di(r=>new Date(Number(r)*1e3)),x_()),can_send_after:Je(pi(je(),di(Number),P_())),chat:Je(fd(()=>I0())),chat_type:Je(je()),chat_instance:Je(je()),hash:je(),query_id:Je(je()),receiver:zg,start_param:Je(je()),signature:je(),user:zg}),I0=md(w0),S0=md(E0),A0=U_(T0);function C0(r){return/^#[\da-f]{6}$/i.test(r)}const k0=M_(N_(je(),pi(je(),R_(C0),di(r=>r)))),of=Je(pi(je(),di(r=>r==="1"))),$g=md(k0()),R0=wo({tgWebAppBotInline:of,tgWebAppData:Je(A0()),tgWebAppDefaultColors:Je($g()),tgWebAppFullscreen:of,tgWebAppPlatform:je(),tgWebAppShowSettings:of,tgWebAppStartParam:Je(je()),tgWebAppThemeParams:$g(),tgWebAppVersion:je()}),j_=U_(R0),P0=_0(j_()),V0=wo({eventType:je(),eventData:Je(L_())});function x0(r){try{return m0(j_(),r)}catch{return!1}}function D0(r){return{all:r=r||new Map,on:function(e,t){var s=r.get(e);s?s.push(t):r.set(e,[t])},off:function(e,t){var s=r.get(e);s&&(t?s.splice(s.indexOf(t)>>>0,1):r.set(e,[]))},emit:function(e,t){var s=r.get(e);s&&s.slice().map(function(a){a(t)}),(s=r.get("*"))&&s.slice().map(function(a){a(e,t)})}}}function N0(r,e){const t=D0(),s=new Map,a=(l,h,m)=>{m||(m=!1);const g=s.get(l)||new Map;s.set(l,g);const _=g.get(h)||[];g.set(h,_);const E=_.findIndex(S=>S[1]===m);E>=0&&(t.off(l,_[E][0]),_.splice(E,1),!_.length&&g.delete(h),g.size||(s.delete(l),!s.size&&e()))};return[function(l,h,m){!s.size&&r();function g(){a(l,h,m)}function _(...D){m&&g(),l==="*"?h(D):h(...D)}t.on(l,_);const E=s.get(l)||new Map;s.set(l,E);const S=E.get(h)||[];return E.set(h,S),S.push([_,m||!1]),g},a,t.emit,function(){const l=t.all.size;t.all.clear(),s.clear(),l&&e()}]}function Bg(r,e){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:r,eventData:e}),source:window.parent}))}let b0=!1;const[L0,O0]=c0("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog(){return b0}}),M0={clipboard_text_received:xr({req_id:Zi(),data:Ca(Zi())}),custom_method_invoked:xr({req_id:Zi(),result:Af(w_()),error:Af(Zi())}),popup_closed:Ca(xr({button_id:Ca(Zi(),()=>{})}),{}),viewport_changed:xr({height:Sf(),width:Ca(Sf(),()=>window.innerWidth),is_state_stable:If(),is_expanded:If()})};function qg(r){if(r.source!==window.parent)return;let e;try{e=Og(YT(Zi(),F_(),V0),r.data)}catch{return}const{eventType:t,eventData:s}=e,a=M0[t];try{const l=a?Og(a,s):s;F0(t,l)}catch(l){O0(!0,[`An error occurred processing the "${t}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/telegram-apps/issues/new/choose"].join(`
`),e,l)}}const[nn,tc,F0,XP]=N0(()=>{const r=window,e={receiveEvent:Bg};r.TelegramGameProxy_receiveEvent=Bg,r.TelegramGameProxy=e,r.Telegram={WebView:e},window.addEventListener("message",qg)},()=>{["TelegramGameProxy_receiveEvent","TelegramGameProxy","Telegram"].forEach(r=>{delete window[r]}),window.removeEventListener("message",qg)});function U0(r){return e=>e instanceof r}function Eo(r,e){e||(e=[]);class t extends Error{constructor(...a){const l=typeof e=="function"?e(...a):typeof e=="string"?[e]:e||[];super(...l),this.name=r}}return Object.defineProperty(t,"name",{value:r}),[t,U0(t)]}Eo("MethodUnsupportedError",(r,e)=>[`Method "${r}" is unsupported in Mini Apps version ${e}`]);Eo("MethodParameterUnsupportedError",(r,e,t)=>[`Parameter "${e}" of "${r}" method is unsupported in Mini Apps version ${t}`]);const j0=["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","📖 Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/telegram-apps-bridge/environment"].join(`
`),[z0,YP]=Eo("LaunchParamsRetrieveError",j0);Eo("InvalidLaunchParamsError",r=>[`Invalid value for launch params: ${r}`]);const[$0,JP]=Eo("UnknownEnvError"),[B0,ZP]=Eo("InvokeCustomMethodError",r=>[`Server returned error: ${r}`]);function q0(r,e){e()}function H0(r,e){e||(e={});const t=e.equals||Object.is;let s=[],a=r;const l=_=>{if(!t(a,_)){const E=a;a=_,q0(g,()=>{[...s].forEach(([S,D])=>{S(_,E),D&&m(S,!0)})})}};function h(_){const E=typeof _!="object"?{once:_}:_;return{once:E.once||!1,signal:E.signal||!1}}const m=(_,E)=>{const S=h(E),D=s.findIndex(([U,Q])=>U===_&&Q.once===S.once&&Q.signal===S.signal);D>=0&&s.splice(D,1)},g=Object.assign(function(){return W0(g),a},{destroy(){s=[]},set:l,reset(){l(r)},sub(_,E){return s.push([_,h(E)]),()=>m(_,E)},unsub:m,unsubAll(){s=s.filter(_=>_[1].signal)}});return g}const af=[];function W0(r){af.length&&af[af.length-1].add(r)}const K0=H0("https://web.telegram.org");function z_(r,e){L0(!1,"Posting event:",e?{eventType:r,eventData:e}:{eventType:r});const t=window,s=JSON.stringify({eventType:r,eventData:e});if(JT())return t.parent.postMessage(s,K0());if(E_(t)){t.TelegramWebviewProxy.postEvent(r,JSON.stringify(e));return}if(v_(xr({external:xr({notify:hd()})}),t)){t.external.notify(s);return}throw new $0}function gd(r,e,t){t||(t={});const{capture:s}=t,[a,l]=l0();return new S_(h=>{(Array.isArray(e)?e:[e]).forEach(m=>{a(nn(m,g=>{(!s||(Array.isArray(e)?s({event:m,payload:g}):s(g)))&&h(g)}))}),(t.postEvent||z_)(r,t.params)},t).finally(l)}const Hg="launchParams";function Wg(r){return r.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}function Q0(){for(const r of[()=>Wg(window.location.href),()=>{const e=performance.getEntriesByType("navigation")[0];return e&&Wg(e.name)},()=>u0(Hg)]){const e=r();if(e&&x0(e))return a0(Hg,e),e}throw new z0}function Cl(r){const e=P0(Q0());return r?kf(e):e}function Kg(r,e){try{return Cl(),!0}catch{return!1}return S_.fn(async t=>{if(E_(window))return!0;try{return await gd("web_app_request_theme","theme_changed",t),!0}catch{return!1}},{timeout:100})}function G0(r){return({req_id:e})=>e===r}function Qg(r){return r.split(".").map(Number)}function X0(r,e){const t=Qg(r),s=Qg(e),a=Math.max(t.length,s.length);for(let l=0;l<a;l+=1){const h=t[l]||0,m=s[l]||0;if(h!==m)return h>m?1:-1}return 0}function Ft(r,e){return X0(r,e)<=0}function Pf(r,e,t){if(typeof t=="string"){if(r==="web_app_open_link"){if(e==="try_instant_view")return Ft("6.4",t);if(e==="try_browser")return Ft("7.6",t)}if(r==="web_app_set_header_color"&&e==="color")return Ft("6.9",t);if(r==="web_app_close"&&e==="return_back")return Ft("7.6",t);if(r==="web_app_setup_main_button"&&e==="has_shine_effect")return Ft("7.10",t)}switch(r){case"web_app_open_tg_link":case"web_app_open_invoice":case"web_app_setup_back_button":case"web_app_set_background_color":case"web_app_set_header_color":case"web_app_trigger_haptic_feedback":return Ft("6.1",e);case"web_app_open_popup":return Ft("6.2",e);case"web_app_close_scan_qr_popup":case"web_app_open_scan_qr_popup":case"web_app_read_text_from_clipboard":return Ft("6.4",e);case"web_app_switch_inline_query":return Ft("6.7",e);case"web_app_invoke_custom_method":case"web_app_request_write_access":case"web_app_request_phone":return Ft("6.9",e);case"web_app_setup_settings_button":return Ft("6.10",e);case"web_app_biometry_get_info":case"web_app_biometry_open_settings":case"web_app_biometry_request_access":case"web_app_biometry_request_auth":case"web_app_biometry_update_token":return Ft("7.2",e);case"web_app_setup_swipe_behavior":return Ft("7.7",e);case"web_app_share_to_story":return Ft("7.8",e);case"web_app_setup_secondary_button":case"web_app_set_bottom_bar_color":return Ft("7.10",e);case"web_app_request_safe_area":case"web_app_request_content_safe_area":case"web_app_request_fullscreen":case"web_app_exit_fullscreen":case"web_app_set_emoji_status":case"web_app_add_to_home_screen":case"web_app_check_home_screen":case"web_app_request_emoji_status_access":case"web_app_check_location":case"web_app_open_location_settings":case"web_app_request_file_download":case"web_app_request_location":case"web_app_send_prepared_message":case"web_app_start_accelerometer":case"web_app_start_device_orientation":case"web_app_start_gyroscope":case"web_app_stop_accelerometer":case"web_app_stop_device_orientation":case"web_app_stop_gyroscope":case"web_app_toggle_orientation_lock":return Ft("8.0",e);default:return["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"].includes(r)}}function Y0(r,e,t,s){return gd("web_app_invoke_custom_method","custom_method_invoked",{...s||{},params:{method:r,params:e,req_id:t},capture:G0(t)}).then(({result:a,error:l})=>{if(l)throw new B0(l);return a})}function $_(r){return r.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function J0(r){return r.replace(/_([a-z])/g,(e,t)=>`-${t.toLowerCase()}`)}function B_(r){return`tapps/${r}`}function Hn(r,e){sessionStorage.setItem(B_(r),JSON.stringify(e))}function Wn(r){const e=sessionStorage.getItem(B_(r));try{return e?JSON.parse(e):void 0}catch{}}function q_(...r){const e=r.flat(1);return[e.push.bind(e),()=>{e.forEach(t=>{t()})}]}function Z0(){return performance.getEntriesByType("navigation")[0]}function Kn(){const r=Z0();return!!r&&r.type==="reload"}let oo;function eI(r,e){oo&&oo.set(r,e)||e()}function Vf(r){if(oo)return r();oo=new Map;try{r()}finally{oo.forEach(e=>e()),oo=void 0}}function H_(r,e){e||(e={});const t=e.equals||Object.is;let s=[],a=r;const l=_=>{if(!t(a,_)){const E=a;a=_,eI(g,()=>{[...s].forEach(([S,D])=>{S(_,E),D&&m(S,!0)})})}};function h(_){const E=typeof _!="object"?{once:_}:_;return{once:E.once||!1,signal:E.signal||!1}}const m=(_,E)=>{const S=h(E),D=s.findIndex(([U,Q])=>U===_&&Q.once===S.once&&Q.signal===S.signal);D>=0&&s.splice(D,1)},g=Object.assign(function(){return tI(g),a},{destroy(){s=[]},set:l,reset(){l(r)},sub(_,E){return s.push([_,h(E)]),()=>m(_,E)},unsub:m,unsubAll(){s=s.filter(_=>_[1].signal)}});return g}const xa=[];function tI(r){xa.length&&xa[xa.length-1].add(r)}function nI(r,e){let t=new Set,s;function a(){return s||(s=H_(h(),e))}function l(){a().set(h())}function h(){t.forEach(_=>{_.unsub(l,{signal:!0})});const m=new Set;let g;xa.push(m);try{g=r()}finally{xa.pop()}return m.forEach(_=>{_.sub(l,{signal:!0})}),t=m,g}return Object.assign(function(){return a()()},{destroy(){a().destroy()},sub(...m){return a().sub(...m)},unsub(...m){a().unsub(...m)},unsubAll(...m){a().unsubAll(...m)}})}function To(r,e){return H_(r,e)}function pt(r,e){return nI(r,e)}function qe(r,e){const t=To(r,e);return[t,pt(t)]}const uf=To(0),rI=To(z_),[e2,W_]=qe({tgWebAppPlatform:"unknown",tgWebAppVersion:"0.0"}),to=pt(()=>W_().tgWebAppVersion);function iI(){return uf.set(uf()+1),uf().toString()}function Ya(r,e,t){return Y0(r,e,iI(),{...t||{},postEvent:Ge})}const St=(r,e,t)=>(t||(t={}),t.postEvent||(t.postEvent=Ge),gd(r,e,t)),Ge=(r,e)=>rI()(r,e);function sI(r){return e=>e instanceof r}function cr(r,e){e||(e=[]);class t extends Error{constructor(...a){const l=typeof e=="function"?e(...a):typeof e=="string"?[e]:e||[];super(...l),this.name=r}}return Object.defineProperty(t,"name",{value:r}),[t,sI(t)]}function rs(r){return[r]}const[yd,t2]=cr("CSSVarsBoundError","CSS variables are already bound"),[K_,n2]=cr("NotAvailableError",rs);cr("InvalidEnvError",rs);const[Aa,r2]=cr("FunctionNotAvailableError",rs),[Vr,i2]=cr("InvalidArgumentsError",(r,e)=>[r,{cause:e}]),[oI,s2]=cr("ConcurrentCallError",rs),[aI,o2]=cr("SetEmojiStatusError",r=>[`Failed to set emoji status: ${r}`]),[uI,a2]=cr("AccessDeniedError",rs),[lI,u2]=cr("FullscreenFailedError",rs);cr("ShareMessageError",rs);function Gg(){return typeof window>"u"}function _d(r,e,t){t||(t={});const{isSupported:s,isMounted:a,isMounting:l,component:h,supports:m}=t||{},g=`${h?`${h}.`:""}${r}()`,_=s?Array.isArray(s)||typeof s=="object"&&"any"in s?s:[s]:void 0;function E(se){if(m){const oe=m[se];return Pf(oe[0],oe[1],to())}return!0}function S(){if(!_)return;function se(ke){return typeof ke=="function"?ke():Pf(ke,to())?void 0:`it is unsupported in Mini Apps version ${to()}`}const oe=Array.isArray(_)?_:_.any,me=oe.map(se).filter(Boolean);return Array.isArray(_)?me[0]:me.length===oe.length?me[me.length-1]:void 0}function D(...se){for(const oe in m)if(m[oe][2](...se)&&!E(oe))return`option ${oe} is not supported in Mini Apps version ${to()}`}let U;if(m){U={};for(const se in m)U[se]=pt(()=>E(se))}const Q=pt(()=>!S()),Y=pt(()=>to()!=="0.0"),z=pt(()=>!a||a()),ge=pt(()=>Kg()&&!Gg()&&Y()&&Q()&&z());return Object.assign((...se)=>{const oe=`Unable to call the ${g} ${h?"method":"function"}:`;if(Gg()||!Kg())throw new Aa(`${oe} it can't be called outside Mini Apps`);if(!Y())throw new Aa(`${oe} the SDK was not initialized. Use the SDK init() function`);const me=S();if(me)throw new Aa(`${oe} ${me}`);const ke=D(...se);if(ke)throw new Aa(`${oe} ${ke}`);if(!z()){const G=l&&l()?"mounting. Wait for the mount completion":`unmounted. Use the ${h}.mount() method`;throw new Aa(`${oe} the component is ${G}`)}return e(...se)},e,{isAvailable:ge,ifAvailable(...se){return ge()?[!0,e(...se)]:[!1]}},_?{isSupported:Q}:{},U?{supports:U}:{})}function nc(r,e){return e||(e={}),(t,s,a,l)=>_d(t,s,{...e,isSupported:a||e.isSupported,supports:l,component:r})}function Ei(r,e,t){return nc(r,{isSupported:t,isMounted:e})}function dn(r,e){return nc(r,{isSupported:e})}const vd="web_app_setup_back_button",Q_="back_button_pressed",rc="backButton",[Xg,l2]=qe(!1),[xf,c2]=qe(!1),G_=Ei(rc,xf,vd),wd=dn(rc,vd);G_("hide",()=>{Ed(!1)});wd("mount",()=>{xf()||(Ed(Kn()&&Wn(rc)||!1),xf.set(!0))});function Ed(r){r!==Xg()&&(Ge(vd,{is_visible:r}),Hn(rc,r),Xg.set(r))}wd("onClick",r=>nn(Q_,r));wd("offClick",r=>{tc(Q_,r)});G_("show",()=>{Ed(!0)});var cI=Object.defineProperty,hI=(r,e,t)=>e in r?cI(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Df=(r,e,t)=>hI(r,typeof e!="symbol"?e+"":e,t);function fI(r){return e=>e instanceof r}function X_(r,e){e||(e=[]);class t extends Error{constructor(...a){const l=typeof e=="function"?e(...a):typeof e=="string"?[e]:e||[];super(...l),this.name=r}}return Object.defineProperty(t,"name",{value:r}),[t,fI(t)]}const[dI,pI]=X_("CancelledError","Promise was canceled"),[mI,h2]=X_("TimeoutError",(r,e)=>[`Timeout reached: ${r}ms`,{cause:e}]),Y_=Symbol("Resolved");function Yg(r){return Array.isArray(r)&&r[0]===Y_}function gI(r){return[Y_,r]}function Jg(r,e){return r.reject=e.reject,r.abort=e.abort,r}let $t=class Nf extends Promise{constructor(e,t){let s,a;super((l,h)=>{let m,g;typeof e=="function"?(m=e,g=t):g=e;const _=[],E=G=>(...R)=>{const T=G(...R);return _.forEach(C=>C()),T},S=new AbortController,{signal:D}=S;a=G=>{!D.aborted&&S.abort(G)};const U=()=>D.reason,Q=G=>{const R=()=>{G(U())};D.addEventListener("abort",R,!0);const T=()=>{D.removeEventListener("abort",R,!0)};return _.push(T),T},Y=E(G=>{l(G),a(gI(G))});s=E(G=>{h(G),a(G)}),g||(g={});const{abortSignal:z,rejectOnAbort:ge=!0}=g;if(z)if(z.aborted){const{reason:G}=z;if(ge)return s(G);a(G)}else{const G=()=>{a(z.reason)};z.addEventListener("abort",G),_.push(()=>{z.removeEventListener("abort",G)})}ge&&Q(h);const{timeout:se}=g;if(se){const G=setTimeout(()=>{a(new mI(se))},se);_.push(()=>{clearTimeout(G)})}const oe=()=>D.aborted,me=()=>Yg(U()),ke=()=>{const G=U();return Yg(G)?G[1]:void 0};try{const G=m&&m(Y,s,{abortReason:U,abortSignal:D,isAborted:oe,isResolved:me,onAborted:Q,onResolved:R=>Q(()=>{me()&&R(ke())}),resolved:ke,throwIfAborted(){if(oe())throw U()}});G instanceof Promise&&G.catch(s)}catch(G){s(G)}}),Df(this,"abort"),Df(this,"reject"),this.abort=a,this.reject=s}static fn(e,t){return new Nf(async(s,a,l)=>{try{s(await e(l))}catch(h){a(h)}},t)}static resolve(e){return this.fn(()=>e)}static reject(e){return new Nf((t,s)=>{s(e)})}cancel(){this.abort(new dI)}catch(e){return this.then(void 0,e)}finally(e){return Jg(super.finally(e),this)}then(e,t){return Jg(super.then(e,t),this)}};function Zg(r,e){return r.resolve=e.resolve,r}let yI=class bf extends $t{constructor(e,t){let s,a;typeof e=="function"?(s=e,a=t):a=e;let l;super((h,m,g)=>{l=h,s&&s(h,m,g)},a),Df(this,"resolve"),this.resolve=l}static fn(e,t){return new bf((s,a,l)=>{try{Promise.resolve(e(l)).then(s,a)}catch(h){a(h)}},t)}static resolve(e){return this.fn(()=>e)}static reject(e){return new bf((t,s)=>{s(e)})}catch(e){return this.then(void 0,e)}finally(e){return Zg(super.finally(e),this)}then(e,t){return Zg(super.then(e,t),this)}};function rn(r,e,t){t||(t={});const{promise:s,error:a}=t,[l,h]=s?[s,pt(s)]:qe(),[m,g]=a?[a,pt(a)]:qe();return[Object.assign((..._)=>{if(l()){const S=new oI(e);return m.set(S),$t.reject(S)}Vf(()=>{l.set(r(..._)),m.set(void 0)});let E;return l().catch(S=>{throw E=S,S}).finally(()=>{Vf(()=>{l.set(void 0),m.set(E)})})},r),[l,h,pt(()=>!!l())],[m,g]]}function Ja(r,e,t){const[s,...a]=rn(e,`The ${r} component is already mounting`),[l,h]=qe(!1);return[(...m)=>l()?$t.resolve():s(...m).then(g=>{Vf(()=>{l.set(!0),t(g)})}),...a,[l,h]]}const[J_,f2]=qe({available:!1,type:"",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1}),ey="web_app_biometry_get_info",_I=_d("requestBiometry",r=>St(ey,"biometry_info_received",r),{isSupported:ey});function Z_(r){if(!pI(r))throw r}function vI(r){const e=r();e&&e.catch(Z_).cancel()}const Ua="biometry",Td="web_app_biometry_request_auth",ev="biometry_info_received",wI=r=>{ic(Id(r))};function tv(){throw new K_("Biometry is not available")}function Id(r){let e=!1,t=!1,s="",a=!1,l="",h=!1;return r.available&&(e=!0,t=r.token_saved,s=r.device_id,a=r.access_requested,l=r.type,h=r.access_granted),{available:e,tokenSaved:t,deviceId:s,type:l,accessGranted:h,accessRequested:a}}const[EI,TI,II,nv]=Ja(Ua,r=>{const e=Kn()&&Wn(Ua);return e?$t.resolve(e):_I({abortSignal:r}).then(Id)},r=>{nn(ev,wI),ic(r)}),rv=dn(Ua,Td),Sd=Ei(Ua,nv[0],Td);rv("mount",EI);const[,d2,p2]=TI,[,m2]=II,[g2,y2]=nv,[SI,AI,CI]=rn(r=>$t.fn(async e=>{const t=J_();t.available||tv();const s=await St(Td,"biometry_auth_requested",{...r,...e,params:{reason:((r||{}).reason||"").trim()}}),{token:a}=s;return typeof a=="string"&&ic({...t,token:a}),s},r),"Biometry authentication is already in progress");Sd("authenticate",SI);const[,_2,v2]=AI,[,w2]=CI;rv("openSettings",()=>{Ge("web_app_biometry_open_settings")});const[kI,RI,PI]=rn(r=>$t.fn(async e=>{const t=await St("web_app_biometry_request_access",ev,{...r,...e,params:{reason:(r||{}).reason||""}}).then(Id);return t.available||tv(),ic(t),t.accessGranted},r),"Biometry access request is already in progress");Sd("requestAccess",kI);const[,E2,T2]=RI,[,I2]=PI;function ic(r){J_.set(r),Hn(Ua,r)}Sd("updateToken",r=>(r||(r={}),St("web_app_biometry_update_token","biometry_token_updated",{...r,params:{token:r.token||"",reason:r.reason}}).then(e=>e.status)));function sc(r,e){return nc(r,{isMounted:e})}const Ti=nc,oc="closingBehavior",[ty,S2]=qe(!1),[ny,VI]=qe(!1),iv=sc(oc,VI),xI=Ti(oc);iv("disableConfirmation",()=>{Ad(!1)});iv("enableConfirmation",()=>{Ad(!0)});xI("mount",()=>{ny()||(Ad(Kn()&&Wn(oc)||!1),ny.set(!0))});function Ad(r){r!==ty()&&(Ge("web_app_setup_closing_behavior",{need_confirmation:r}),Hn(oc,r),ty.set(r))}function sv(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}function DI(r,e){var t;return(t=void 0)==null?void 0:t.get(e)}function NI(r){var e,t;const s=typeof r;return s==="string"?`"${r}"`:s==="number"||s==="bigint"||s==="boolean"?`${r}`:s==="object"||s==="function"?(r&&((t=(e=Object.getPrototypeOf(r))==null?void 0:e.constructor)==null?void 0:t.name))??"null":s}function Cn(r,e,t,s,a){const l=a&&"input"in a?a.input:t.value,h=(a==null?void 0:a.expected)??r.expects??null,m=(a==null?void 0:a.received)??NI(l),g={kind:r.kind,type:r.type,input:l,expected:h,received:m,message:`Invalid ${e}: ${h?`Expected ${h} but r`:"R"}eceived ${m}`,requirement:r.requirement,path:a==null?void 0:a.path,issues:a==null?void 0:a.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},_=r.kind==="schema",E=(a==null?void 0:a.message)??r.message??DI(r.reference,g.lang)??(_?(g.lang,void 0):null)??s.message??(g.lang,void 0);E&&(g.message=typeof E=="function"?E(g):E),_&&(t.typed=!1),t.issues?t.issues.push(g):t.issues=[g]}function hr(r){return{version:1,vendor:"valibot",validate(e){return r["~run"]({value:e},sv())}}}function ov(r,e){return Object.hasOwn(r,e)&&e!=="__proto__"&&e!=="prototype"&&e!=="constructor"}function bI(r,e){const t=[...new Set(r)];return t.length>1?`(${t.join(` ${e} `)})`:t[0]??"never"}var Lf=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function av(r,e){return{kind:"validation",type:"check",reference:av,async:!1,expects:null,requirement:r,message:e,"~run"(t,s){return t.typed&&!this.requirement(t.value)&&Cn(this,"input",t,s),t}}}function uv(r){return{kind:"transformation",type:"transform",reference:uv,async:!1,operation:r,"~run"(e){return e.value=this.operation(e.value),e}}}function lv(r,e,t){return typeof r.default=="function"?r.default(e,t):r.default}function cv(r,e){return{kind:"schema",type:"array",reference:cv,expects:"Array",async:!1,item:r,message:e,get"~standard"(){return hr(this)},"~run"(t,s){var a;const l=t.value;if(Array.isArray(l)){t.typed=!0,t.value=[];for(let h=0;h<l.length;h++){const m=l[h],g=this.item["~run"]({value:m},s);if(g.issues){const _={type:"array",origin:"value",input:l,key:h,value:m};for(const E of g.issues)E.path?E.path.unshift(_):E.path=[_],(a=t.issues)==null||a.push(E);if(t.issues||(t.issues=g.issues),s.abortEarly){t.typed=!1;break}}g.typed||(t.typed=!1),t.value.push(g.value)}}else Cn(this,"type",t,s);return t}}}function hv(r){return{kind:"schema",type:"date",reference:hv,expects:"Date",async:!1,message:r,get"~standard"(){return hr(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?Cn(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:Cn(this,"type",e,t),e}}}function fv(r,e){return{kind:"schema",type:"instance",reference:fv,expects:r.name,async:!1,class:r,message:e,get"~standard"(){return hr(this)},"~run"(t,s){return t.value instanceof this.class?t.typed=!0:Cn(this,"type",t,s),t}}}function Of(r,e){return{kind:"schema",type:"loose_object",reference:Of,expects:"Object",async:!1,entries:r,message:e,get"~standard"(){return hr(this)},"~run"(t,s){var a;const l=t.value;if(l&&typeof l=="object"){t.typed=!0,t.value={};for(const h in this.entries){const m=this.entries[h];if(h in l||(m.type==="exact_optional"||m.type==="optional"||m.type==="nullish")&&m.default!==void 0){const g=h in l?l[h]:lv(m),_=m["~run"]({value:g},s);if(_.issues){const E={type:"object",origin:"value",input:l,key:h,value:g};for(const S of _.issues)S.path?S.path.unshift(E):S.path=[E],(a=t.issues)==null||a.push(S);if(t.issues||(t.issues=_.issues),s.abortEarly){t.typed=!1;break}}_.typed||(t.typed=!1),t.value[h]=_.value}else if(m.type!=="exact_optional"&&m.type!=="optional"&&m.type!=="nullish"&&(Cn(this,"key",t,s,{input:void 0,expected:`"${h}"`,path:[{type:"object",origin:"key",input:l,key:h,value:l[h]}]}),s.abortEarly))break}if(!t.issues||!s.abortEarly)for(const h in l)ov(l,h)&&!(h in this.entries)&&(t.value[h]=l[h])}else Cn(this,"type",t,s);return t}}}function dv(r){return{kind:"schema",type:"number",reference:dv,expects:"number",async:!1,message:r,get"~standard"(){return hr(this)},"~run"(e,t){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Cn(this,"type",e,t),e}}}function pv(r,e){return{kind:"schema",type:"optional",reference:pv,expects:`(${r.expects} | undefined)`,async:!1,wrapped:r,default:e,get"~standard"(){return hr(this)},"~run"(t,s){return t.value===void 0&&(this.default!==void 0&&(t.value=lv(this,t,s)),t.value===void 0)?(t.typed=!0,t):this.wrapped["~run"](t,s)}}}function mv(r,e,t){return{kind:"schema",type:"record",reference:mv,expects:"Object",async:!1,key:r,value:e,message:t,get"~standard"(){return hr(this)},"~run"(s,a){var l,h;const m=s.value;if(m&&typeof m=="object"){s.typed=!0,s.value={};for(const g in m)if(ov(m,g)){const _=m[g],E=this.key["~run"]({value:g},a);if(E.issues){const D={type:"object",origin:"key",input:m,key:g,value:_};for(const U of E.issues)U.path=[D],(l=s.issues)==null||l.push(U);if(s.issues||(s.issues=E.issues),a.abortEarly){s.typed=!1;break}}const S=this.value["~run"]({value:_},a);if(S.issues){const D={type:"object",origin:"value",input:m,key:g,value:_};for(const U of S.issues)U.path?U.path.unshift(D):U.path=[D],(h=s.issues)==null||h.push(U);if(s.issues||(s.issues=S.issues),a.abortEarly){s.typed=!1;break}}(!E.typed||!S.typed)&&(s.typed=!1),E.typed&&(s.value[E.value]=S.value)}}else Cn(this,"type",s,a);return s}}}function Bn(r){return{kind:"schema",type:"string",reference:Bn,expects:"string",async:!1,message:r,get"~standard"(){return hr(this)},"~run"(e,t){return typeof e.value=="string"?e.typed=!0:Cn(this,"type",e,t),e}}}function ry(r){let e;if(r)for(const t of r)e?e.push(...t.issues):e=t.issues;return e}function gv(r,e){return{kind:"schema",type:"union",reference:gv,expects:bI(r.map(t=>t.expects),"|"),async:!1,options:r,message:e,get"~standard"(){return hr(this)},"~run"(t,s){let a,l,h;for(const m of this.options){const g=m["~run"]({value:t.value},s);if(g.typed)if(g.issues)l?l.push(g):l=[g];else{a=g;break}else h?h.push(g):h=[g]}if(a)return a;if(l){if(l.length===1)return l[0];Cn(this,"type",t,s,{issues:ry(l)}),t.typed=!0}else{if((h==null?void 0:h.length)===1)return h[0];Cn(this,"type",t,s,{issues:ry(h)})}return t}}}function Cd(r,e,t){const s=r["~run"]({value:e},sv(t));if(s.issues)throw new Lf(s.issues);return s.value}function kl(...r){return{...r[0],pipe:r,get"~standard"(){return hr(this)},"~run"(e,t){for(const s of r)if(s.kind!=="metadata"){if(e.issues&&(s.kind==="schema"||s.kind==="transformation")){e.typed=!1;break}(!e.issues||!t.abortEarly&&!t.abortPipeEarly)&&(e=s["~run"](e,t))}return e}}}const LI="web_app_invoke_custom_method",Za=dn("cloudStorage",LI),OI=Za("deleteItem",(r,e)=>{const t=Array.isArray(r)?r:[r];return t.length?Ya("deleteStorageValues",{keys:t},e).then():$t.resolve()});function MI(r,e){const t=Array.isArray(r)?r:[r];return t.length?Ya("getStorageValues",{keys:t},e).then(s=>Cd(mv(kl(Bn(),av(a=>t.includes(a))),Bn()),s)):$t.resolve(typeof r=="string"?"":{})}Za("getItem",MI);const FI=Za("getKeys",r=>Ya("getStorageKeys",{},r).then(e=>Cd(cv(Bn()),e)));Za("setItem",(r,e,t)=>Ya("saveStorageValue",{key:r,value:e},t).then());Za("clear",r=>FI(r).then(OI));const ac="web_app_trigger_haptic_feedback",kd=dn("hapticFeedback",ac);kd("impactOccurred",r=>{Ge(ac,{type:"impact",impact_style:r})});kd("notificationOccurred",r=>{Ge(ac,{type:"notification",notification_type:r})});kd("selectionChanged",()=>{Ge(ac,{type:"selection_change"})});const yv="web_app_open_invoice",UI=dn("invoice",yv);function jI(r,e,t){let s;if(e==="url"){const{hostname:a,pathname:l}=new URL(r,window.location.href);if(a!=="t.me")throw new Vr(`Link has unexpected hostname: ${a}`);const h=l.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);if(!h)throw new Vr('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"');[,,s]=h}else s=r,t=e;return St(yv,"invoice_closed",{...t,params:{slug:s},capture:a=>s===a.slug}).then(a=>a.status)}const[zI,$I,BI]=rn(jI,"Invoice is already opened");UI("open",zI);const[,C2,k2]=$I,[,R2]=BI,Da="locationManager",_v="web_app_check_location",iy="web_app_open_location_settings",Mf=To({available:!1,accessGranted:!1,accessRequested:!1});function qI(r){let e=!1,t,s;return r.available&&(e=!0,t=r.access_requested,s=r.access_granted),{available:e,accessGranted:s||!1,accessRequested:t||!1}}const[HI,WI,KI,vv]=Ja(Da,r=>{const e=Kn()&&Wn(Da);return e?$t.resolve(e):St("web_app_check_location","location_checked",r).then(qI)},r=>{Mf.set(r),Hn(Da,r)}),wv=dn(Da,_v),QI=Ei(Da,vv[0],_v);wv("mount",HI);const[,P2,V2]=WI,[,x2]=KI,[D2,N2]=vv,[GI,XI,YI]=rn(r=>St("web_app_request_location","location_requested",r).then(e=>{if(!e.available)throw Mf.set({...Mf(),available:!1}),new K_("Location data tracking is not available");const{available:t,...s}=e;return s}),"Location request is currently in progress");QI("requestLocation",GI);const[,b2,L2]=XI,[,O2]=YI;wv("openSettings",()=>{Ge(iy)},iy);function Rd(r){const e={};for(const t in r){const s=r[t];s!==void 0&&(e[t]=s)}return e}function JI(r){return{lang:(r==null?void 0:r.lang)??void 0,message:r==null?void 0:r.message,abortEarly:(r==null?void 0:r.abortEarly)??void 0,abortPipeEarly:(r==null?void 0:r.abortPipeEarly)??void 0}}var ZI=class extends Error{constructor(r){super(r[0].message),this.name="ValiError",this.issues=r}};function Pd(r){return{kind:"transformation",type:"transform",reference:Pd,async:!1,operation:r,"~run"(e){return e.value=this.operation(e.value),e}}}function eS(r,e,t){const s=r["~run"]({value:e},JI(t));if(s.issues)throw new ZI(s.issues);return s.value}function tS(){return Pd(JSON.parse)}function nS(r){return Pd(e=>{const t={};return new URLSearchParams(e).forEach((s,a)=>{const l=t[a];Array.isArray(l)?l.push(s):l===void 0?t[a]=s:t[a]=[l,s]}),eS(r,t)})}function bl(r){return/^#[\da-f]{6}$/i.test(r)}const[lf,M2]=qe(!1),[ao,F2]=qe({});function eu(r){return pt(()=>ao()[r])}const Ev=eu("bgColor"),Tv=eu("buttonColor"),rS=eu("buttonTextColor"),iS=eu("bottomBarBgColor"),Ff=eu("secondaryBgColor"),Na=To({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"}),sS=pt(()=>{const r=Na();return{...r,backgroundColor:r.backgroundColor||Tv()||"#2481cc",textColor:r.textColor||rS()||"#ffffff"}}),[sy,oS]=qe(!1),aS="web_app_setup_main_button",Iv="main_button_pressed",uc="mainButton",Vd=Ti(uc),uS=sc(uc,oS);Vd("mount",()=>{if(!sy()){const r=Kn()&&Wn(uc);r&&Na.set(r),sy.set(!0)}});Vd("onClick",r=>nn(Iv,r));Vd("offClick",r=>{tc(Iv,r)});uS("setParams",r=>{Na.set({...Na(),...Rd(r)}),Hn(uc,Na());const e=sS();e.text&&Ge(aS,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,text:e.text,text_color:e.textColor})});function xd(r,e){document.documentElement.style.setProperty(r,e)}function Dd(r){document.documentElement.style.removeProperty(r)}const ja="themeParams",lS="theme_changed",cS=Ti(ja),hS=({theme_params:r})=>{ao.set(r),Hn(ja,r)},[fS,dS,pS,Sv]=Ja(ja,r=>{const e=Kn()&&Wn(ja);return e?$t.resolve(e):St("web_app_request_theme","theme_changed",r).then(t=>t.theme_params)},r=>{nn(lS,hS),ao.set(r)}),mS=sc(ja,Sv[0]);mS("bindCssVars",r=>{if(lf())throw new yd;r||(r=s=>`--tg-theme-${J0(s)}`);function e(s){Object.entries(ao()).forEach(([a,l])=>{l&&s(a,l)})}function t(){e((s,a)=>{xd(r(s),a)})}return t(),ao.sub(t),lf.set(!0),()=>{e(Dd),ao.unsub(t),lf.set(!1)}});const gS=cS("mount",fS),[,U2,j2]=dS,[,z2]=pS,[$2,B2]=Sv;function Av(r){return pt(()=>{const e=r();return bl(e)?e:e==="bg_color"?Ev():Ff()})}const[Ll,q2]=qe("bg_color"),yS=Av(Ll),[Ol,H2]=qe("bottom_bar_bg_color"),Cv=pt(()=>{const r=Ol();return bl(r)?r:r==="bottom_bar_bg_color"?iS()||Ff():r==="secondary_bg_color"?Ff():Ev()}),[Ml,W2]=qe("bg_color"),_S=Av(Ml),[cf,K2]=qe(!1),[Nd,Q2]=qe(!0),vS=pt(()=>({backgroundColor:Ll(),bottomBarColor:Ol(),headerColor:Ml(),isActive:Nd()})),Uf="web_app_set_background_color",jf="web_app_set_bottom_bar_color",Rl="web_app_set_header_color",wS="visibility_changed",ho="miniApp",kv={any:[Uf,jf,Rl]},ES=r=>{Nd.set(r.is_visible),cc()},[TS,IS,SS,Rv]=Ja(ho,r=>gS(r).then(()=>Kn()&&Wn(ho)||void 0),r=>{CS.ifAvailable(r?r.backgroundColor:"bg_color"),kS.ifAvailable(r?r.bottomBarColor:"bottom_bar_bg_color"),RS.ifAvailable(r?r.headerColor:"bg_color"),Nd.set(r?r.isActive:!0),nn(wS,ES)}),Pv=Ti(ho),AS=dn(ho,kv),lc=Ei(ho,Rv[0],kv);lc("bindCssVars",r=>{if(cf())throw new yd;const[e,t]=q_();function s(a,l){function h(){xd(a,l()||null)}h(),e(l.sub(h),Dd.bind(null,a))}return r||(r=a=>`--tg-${$_(a)}`),s(r("bgColor"),yS),s(r("bottomBarColor"),Cv),s(r("headerColor"),_S),e(()=>{cf.set(!1)}),cf.set(!0),t});Pv("close",r=>{Ge("web_app_close",{return_back:r})});AS("mount",TS);const[,G2,X2]=IS,[,Y2]=SS,[J2,Z2]=Rv;Pv("ready",()=>{Ge("web_app_ready")});function cc(){Hn(ho,vS())}const CS=lc("setBackgroundColor",r=>{r!==Ll()&&(Ge(Uf,{color:r}),Ll.set(r),cc())},Uf),kS=lc("setBottomBarColor",r=>{r!==Ol()&&(Ge(jf,{color:r}),Ol.set(r),cc())},jf),RS=lc("setHeaderColor",r=>{r!==Ml()&&(Ge(Rl,bl(r)?{color:r}:{color_key:r}),Ml.set(r),cc())},Rl,{rgb:[Rl,"color",bl]});function PS(r){const e=r.message.trim(),t=(r.title||"").trim(),s=r.buttons||[];if(t.length>64)throw new Vr(`Invalid title: ${t}`);if(!e||e.length>256)throw new Vr(`Invalid message: ${e}`);if(s.length>3)throw new Vr(`Invalid buttons count: ${s.length}`);return{title:t,message:e,buttons:s.length?s.map((a,l)=>{const h=a.id||"";if(h.length>64)throw new Vr(`Button with index ${l} has invalid id: ${h}`);if(!a.type||a.type==="default"||a.type==="destructive"){const m=a.text.trim();if(!m||m.length>64)throw new Vr(`Button with index ${l} has invalid text: ${m}`);return{type:a.type,text:m,id:h}}return{type:a.type,id:h}}):[{type:"close",id:""}]}}const Vv="web_app_open_popup",VS=dn("popup",Vv),[xS,DS,NS]=rn(r=>St(Vv,"popup_closed",{...r,params:PS(r)}).then(({button_id:e})=>e===void 0?null:e),"A popup is already opened");VS("open",xS);const[,eV,tV]=DS,[,nV]=NS,xv="web_app_close_scan_qr_popup",Dv="web_app_open_scan_qr_popup",bS="scan_qr_popup_closed",LS="qr_text_received",Nv=dn("qrScanner",Dv);Nv("close",()=>{Ge(xv),vI(jS)});function OS(r){r||(r={});const{onCaptured:e,text:t,capture:s}=r,[,a]=q_(nn(bS,()=>{l.resolve()}),nn(LS,h=>{e?e(h.data):(!s||s(h.data))&&(l.resolve(h.data),Ge(xv))})),l=new yI(r);return(r.postEvent||Ge)(Dv,{text:t}),$t.resolve(l).catch(Z_).finally(a)}const[MS,FS,US]=rn(OS,"The QR Scanner is already opened");Nv("open",MS);const[,jS,rV]=FS,[,iV]=US,ba=To({hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,position:"left",text:"Cancel"}),zS=pt(()=>{const r=ba();return{...r,backgroundColor:r.backgroundColor||Cv()||"#000000",textColor:r.textColor||Tv()||"#2481cc"}}),[oy,$S]=qe(!1),bd="web_app_setup_secondary_button",bv="secondary_button_pressed",hc="secondaryButton",Ld=dn(hc,bd),BS=Ei(hc,$S,bd);Ld("mount",()=>{if(!oy()){const r=Kn()&&Wn(hc);r&&ba.set(r),oy.set(!0)}});Ld("onClick",r=>nn(bv,r));Ld("offClick",r=>{tc(bv,r)});BS("setParams",r=>{ba.set({...ba(),...Rd(r)}),Hn(hc,ba());const e=zS();e.text&&Ge(bd,{color:e.backgroundColor,has_shine_effect:e.hasShineEffect,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,is_visible:e.isVisible,position:e.position,text:e.text,text_color:e.textColor})});const Od="web_app_setup_settings_button",Lv="settings_button_pressed",fc="settingsButton",[ay,sV]=qe(!1),[zf,oV]=qe(!1),Md=dn(fc,Od),Ov=Ei(fc,zf,Od);Ov("hide",()=>{Fd(!1)});Md("mount",()=>{zf()||(Fd(Kn()&&Wn(fc)||!1),zf.set(!0))});function Fd(r){r!==ay()&&(Ge(Od,{is_visible:r}),Hn(fc,r),ay.set(r))}Md("onClick",r=>nn(Lv,r));Md("offClick",r=>{tc(Lv,r)});Ov("show",()=>{Fd(!0)});const Ud="web_app_setup_swipe_behavior",dc="swipeBehavior",[$f,aV]=qe(!1),[uy,uV]=qe(!0),qS=dn(dc,Ud),Mv=Ei(dc,$f,Ud);Mv("disableVertical",()=>{jd(!1)});Mv("enableVertical",()=>{jd(!0)});qS("mount",()=>{$f()||(jd(Kn()&&Wn(dc)||!1,!0),$f.set(!0))});function jd(r,e){(r!==uy()||e)&&(Ge(Ud,{allow_vertical_swipe:r}),Hn(dc,r),uy.set(r))}const is="viewport",Fv="fullscreen_changed",Uv="safe_area_changed",jv="content_safe_area_changed",zv="viewport_changed",$v=Ti(is),ly={left:0,top:0,bottom:0,right:0};function hf(r){return Math.max(r,0)}const[ff,HS]=qe({contentSafeAreaInsets:ly,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:ly,stableHeight:0,width:0});function Io(r){return pt(()=>HS()[r])}const WS=Io("height"),KS=Io("stableHeight"),QS=Io("width");function So(r){const{height:e,stableHeight:t,width:s}=r;ff.set({...ff(),...Rd({...r,height:e?hf(e):void 0,width:s?hf(s):void 0,stableHeight:t?hf(t):void 0})}),Hn(is,ff())}function GS(){return Wn(is)}function pc(r){return pt(()=>Bv()[r])}const Bv=Io("contentSafeAreaInsets"),XS=pc("bottom"),YS=pc("left"),JS=pc("right"),ZS=pc("top");function mc(r){return pt(()=>qv()[r])}const qv=Io("safeAreaInsets"),e1=mc("bottom"),t1=mc("left"),n1=mc("right"),r1=mc("top"),Hv="web_app_request_safe_area",Wv=dn(is,Hv),cy=Wv("requestContentSafeAreaInsets",r=>St("web_app_request_content_safe_area",jv,r));function i1(r){return St("web_app_request_viewport",zv,r)}const hy=Wv("requestSafeAreaInsets",r=>St(Hv,Uv,r)),s1=r=>{const{height:e}=r;So({isExpanded:r.is_expanded,height:e,width:r.width,stableHeight:r.is_state_stable?e:void 0})},o1=r=>{So({isFullscreen:r.is_fullscreen})},a1=r=>{So({safeAreaInsets:r})},u1=r=>{So({contentSafeAreaInsets:r})},[l1,c1,h1,f1]=Ja(is,r=>{const e=Kn()&&GS();return e?$t.resolve(e):$t.fn(async t=>{const s=await $t.all([hy.isAvailable()?hy(t):qv(),cy.isAvailable()?cy(t):Bv()]),a=W_(),l={contentSafeAreaInsets:s[1],isFullscreen:!!a.tgWebAppFullscreen,safeAreaInsets:s[0]};if(["macos","tdesktop","unigram","webk","weba","web"].includes(a.tgWebAppPlatform)){const h=window;return{...l,height:h.innerHeight,isExpanded:!0,stableHeight:h.innerHeight,width:h.innerWidth}}return i1(t).then(h=>({...l,height:h.height,isExpanded:h.is_expanded,stableHeight:h.is_state_stable?h.height:0,width:h.width}))},r)},r=>{nn(zv,s1),nn(Fv,o1),nn(Uv,a1),nn(jv,u1),So(r)});$v("mount",l1);const[,lV,cV]=c1,[,hV]=h1,[Kv,fV]=f1,d1=sc(is,Kv),[df,dV]=qe(!1);d1("bindCssVars",r=>{if(df())throw new yd;r||(r=t=>`--tg-viewport-${$_(t)}`);const e=[["height",WS],["stableHeight",KS],["width",QS],["safeAreaInsetTop",r1],["safeAreaInsetBottom",e1],["safeAreaInsetLeft",t1],["safeAreaInsetRight",n1],["contentSafeAreaInsetTop",ZS],["contentSafeAreaInsetBottom",XS],["contentSafeAreaInsetLeft",YS],["contentSafeAreaInsetRight",JS]].reduce((t,[s,a])=>{const l=r(s);if(l){const h=()=>{xd(l,`${a()}px`)};t.push([h,a.sub(h),l])}return t},[]);return e.forEach(t=>{t[0]()}),df.set(!0),()=>{e.forEach(t=>{t[1](),Dd(t[2])}),df.set(!1)}});$v("expand",()=>{Ge("web_app_expand")});const Qv="web_app_request_fullscreen",p1=Ei(is,Kv,Qv),m1=Io("isFullscreen"),[g1,pV]=qe(),[y1,mV]=qe();function Gv(r,e){return p1(r,rn(t=>St(e?Qv:"web_app_exit_fullscreen",[Fv,"fullscreen_failed"],t).then(s=>{if("error"in s&&s.error!=="ALREADY_FULLSCREEN")throw new lI(s.error);const a="is_fullscreen"in s?s.is_fullscreen:!0;a!==m1()&&So({isFullscreen:a})}),"Fullscreen mode change is already being requested",{promise:g1,error:y1})[0])}Gv("requestFullscreen",!0);Gv("exitFullscreen");const _1="web_app_request_emoji_status_access",[gV,v1,w1]=rn(r=>St(_1,"emoji_status_access_requested",r).then(e=>e.status),"Emoji status access request is already in progress"),[,yV,_V]=v1,[,vV]=w1,E1="web_app_set_emoji_status",[wV,T1,I1]=rn((r,e)=>St(E1,["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:r,duration:(e||{}).duration},...e}).then(t=>{if(t&&"error"in t)throw new aI(t.error)}),"Emoji status set request is currently in progress"),[,EV,TV]=T1,[,IV]=I1,S1="web_app_check_home_screen",[SV,A1,C1]=rn(r=>St(S1,"home_screen_checked",r).then(e=>e.status||"unknown"),"Check home screen status request is currently in progress"),[,AV,CV]=A1,[,kV]=C1,k1=Ti();k1("openLink",(r,e)=>{if(typeof r=="string")try{r=new URL(r)}catch(t){throw new Vr(`"${r.toString()}" is invalid URL`,t)}e||(e={}),Ge("web_app_open_link",{url:r.toString(),try_browser:e.tryBrowser,try_instant_view:e.tryInstantView})});const fy="web_app_open_tg_link",R1=Ti(),P1=R1("openTelegramLink",r=>{const e=r.toString();if(!e.match(/^https:\/\/t.me\/.+/))throw new Vr(`"${e}" is invalid URL`);if(!Pf(fy,to())){window.location.href=e;return}r=new URL(r),Ge(fy,{path_full:r.pathname+r.search})}),V1=Ti();V1("shareURL",(r,e)=>{P1("https://t.me/share/url?"+new URLSearchParams({url:r,text:e||""}).toString().replace(/\+/g,"%20"))});function x1(r,e){return new $t({abortSignal:e,timeout:r}).catch(()=>{})}const Xv="web_app_request_phone",[D1,N1,b1]=rn(r=>St(Xv,"phone_requested",r).then(e=>e.status),"Phone access request is currently in progress"),L1=_d("requestPhoneAccess",D1,{isSupported:Xv}),[,RV,PV]=N1,[,VV]=b1;async function dy(r){const e=await Ya("getRequestedContact",{},{...r,timeout:(r||{}).timeout||5e3});return Cd(kl(gv([Bn(),fv(URLSearchParams)]),nS(Of({contact:kl(Bn(),tS(),Of({user_id:dv(),phone_number:Bn(),first_name:Bn(),last_name:pv(Bn())})),auth_date:kl(Bn(),uv(t=>new Date(Number(t)*1e3)),hv()),hash:Bn()}))),e)}const[xV,O1,M1]=rn(r=>new $t(async(e,t,s)=>{try{return e(await dy(s))}catch(l){if(l instanceof Lf)throw l}if(await L1(s)!=="sent")throw new uI("User denied access");let a=50;for(;!s.isAborted();){try{return e(await dy(s))}catch(l){if(l instanceof Lf)throw l}await x1(a),a+=50}},r),"Contact is already being requested"),[,DV,NV]=O1,[,bV]=M1,F1="web_app_request_write_access",[LV,U1,j1]=rn(r=>St(F1,"write_access_requested",r).then(e=>e.status),"Write access request is currently in progress"),[,OV,MV]=U1,[,FV]=j1,z1=()=>{};var py={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},$1=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const a=r[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],h=r[t++],m=r[t++],g=((a&7)<<18|(l&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],h=r[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){const l=r[a],h=a+1<r.length,m=h?r[a+1]:0,g=a+2<r.length,_=g?r[a+2]:0,E=l>>2,S=(l&3)<<4|m>>4;let D=(m&15)<<2|_>>6,U=_&63;g||(U=64,h||(D=64)),s.push(t[E],t[S],t[D],t[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Yv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],m=a<r.length?t[r.charAt(a)]:0;++a;const _=a<r.length?t[r.charAt(a)]:64;++a;const S=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||m==null||_==null||S==null)throw new B1;const D=l<<2|m>>4;if(s.push(D),_!==64){const U=m<<4&240|_>>2;if(s.push(U),S!==64){const Q=_<<6&192|S;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class B1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(r){const e=Yv(r);return Jv.encodeByteArray(e,!0)},Fl=function(r){return q1(r).replace(/\./g,"")},H1=function(r){try{return Jv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=()=>W1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof py>"u")return;const r=py.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},G1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&H1(r[1]);return e&&JSON.parse(e)},zd=()=>{try{return z1()||K1()||Q1()||G1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},X1=r=>{var e,t;return(t=(e=zd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Y1=r=>{const e=X1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Zv=()=>{var r;return(r=zd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Fl(JSON.stringify(t)),Fl(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tA(){var r;const e=(r=zd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nA(){return!tA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="FirebaseError";class Ao extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=sA,Object.setPrototypeOf(this,Ao.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ew.prototype.create)}}class ew{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],h=l?oA(l,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Ao(a,m,s)}}function oA(r,e){return r.replace(aA,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const aA=/\{\$([^}]+)}/g;function Ul(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=r[a],h=e[a];if(my(l)&&my(h)){if(!Ul(l,h))return!1}else if(l!==h)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function my(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(r){return r&&r._delegate?r._delegate:r}class za{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new J1;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cA(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);s===m&&h.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const h=this.instances.get(a);return h&&e(h,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:lA(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lA(r){return r===Yi?void 0:r}function cA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xe||(xe={}));const fA={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},dA=xe.INFO,pA={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},mA=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),a=pA[e];if(a)console[a](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tw{constructor(e){this.name=e,this._logLevel=dA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const gA=(r,e)=>e.some(t=>r instanceof t);let gy,yy;function yA(){return gy||(gy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return yy||(yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nw=new WeakMap,Bf=new WeakMap,rw=new WeakMap,pf=new WeakMap,$d=new WeakMap;function vA(r){const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(li(r.result)),a()},h=()=>{s(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&nw.set(t,r)}).catch(()=>{}),$d.set(e,r),e}function wA(r){if(Bf.has(r))return;const e=new Promise((t,s)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),a()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});Bf.set(r,e)}let qf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Bf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||rw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return li(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function EA(r){qf=r(qf)}function TA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(mf(this),e,...t);return rw.set(s,e.sort?e.sort():[e]),li(s)}:_A().includes(r)?function(...e){return r.apply(mf(this),e),li(nw.get(this))}:function(...e){return li(r.apply(mf(this),e))}}function IA(r){return typeof r=="function"?TA(r):(r instanceof IDBTransaction&&wA(r),gA(r,yA())?new Proxy(r,qf):r)}function li(r){if(r instanceof IDBRequest)return vA(r);if(pf.has(r))return pf.get(r);const e=IA(r);return e!==r&&(pf.set(r,e),$d.set(e,r)),e}const mf=r=>$d.get(r);function SA(r,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const h=indexedDB.open(r,e),m=li(h);return s&&h.addEventListener("upgradeneeded",g=>{s(li(h.result),g.oldVersion,g.newVersion,li(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const AA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],gf=new Map;function _y(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=CA.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||AA.includes(t)))return;const l=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[t](...m),a&&g.done]))[0]};return gf.set(e,l),l}EA(r=>({...r,get:(e,t,s)=>_y(e,t)||r.get(e,t,s),has:(e,t)=>!!_y(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RA(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function RA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",vy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new tw("@firebase/app"),PA="@firebase/app-compat",VA="@firebase/analytics-compat",xA="@firebase/analytics",DA="@firebase/app-check-compat",NA="@firebase/app-check",bA="@firebase/auth",LA="@firebase/auth-compat",OA="@firebase/database",MA="@firebase/data-connect",FA="@firebase/database-compat",UA="@firebase/functions",jA="@firebase/functions-compat",zA="@firebase/installations",$A="@firebase/installations-compat",BA="@firebase/messaging",qA="@firebase/messaging-compat",HA="@firebase/performance",WA="@firebase/performance-compat",KA="@firebase/remote-config",QA="@firebase/remote-config-compat",GA="@firebase/storage",XA="@firebase/storage-compat",YA="@firebase/firestore",JA="@firebase/vertexai",ZA="@firebase/firestore-compat",eC="firebase",tC="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",nC={[Hf]:"fire-core",[PA]:"fire-core-compat",[xA]:"fire-analytics",[VA]:"fire-analytics-compat",[NA]:"fire-app-check",[DA]:"fire-app-check-compat",[bA]:"fire-auth",[LA]:"fire-auth-compat",[OA]:"fire-rtdb",[MA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[UA]:"fire-fn",[jA]:"fire-fn-compat",[zA]:"fire-iid",[$A]:"fire-iid-compat",[BA]:"fire-fcm",[qA]:"fire-fcm-compat",[HA]:"fire-perf",[WA]:"fire-perf-compat",[KA]:"fire-rc",[QA]:"fire-rc-compat",[GA]:"fire-gcs",[XA]:"fire-gcs-compat",[YA]:"fire-fst",[ZA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[eC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new Map,rC=new Map,Kf=new Map;function wy(r,e){try{r.container.addComponent(e)}catch(t){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function $l(r){const e=r.name;if(Kf.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Kf.set(e,r);for(const t of zl.values())wy(t,r);for(const t of rC.values())wy(t,r);return!0}function iC(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function sC(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ci=new ew("app","Firebase",oC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new za("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=tC;function iw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ci.create("bad-app-name",{appName:String(a)});if(t||(t=Zv()),!t)throw ci.create("no-options");const l=zl.get(a);if(l){if(Ul(t,l.options)&&Ul(s,l.config))return l;throw ci.create("duplicate-app",{appName:a})}const h=new hA(a);for(const g of Kf.values())h.addComponent(g);const m=new aC(t,s,h);return zl.set(a,m),m}function lC(r=Wf){const e=zl.get(r);if(!e&&r===Wf&&Zv())return iw();if(!e)throw ci.create("no-app",{appName:r});return e}function uo(r,e,t){var s;let a=(s=nC[r])!==null&&s!==void 0?s:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const m=[`Unable to register library "${a}" with version "${e}":`];l&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(m.join(" "));return}$l(new za(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="firebase-heartbeat-database",hC=1,$a="firebase-heartbeat-store";let yf=null;function sw(){return yf||(yf=SA(cC,hC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore($a)}catch(t){console.warn(t)}}}}).catch(r=>{throw ci.create("idb-open",{originalErrorMessage:r.message})})),yf}async function fC(r){try{const t=(await sw()).transaction($a),s=await t.objectStore($a).get(ow(r));return await t.done,s}catch(e){if(e instanceof Ao)Nr.warn(e.message);else{const t=ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(t.message)}}}async function Ey(r,e){try{const s=(await sw()).transaction($a,"readwrite");await s.objectStore($a).put(e,ow(r)),await s.done}catch(t){if(t instanceof Ao)Nr.warn(t.message);else{const s=ci.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Nr.warn(s.message)}}}function ow(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=1024,pC=30;class mC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Ty();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>pC){const h=_C(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Ty(),{heartbeatsToSend:s,unsentEntries:a}=gC(this._heartbeatsCache.heartbeats),l=Fl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Nr.warn(t),""}}}function Ty(){return new Date().toISOString().substring(0,10)}function gC(r,e=dC){const t=[];let s=r.slice();for(const a of r){const l=t.find(h=>h.agent===a.agent);if(l){if(l.dates.push(a.date),Iy(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Iy(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class yC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return Ey(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Iy(r){return Fl(JSON.stringify({version:2,heartbeats:r})).length}function _C(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let s=1;s<r.length;s++)r[s].date<t&&(t=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(r){$l(new za("platform-logger",e=>new kA(e),"PRIVATE")),$l(new za("heartbeat",e=>new mC(e),"PRIVATE")),uo(Hf,vy,r),uo(Hf,vy,"esm2017"),uo("fire-js","")}vC("");var Sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hi,aw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,T){function C(){}C.prototype=T.prototype,R.D=T.prototype,R.prototype=new C,R.prototype.constructor=R,R.C=function(V,x,b){for(var A=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)A[nt-2]=arguments[nt];return T.prototype[x].apply(V,A)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,T,C){C||(C=0);var V=Array(16);if(typeof T=="string")for(var x=0;16>x;++x)V[x]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(x=0;16>x;++x)V[x]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=R.g[0],C=R.g[1],x=R.g[2];var b=R.g[3],A=T+(b^C&(x^b))+V[0]+3614090360&4294967295;T=C+(A<<7&4294967295|A>>>25),A=b+(x^T&(C^x))+V[1]+3905402710&4294967295,b=T+(A<<12&4294967295|A>>>20),A=x+(C^b&(T^C))+V[2]+606105819&4294967295,x=b+(A<<17&4294967295|A>>>15),A=C+(T^x&(b^T))+V[3]+3250441966&4294967295,C=x+(A<<22&4294967295|A>>>10),A=T+(b^C&(x^b))+V[4]+4118548399&4294967295,T=C+(A<<7&4294967295|A>>>25),A=b+(x^T&(C^x))+V[5]+1200080426&4294967295,b=T+(A<<12&4294967295|A>>>20),A=x+(C^b&(T^C))+V[6]+2821735955&4294967295,x=b+(A<<17&4294967295|A>>>15),A=C+(T^x&(b^T))+V[7]+4249261313&4294967295,C=x+(A<<22&4294967295|A>>>10),A=T+(b^C&(x^b))+V[8]+1770035416&4294967295,T=C+(A<<7&4294967295|A>>>25),A=b+(x^T&(C^x))+V[9]+2336552879&4294967295,b=T+(A<<12&4294967295|A>>>20),A=x+(C^b&(T^C))+V[10]+4294925233&4294967295,x=b+(A<<17&4294967295|A>>>15),A=C+(T^x&(b^T))+V[11]+2304563134&4294967295,C=x+(A<<22&4294967295|A>>>10),A=T+(b^C&(x^b))+V[12]+1804603682&4294967295,T=C+(A<<7&4294967295|A>>>25),A=b+(x^T&(C^x))+V[13]+4254626195&4294967295,b=T+(A<<12&4294967295|A>>>20),A=x+(C^b&(T^C))+V[14]+2792965006&4294967295,x=b+(A<<17&4294967295|A>>>15),A=C+(T^x&(b^T))+V[15]+1236535329&4294967295,C=x+(A<<22&4294967295|A>>>10),A=T+(x^b&(C^x))+V[1]+4129170786&4294967295,T=C+(A<<5&4294967295|A>>>27),A=b+(C^x&(T^C))+V[6]+3225465664&4294967295,b=T+(A<<9&4294967295|A>>>23),A=x+(T^C&(b^T))+V[11]+643717713&4294967295,x=b+(A<<14&4294967295|A>>>18),A=C+(b^T&(x^b))+V[0]+3921069994&4294967295,C=x+(A<<20&4294967295|A>>>12),A=T+(x^b&(C^x))+V[5]+3593408605&4294967295,T=C+(A<<5&4294967295|A>>>27),A=b+(C^x&(T^C))+V[10]+38016083&4294967295,b=T+(A<<9&4294967295|A>>>23),A=x+(T^C&(b^T))+V[15]+3634488961&4294967295,x=b+(A<<14&4294967295|A>>>18),A=C+(b^T&(x^b))+V[4]+3889429448&4294967295,C=x+(A<<20&4294967295|A>>>12),A=T+(x^b&(C^x))+V[9]+568446438&4294967295,T=C+(A<<5&4294967295|A>>>27),A=b+(C^x&(T^C))+V[14]+3275163606&4294967295,b=T+(A<<9&4294967295|A>>>23),A=x+(T^C&(b^T))+V[3]+4107603335&4294967295,x=b+(A<<14&4294967295|A>>>18),A=C+(b^T&(x^b))+V[8]+1163531501&4294967295,C=x+(A<<20&4294967295|A>>>12),A=T+(x^b&(C^x))+V[13]+2850285829&4294967295,T=C+(A<<5&4294967295|A>>>27),A=b+(C^x&(T^C))+V[2]+4243563512&4294967295,b=T+(A<<9&4294967295|A>>>23),A=x+(T^C&(b^T))+V[7]+1735328473&4294967295,x=b+(A<<14&4294967295|A>>>18),A=C+(b^T&(x^b))+V[12]+2368359562&4294967295,C=x+(A<<20&4294967295|A>>>12),A=T+(C^x^b)+V[5]+4294588738&4294967295,T=C+(A<<4&4294967295|A>>>28),A=b+(T^C^x)+V[8]+2272392833&4294967295,b=T+(A<<11&4294967295|A>>>21),A=x+(b^T^C)+V[11]+1839030562&4294967295,x=b+(A<<16&4294967295|A>>>16),A=C+(x^b^T)+V[14]+4259657740&4294967295,C=x+(A<<23&4294967295|A>>>9),A=T+(C^x^b)+V[1]+2763975236&4294967295,T=C+(A<<4&4294967295|A>>>28),A=b+(T^C^x)+V[4]+1272893353&4294967295,b=T+(A<<11&4294967295|A>>>21),A=x+(b^T^C)+V[7]+4139469664&4294967295,x=b+(A<<16&4294967295|A>>>16),A=C+(x^b^T)+V[10]+3200236656&4294967295,C=x+(A<<23&4294967295|A>>>9),A=T+(C^x^b)+V[13]+681279174&4294967295,T=C+(A<<4&4294967295|A>>>28),A=b+(T^C^x)+V[0]+3936430074&4294967295,b=T+(A<<11&4294967295|A>>>21),A=x+(b^T^C)+V[3]+3572445317&4294967295,x=b+(A<<16&4294967295|A>>>16),A=C+(x^b^T)+V[6]+76029189&4294967295,C=x+(A<<23&4294967295|A>>>9),A=T+(C^x^b)+V[9]+3654602809&4294967295,T=C+(A<<4&4294967295|A>>>28),A=b+(T^C^x)+V[12]+3873151461&4294967295,b=T+(A<<11&4294967295|A>>>21),A=x+(b^T^C)+V[15]+530742520&4294967295,x=b+(A<<16&4294967295|A>>>16),A=C+(x^b^T)+V[2]+3299628645&4294967295,C=x+(A<<23&4294967295|A>>>9),A=T+(x^(C|~b))+V[0]+4096336452&4294967295,T=C+(A<<6&4294967295|A>>>26),A=b+(C^(T|~x))+V[7]+1126891415&4294967295,b=T+(A<<10&4294967295|A>>>22),A=x+(T^(b|~C))+V[14]+2878612391&4294967295,x=b+(A<<15&4294967295|A>>>17),A=C+(b^(x|~T))+V[5]+4237533241&4294967295,C=x+(A<<21&4294967295|A>>>11),A=T+(x^(C|~b))+V[12]+1700485571&4294967295,T=C+(A<<6&4294967295|A>>>26),A=b+(C^(T|~x))+V[3]+2399980690&4294967295,b=T+(A<<10&4294967295|A>>>22),A=x+(T^(b|~C))+V[10]+4293915773&4294967295,x=b+(A<<15&4294967295|A>>>17),A=C+(b^(x|~T))+V[1]+2240044497&4294967295,C=x+(A<<21&4294967295|A>>>11),A=T+(x^(C|~b))+V[8]+1873313359&4294967295,T=C+(A<<6&4294967295|A>>>26),A=b+(C^(T|~x))+V[15]+4264355552&4294967295,b=T+(A<<10&4294967295|A>>>22),A=x+(T^(b|~C))+V[6]+2734768916&4294967295,x=b+(A<<15&4294967295|A>>>17),A=C+(b^(x|~T))+V[13]+1309151649&4294967295,C=x+(A<<21&4294967295|A>>>11),A=T+(x^(C|~b))+V[4]+4149444226&4294967295,T=C+(A<<6&4294967295|A>>>26),A=b+(C^(T|~x))+V[11]+3174756917&4294967295,b=T+(A<<10&4294967295|A>>>22),A=x+(T^(b|~C))+V[2]+718787259&4294967295,x=b+(A<<15&4294967295|A>>>17),A=C+(b^(x|~T))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+T&4294967295,R.g[1]=R.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,R.g[2]=R.g[2]+x&4294967295,R.g[3]=R.g[3]+b&4294967295}s.prototype.u=function(R,T){T===void 0&&(T=R.length);for(var C=T-this.blockSize,V=this.B,x=this.h,b=0;b<T;){if(x==0)for(;b<=C;)a(this,R,b),b+=this.blockSize;if(typeof R=="string"){for(;b<T;)if(V[x++]=R.charCodeAt(b++),x==this.blockSize){a(this,V),x=0;break}}else for(;b<T;)if(V[x++]=R[b++],x==this.blockSize){a(this,V),x=0;break}}this.h=x,this.o+=T},s.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var T=1;T<R.length-8;++T)R[T]=0;var C=8*this.o;for(T=R.length-8;T<R.length;++T)R[T]=C&255,C/=256;for(this.u(R),R=Array(16),T=C=0;4>T;++T)for(var V=0;32>V;V+=8)R[C++]=this.g[T]>>>V&255;return R};function l(R,T){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=T(R)}function h(R,T){this.h=T;for(var C=[],V=!0,x=R.length-1;0<=x;x--){var b=R[x]|0;V&&b==T||(C[x]=b,V=!1)}this.g=C}var m={};function g(R){return-128<=R&&128>R?l(R,function(T){return new h([T|0],0>T?-1:0)}):new h([R|0],0>R?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return S;if(0>R)return z(_(-R));for(var T=[],C=1,V=0;R>=C;V++)T[V]=R/C|0,C*=4294967296;return new h(T,0)}function E(R,T){if(R.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(R.charAt(0)=="-")return z(E(R.substring(1),T));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=_(Math.pow(T,8)),V=S,x=0;x<R.length;x+=8){var b=Math.min(8,R.length-x),A=parseInt(R.substring(x,x+b),T);8>b?(b=_(Math.pow(T,b)),V=V.j(b).add(_(A))):(V=V.j(C),V=V.add(_(A)))}return V}var S=g(0),D=g(1),U=g(16777216);r=h.prototype,r.m=function(){if(Y(this))return-z(this).m();for(var R=0,T=1,C=0;C<this.g.length;C++){var V=this.i(C);R+=(0<=V?V:4294967296+V)*T,T*=4294967296}return R},r.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(Q(this))return"0";if(Y(this))return"-"+z(this).toString(R);for(var T=_(Math.pow(R,6)),C=this,V="";;){var x=me(C,T).g;C=ge(C,x.j(T));var b=((0<C.g.length?C.g[0]:C.h)>>>0).toString(R);if(C=x,Q(C))return b+V;for(;6>b.length;)b="0"+b;V=b+V}},r.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function Q(R){if(R.h!=0)return!1;for(var T=0;T<R.g.length;T++)if(R.g[T]!=0)return!1;return!0}function Y(R){return R.h==-1}r.l=function(R){return R=ge(this,R),Y(R)?-1:Q(R)?0:1};function z(R){for(var T=R.g.length,C=[],V=0;V<T;V++)C[V]=~R.g[V];return new h(C,~R.h).add(D)}r.abs=function(){return Y(this)?z(this):this},r.add=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],V=0,x=0;x<=T;x++){var b=V+(this.i(x)&65535)+(R.i(x)&65535),A=(b>>>16)+(this.i(x)>>>16)+(R.i(x)>>>16);V=A>>>16,b&=65535,A&=65535,C[x]=A<<16|b}return new h(C,C[C.length-1]&-2147483648?-1:0)};function ge(R,T){return R.add(z(T))}r.j=function(R){if(Q(this)||Q(R))return S;if(Y(this))return Y(R)?z(this).j(z(R)):z(z(this).j(R));if(Y(R))return z(this.j(z(R)));if(0>this.l(U)&&0>R.l(U))return _(this.m()*R.m());for(var T=this.g.length+R.g.length,C=[],V=0;V<2*T;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var x=0;x<R.g.length;x++){var b=this.i(V)>>>16,A=this.i(V)&65535,nt=R.i(x)>>>16,Dt=R.i(x)&65535;C[2*V+2*x]+=A*Dt,se(C,2*V+2*x),C[2*V+2*x+1]+=b*Dt,se(C,2*V+2*x+1),C[2*V+2*x+1]+=A*nt,se(C,2*V+2*x+1),C[2*V+2*x+2]+=b*nt,se(C,2*V+2*x+2)}for(V=0;V<T;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=T;V<2*T;V++)C[V]=0;return new h(C,0)};function se(R,T){for(;(R[T]&65535)!=R[T];)R[T+1]+=R[T]>>>16,R[T]&=65535,T++}function oe(R,T){this.g=R,this.h=T}function me(R,T){if(Q(T))throw Error("division by zero");if(Q(R))return new oe(S,S);if(Y(R))return T=me(z(R),T),new oe(z(T.g),z(T.h));if(Y(T))return T=me(R,z(T)),new oe(z(T.g),T.h);if(30<R.g.length){if(Y(R)||Y(T))throw Error("slowDivide_ only works with positive integers.");for(var C=D,V=T;0>=V.l(R);)C=ke(C),V=ke(V);var x=G(C,1),b=G(V,1);for(V=G(V,2),C=G(C,2);!Q(V);){var A=b.add(V);0>=A.l(R)&&(x=x.add(C),b=A),V=G(V,1),C=G(C,1)}return T=ge(R,x.j(T)),new oe(x,T)}for(x=S;0<=R.l(T);){for(C=Math.max(1,Math.floor(R.m()/T.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),b=_(C),A=b.j(T);Y(A)||0<A.l(R);)C-=V,b=_(C),A=b.j(T);Q(b)&&(b=D),x=x.add(b),R=ge(R,A)}return new oe(x,R)}r.A=function(R){return me(this,R).h},r.and=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],V=0;V<T;V++)C[V]=this.i(V)&R.i(V);return new h(C,this.h&R.h)},r.or=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],V=0;V<T;V++)C[V]=this.i(V)|R.i(V);return new h(C,this.h|R.h)},r.xor=function(R){for(var T=Math.max(this.g.length,R.g.length),C=[],V=0;V<T;V++)C[V]=this.i(V)^R.i(V);return new h(C,this.h^R.h)};function ke(R){for(var T=R.g.length+1,C=[],V=0;V<T;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new h(C,R.h)}function G(R,T){var C=T>>5;T%=32;for(var V=R.g.length-C,x=[],b=0;b<V;b++)x[b]=0<T?R.i(b+C)>>>T|R.i(b+C+1)<<32-T:R.i(b+C);return new h(x,R.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,aw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=E,hi=h}).apply(typeof Sy<"u"?Sy:typeof self<"u"?self:typeof window<"u"?window:{});var El=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uw,Ra,lw,Pl,Qf,cw,hw,fw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,y){return u==Array.prototype||u==Object.prototype||(u[d]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof El=="object"&&El];for(var d=0;d<u.length;++d){var y=u[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=t(this);function a(u,d){if(d)e:{var y=s;u=u.split(".");for(var w=0;w<u.length-1;w++){var L=u[w];if(!(L in y))break e;y=y[L]}u=u[u.length-1],w=y[u],d=d(w),d!=w&&d!=null&&e(y,u,{configurable:!0,writable:!0,value:d})}}function l(u,d){u instanceof String&&(u+="");var y=0,w=!1,L={next:function(){if(!w&&y<u.length){var j=y++;return{value:d(j,u[j]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(u){return u||function(){return l(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function E(u,d,y){return u.call.apply(u.bind,arguments)}function S(u,d,y){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),u.apply(d,L)}}return function(){return u.apply(d,arguments)}}function D(u,d,y){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,D.apply(null,arguments)}function U(u,d){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function Q(u,d){function y(){}y.prototype=d.prototype,u.aa=d.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(w,L,j){for(var J=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)J[Me-2]=arguments[Me];return d.prototype[L].apply(w,J)}}function Y(u){const d=u.length;if(0<d){const y=Array(d);for(let w=0;w<d;w++)y[w]=u[w];return y}return[]}function z(u,d){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(g(w)){const L=u.length||0,j=w.length||0;u.length=L+j;for(let J=0;J<j;J++)u[L+J]=w[J]}else u.push(w)}}class ge{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function se(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function me(u){return me[" "](u),u}me[" "]=function(){};var ke=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function G(u,d,y){for(const w in u)d.call(y,u[w],w,u)}function R(u,d){for(const y in u)d.call(void 0,u[y],y,u)}function T(u){const d={};for(const y in u)d[y]=u[y];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,d){let y,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(y in w)u[y]=w[y];for(let j=0;j<C.length;j++)y=C[j],Object.prototype.hasOwnProperty.call(w,y)&&(u[y]=w[y])}}function x(u){var d=1;u=u.split(":");const y=[];for(;0<d&&u.length;)y.push(u.shift()),d--;return u.length&&y.push(u.join(":")),y}function b(u){m.setTimeout(()=>{throw u},0)}function A(){var u=ce;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class nt{constructor(){this.h=this.g=null}add(d,y){const w=Dt.get();w.set(d,y),this.h?this.h.next=w:this.g=w,this.h=w}}var Dt=new ge(()=>new Nt,u=>u.reset());class Nt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,Z=!1,ce=new nt,te=()=>{const u=m.Promise.resolve(void 0);Fe=()=>{u.then(N)}};var N=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(y){b(y)}var d=Dt;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}Z=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return u}();function Te(u,d){if(le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(ke){e:{try{me(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else y=="mouseover"?d=u.fromElement:y=="mouseout"&&(d=u.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Re[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Te.aa.h.call(this)}}Q(Te,le);var Re={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Le=0;function ze(u,d,y,w,L){this.listener=u,this.proxy=null,this.src=d,this.type=y,this.capture=!!w,this.ha=L,this.key=++Le,this.da=this.fa=!1}function _t(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function fr(u){this.src=u,this.g={},this.h=0}fr.prototype.add=function(u,d,y,w,L){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var J=Mr(u,d,w,L);return-1<J?(d=u[J],y||(d.fa=!1)):(d=new ze(d,this.src,j,!!w,L),d.fa=y,u.push(d)),d};function ls(u,d){var y=d.type;if(y in u.g){var w=u.g[y],L=Array.prototype.indexOf.call(w,d,void 0),j;(j=0<=L)&&Array.prototype.splice.call(w,L,1),j&&(_t(d),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Mr(u,d,y,w){for(var L=0;L<u.length;++L){var j=u[L];if(!j.da&&j.listener==d&&j.capture==!!y&&j.ha==w)return L}return-1}var Ii="closure_lm_"+(1e6*Math.random()|0),cs={};function Vo(u,d,y,w,L){if(Array.isArray(d)){for(var j=0;j<d.length;j++)Vo(u,d[j],y,w,L);return null}return y=No(y),u&&u[be]?u.K(d,y,_(w)?!!w.capture:!1,L):xo(u,d,y,!1,w,L)}function xo(u,d,y,w,L,j){if(!d)throw Error("Invalid event type");var J=_(L)?!!L.capture:!!L,Me=fs(u);if(Me||(u[Ii]=Me=new fr(u)),y=Me.add(d,y,w,J,j),y.proxy)return y;if(w=su(),y.proxy=w,w.src=u,w.listener=y,u.addEventListener)Ee||(L=J),L===void 0&&(L=!1),u.addEventListener(d.toString(),w,L);else if(u.attachEvent)u.attachEvent(pr(d.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function su(){function u(y){return d.call(u.src,u.listener,y)}const d=Do;return u}function hs(u,d,y,w,L){if(Array.isArray(d))for(var j=0;j<d.length;j++)hs(u,d[j],y,w,L);else w=_(w)?!!w.capture:!!w,y=No(y),u&&u[be]?(u=u.i,d=String(d).toString(),d in u.g&&(j=u.g[d],y=Mr(j,y,w,L),-1<y&&(_t(j[y]),Array.prototype.splice.call(j,y,1),j.length==0&&(delete u.g[d],u.h--)))):u&&(u=fs(u))&&(d=u.g[d.toString()],u=-1,d&&(u=Mr(d,y,w,L)),(y=-1<u?d[u]:null)&&dr(y))}function dr(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[be])ls(d.i,u);else{var y=u.type,w=u.proxy;d.removeEventListener?d.removeEventListener(y,w,u.capture):d.detachEvent?d.detachEvent(pr(y),w):d.addListener&&d.removeListener&&d.removeListener(w),(y=fs(d))?(ls(y,u),y.h==0&&(y.src=null,d[Ii]=null)):_t(u)}}}function pr(u){return u in cs?cs[u]:cs[u]="on"+u}function Do(u,d){if(u.da)u=!0;else{d=new Te(d,this);var y=u.listener,w=u.ha||u.src;u.fa&&dr(u),u=y.call(w,d)}return u}function fs(u){return u=u[Ii],u instanceof fr?u:null}var ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function No(u){return typeof u=="function"?u:(u[ds]||(u[ds]=function(d){return u.handleEvent(d)}),u[ds])}function lt(){B.call(this),this.i=new fr(this),this.M=this,this.F=null}Q(lt,B),lt.prototype[be]=!0,lt.prototype.removeEventListener=function(u,d,y,w){hs(this,u,d,y,w)};function ct(u,d){var y,w=u.F;if(w)for(y=[];w;w=w.F)y.push(w);if(u=u.M,w=d.type||d,typeof d=="string")d=new le(d,u);else if(d instanceof le)d.target=d.target||u;else{var L=d;d=new le(w,u),V(d,L)}if(L=!0,y)for(var j=y.length-1;0<=j;j--){var J=d.g=y[j];L=mr(J,w,!0,d)&&L}if(J=d.g=u,L=mr(J,w,!0,d)&&L,L=mr(J,w,!1,d)&&L,y)for(j=0;j<y.length;j++)J=d.g=y[j],L=mr(J,w,!1,d)&&L}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var y=u.g[d],w=0;w<y.length;w++)_t(y[w]);delete u.g[d],u.h--}}this.F=null},lt.prototype.K=function(u,d,y,w){return this.i.add(String(u),d,!1,y,w)},lt.prototype.L=function(u,d,y,w){return this.i.add(String(u),d,!0,y,w)};function mr(u,d,y,w){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,j=0;j<d.length;++j){var J=d[j];if(J&&!J.da&&J.capture==y){var Me=J.listener,ht=J.ha||J.src;J.fa&&ls(u.i,J),L=Me.call(ht,w)!==!1&&L}}return L&&!w.defaultPrevented}function bo(u,d,y){if(typeof u=="function")y&&(u=D(u,y));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(u,d||0)}function Fr(u){u.g=bo(()=>{u.g=null,u.i&&(u.i=!1,Fr(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class Si extends B{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Fr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(u){B.call(this),this.h=u,this.g={}}Q(Ai,B);var Lo=[];function Oo(u){G(u.g,function(d,y){this.g.hasOwnProperty(y)&&dr(d)},u),u.g={}}Ai.prototype.N=function(){Ai.aa.N.call(this),Oo(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=m.JSON.stringify,Fo=m.JSON.parse,Uo=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function Ci(){}Ci.prototype.h=null;function ps(u){return u.h||(u.h=u.i())}function ms(){}var pn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){le.call(this,"d")}Q(Qn,le);function gs(){le.call(this,"c")}Q(gs,le);var Gn={},jo=null;function ki(){return jo=jo||new lt}Gn.La="serverreachability";function zo(u){le.call(this,Gn.La,u)}Q(zo,le);function gr(u){const d=ki();ct(d,new zo(d))}Gn.STAT_EVENT="statevent";function $o(u,d){le.call(this,Gn.STAT_EVENT,u),this.stat=d}Q($o,le);function rt(u){const d=ki();ct(d,new $o(d,u))}Gn.Ma="timingevent";function ys(u,d){le.call(this,Gn.Ma,u),this.size=d}Q(ys,le);function Rn(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},d)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Pi(u,d,y,w,L,j){u.info(function(){if(u.g)if(j)for(var J="",Me=j.split("&"),ht=0;ht<Me.length;ht++){var Pe=Me[ht].split("=");if(1<Pe.length){var vt=Pe[0];Pe=Pe[1];var ot=vt.split("_");J=2<=ot.length&&ot[1]=="type"?J+(vt+"="+Pe+"&"):J+(vt+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+d+`
`+y+`
`+J})}function _s(u,d,y,w,L,j,J){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+d+`
`+y+`
`+j+" "+J})}function Pn(u,d,y,w){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Rc(u,y)+(w?" "+w:"")})}function Bo(u,d){u.info(function(){return"TIMEOUT: "+d})}Ri.prototype.info=function(){};function Rc(u,d){if(!u.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var w=y[u];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var j=L[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return Mo(y)}catch{return d}}var vs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ou={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vn;function Vi(){}Q(Vi,Ci),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},Vn=new Vi;function xn(u,d,y,w){this.j=u,this.i=d,this.l=y,this.R=w||1,this.U=new Ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new au}function au(){this.i=null,this.g="",this.h=!1}var qo={},ws={};function Es(u,d,y){u.L=1,u.v=Br(on(d)),u.m=y,u.P=!0,Ho(u,null)}function Ho(u,d){u.F=Date.now(),$e(u),u.A=on(u.v);var y=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),Hr(y.i,"t",w),u.C=0,y=u.j.J,u.h=new au,u.g=Au(u.j,y?d:null,!u.m),0<u.O&&(u.M=new Si(D(u.Y,u,u.g),u.O)),d=u.U,y=u.g,w=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Lo[0]=L.toString()),L=Lo);for(var j=0;j<L.length;j++){var J=Vo(y,L[j],w||d.handleEvent,!1,d.h||d);if(!J)break;d.g[J.key]=J}d=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),gr(),Pi(u.i,u.u,u.A,u.l,u.R,u.m)}xn.prototype.ca=function(u){u=u.target;const d=this.M;d&&Qt(u)==3?d.j():this.Y(u)},xn.prototype.Y=function(u){try{if(u==this.g)e:{const ot=Qt(this.g);var d=this.g.Ba();const yn=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Yo(this.g)))){this.J||ot!=4||d==7||(d==8||0>=yn?gr(3):gr(2)),xi(this);var y=this.g.Z();this.X=y;t:if(uu(this)){var w=Yo(this.g);u="";var L=w.length,j=Qt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mn(this),Ur(this);var J="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,u+=this.h.i.decode(w[d],{stream:!(j&&d==L-1)});w.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=y==200,_s(this.i,this.u,this.A,this.l,this.R,ot,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ht=this.g;if((Me=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Me)){var Pe=Me;break t}}Pe=null}if(y=Pe)Pn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wo(this,y);else{this.o=!1,this.s=3,rt(12),mn(this),Ur(this);break e}}if(this.P){y=!0;let un;for(;!this.J&&this.C<J.length;)if(un=Pc(this,J),un==ws){ot==4&&(this.s=4,rt(14),y=!1),Pn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==qo){this.s=4,rt(15),Pn(this.i,this.l,J,"[Invalid Chunk]"),y=!1;break}else Pn(this.i,this.l,un,null),Wo(this,un);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||J.length!=0||this.h.h||(this.s=1,rt(16),y=!1),this.o=this.o&&y,!y)Pn(this.i,this.l,J,"[Invalid Chunked Response]"),mn(this),Ur(this);else if(0<J.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Zo(vt),vt.M=!0,rt(11))}}else Pn(this.i,this.l,J,null),Wo(this,J);ot==4&&mn(this),this.o&&!this.J&&(ot==4?Ds(this.j,this):(this.o=!1,$e(this)))}else ks(this.g),y==400&&0<J.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),mn(this),Ur(this)}}}catch{}finally{}};function uu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Pc(u,d){var y=u.C,w=d.indexOf(`
`,y);return w==-1?ws:(y=Number(d.substring(y,w)),isNaN(y)?qo:(w+=1,w+y>d.length?ws:(d=d.slice(w,w+y),u.C=w+y,d)))}xn.prototype.cancel=function(){this.J=!0,mn(this)};function $e(u){u.S=Date.now()+u.I,lu(u,u.I)}function lu(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rn(D(u.ba,u),d)}function xi(u){u.B&&(m.clearTimeout(u.B),u.B=null)}xn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bo(this.i,this.A),this.L!=2&&(gr(),rt(17)),mn(this),this.s=2,Ur(this)):lu(this,this.S-u)};function Ur(u){u.j.G==0||u.J||Ds(u.j,u)}function mn(u){xi(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,Oo(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function Wo(u,d){try{var y=u.j;if(y.G!=0&&(y.g==u||Bt(y.h,u))){if(!u.K&&Bt(y.h,u)&&y.G==3){try{var w=y.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)xs(y),On(y);else break e;Vs(y),rt(18)}}else y.za=L[1],0<y.za-y.T&&37500>L[2]&&y.F&&y.v==0&&!y.C&&(y.C=Rn(D(y.Za,y),6e3));if(1>=hu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Er(y,11)}else if((u.K||y.g==u)&&xs(y),!se(d))for(L=y.Da.g.parse(d),d=0;d<L.length;d++){let Pe=L[d];if(y.T=Pe[0],Pe=Pe[1],y.G==2)if(Pe[0]=="c"){y.K=Pe[1],y.ia=Pe[2];const vt=Pe[3];vt!=null&&(y.la=vt,y.j.info("VER="+y.la));const ot=Pe[4];ot!=null&&(y.Aa=ot,y.j.info("SVER="+y.Aa));const yn=Pe[5];yn!=null&&typeof yn=="number"&&0<yn&&(w=1.5*yn,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const un=u.g;if(un){const Fi=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var j=w.h;j.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ko(j,j.h),j.h=null))}if(w.D){const bs=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;bs&&(w.ya=bs,Ue(w.I,w.D,bs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var J=u;if(w.qa=Su(w,w.J?w.ia:null,w.W),J.K){fu(w.h,J);var Me=J,ht=w.L;ht&&(Me.I=ht),Me.B&&(xi(Me),$e(Me)),w.g=J}else Mi(w);0<y.i.length&&Zn(y)}else Pe[0]!="stop"&&Pe[0]!="close"||Er(y,7);else y.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Er(y,7):Ct(y):Pe[0]!="noop"&&y.l&&y.l.ta(Pe),y.v=0)}}gr(4)}catch{}}var cu=class{constructor(u,d){this.g=u,this.map=d}};function Di(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hu(u){return u.h?1:u.g?u.g.size:0}function Bt(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function Ko(u,d){u.g?u.g.add(d):u.h=d}function fu(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}Di.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function du(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const y of u.g.values())d=d.concat(y.D);return d}return Y(u.i)}function Ts(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var d=[],y=u.length,w=0;w<y;w++)d.push(u[w]);return d}d=[],y=0;for(w in u)d[y++]=u[w];return d}function Is(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var d=[];u=u.length;for(var y=0;y<u;y++)d.push(y);return d}d=[],y=0;for(const w in u)d[y++]=w;return d}}}function jr(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var y=Is(u),w=Ts(u),L=w.length,j=0;j<L;j++)d.call(void 0,w[j],y&&y[j],u)}var Ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vc(u,d){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var w=u[y].indexOf("="),L=null;if(0<=w){var j=u[y].substring(0,w);L=u[y].substring(w+1)}else j=u[y];d(j,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function yr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof yr){this.h=u.h,bi(this,u.j),this.o=u.o,this.g=u.g,zr(this,u.s),this.l=u.l;var d=u.i,y=new Xn;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),$r(this,y),this.m=u.m}else u&&(d=String(u).match(Ni))?(this.h=!1,bi(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),zr(this,d[4]),this.l=Ae(d[5]||"",!0),$r(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}yr.prototype.toString=function(){var u=[],d=this.j;d&&u.push(qr(d,Ss,!0),":");var y=this.g;return(y||d=="file")&&(u.push("//"),(d=this.o)&&u.push(qr(d,Ss,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(qr(y,y.charAt(0)=="/"?gu:mu,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",qr(y,Qo)),u.join("")};function on(u){return new yr(u)}function bi(u,d,y){u.j=y?Ae(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function zr(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function $r(u,d,y){d instanceof Xn?(u.i=d,Yn(u.i,u.h)):(y||(d=qr(d,yu)),u.i=new Xn(d,u.h))}function Ue(u,d,y){u.i.set(d,y)}function Br(u){return Ue(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ae(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function qr(u,d,y){return typeof u=="string"?(u=encodeURI(u).replace(d,pu),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ss=/[#\/\?@]/g,mu=/[#\?:]/g,gu=/[#\?]/g,yu=/[#\?@]/g,Qo=/#/g;function Xn(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function At(u){u.g||(u.g=new Map,u.h=0,u.i&&Vc(u.i,function(d,y){u.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}r=Xn.prototype,r.add=function(u,d){At(this),this.i=null,u=gn(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(d),this.h+=1,this};function Dn(u,d){At(u),d=gn(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function Nn(u,d){return At(u),d=gn(u,d),u.g.has(d)}r.forEach=function(u,d){At(this),this.g.forEach(function(y,w){y.forEach(function(L){u.call(d,L,w,this)},this)},this)},r.na=function(){At(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let w=0;w<d.length;w++){const L=u[w];for(let j=0;j<L.length;j++)y.push(d[w])}return y},r.V=function(u){At(this);let d=[];if(typeof u=="string")Nn(this,u)&&(d=d.concat(this.g.get(gn(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)d=d.concat(u[y])}return d},r.set=function(u,d){return At(this),this.i=null,u=gn(this,u),Nn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},r.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function Hr(u,d,y){Dn(u,d),0<y.length&&(u.i=null,u.g.set(gn(u,d),Y(y)),u.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var w=d[y];const j=encodeURIComponent(String(w)),J=this.V(w);for(w=0;w<J.length;w++){var L=j;J[w]!==""&&(L+="="+encodeURIComponent(String(J[w]))),u.push(L)}}return this.i=u.join("&")};function gn(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function Yn(u,d){d&&!u.j&&(At(u),u.i=null,u.g.forEach(function(y,w){var L=w.toLowerCase();w!=L&&(Dn(this,w),Hr(this,L,y))},u)),u.j=d}function xc(u,d){const y=new Ri;if(m.Image){const w=new Image;w.onload=U(Kt,y,"TestLoadImage: loaded",!0,d,w),w.onerror=U(Kt,y,"TestLoadImage: error",!1,d,w),w.onabort=U(Kt,y,"TestLoadImage: abort",!1,d,w),w.ontimeout=U(Kt,y,"TestLoadImage: timeout",!1,d,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else d(!1)}function _u(u,d){const y=new Ri,w=new AbortController,L=setTimeout(()=>{w.abort(),Kt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:w.signal}).then(j=>{clearTimeout(L),j.ok?Kt(y,"TestPingServer: ok",!0,d):Kt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Kt(y,"TestPingServer: error",!1,d)})}function Kt(u,d,y,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(y)}catch{}}function Dc(){this.g=new Uo}function vu(u,d,y){const w=y||"";try{jr(u,function(L,j){let J=L;_(L)&&(J=Mo(L)),d.push(w+j+"="+encodeURIComponent(J))})}catch(L){throw d.push(w+"type="+encodeURIComponent("_badmap")),L}}function _r(u){this.l=u.Ub||null,this.j=u.eb||!1}Q(_r,Ci),_r.prototype.g=function(){return new Li(this.l,this.j)},_r.prototype.i=function(u){return function(){return u}}({});function Li(u,d){lt.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Li,lt),r=Li.prototype,r.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Ln(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function wu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?bn(this):Ln(this),this.readyState==3&&wu(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,bn(this))},r.Qa=function(u){this.g&&(this.response=u,bn(this))},r.ga=function(){this.g&&bn(this)};function bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ln(u)}r.setRequestHeader=function(u,d){this.u.append(u,d)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=d.next();return u.join(`\r
`)};function Ln(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function vr(u){let d="";return G(u,function(y,w){d+=w,d+=":",d+=y,d+=`\r
`}),d}function Wr(u,d,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=vr(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):Ue(u,d,y))}function Ke(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(Ke,lt);var Nc=/^https?$/i,Go=["POST","PUT"];r=Ke.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,d,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vn.g(),this.v=this.o?ps(this.o):ps(Vn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(j){Oi(this,j);return}if(u=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)y.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const j of w.keys())y.set(j,w.get(j));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(j=>j.toLowerCase()=="content-type"),L=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Go,d,void 0))||w||L||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of y)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cs(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Oi(this,j)}};function Oi(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,As(u),an(u)}function As(u){u.A||(u.A=!0,ct(u,"complete"),ct(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ct(this,"complete"),ct(this,"abort"),an(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),an(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Xo(this):this.bb())},r.bb=function(){Xo(this)};function Xo(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Qt(u)!=4||u.Z()!=2)){if(u.u&&Qt(u)==4)bo(u.Ea,0,u);else if(ct(u,"readystatechange"),Qt(u)==4){u.h=!1;try{const J=u.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var w;if(w=J===0){var L=String(u.D).match(Ni)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),w=!Nc.test(L?L.toLowerCase():"")}y=w}if(y)ct(u,"complete"),ct(u,"success");else{u.m=6;try{var j=2<Qt(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",As(u)}}finally{an(u)}}}}function an(u,d){if(u.g){Cs(u);const y=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||ct(u,"ready");try{y.onreadystatechange=w}catch{}}}function Cs(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Qt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),Fo(d)}};function Yo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(u){const d={};u=(u.g&&2<=Qt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(se(u[w]))continue;var y=x(u[w]);const L=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const j=d[L]||[];d[L]=j,j.push(y)}R(d,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jn(u,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||d}function Jo(u){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jn("baseRetryDelayMs",5e3,u),this.cb=Jn("retryDelaySeedMs",1e4,u),this.Wa=Jn("forwardChannelMaxRetries",2,u),this.wa=Jn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(u&&u.concurrentRequestLimit),this.Da=new Dc,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Jo.prototype,r.la=8,r.G=1,r.connect=function(u,d,y,w){rt(0),this.W=u,this.H=d||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Su(this,null,this.W),Zn(this)};function Ct(u){if(Rs(u),u.G==3){var d=u.U++,y=on(u.I);if(Ue(y,"SID",u.K),Ue(y,"RID",d),Ue(y,"TYPE","terminate"),wr(u,y),d=new xn(u,u.j,d),d.L=2,d.v=Br(on(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=Au(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$e(d)}Iu(u)}function On(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function Rs(u){On(u),u.u&&(m.clearTimeout(u.u),u.u=null),xs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function Zn(u){if(!sn(u.h)&&!u.s){u.s=!0;var d=u.Ga;Fe||te(),Z||(Fe(),Z=!0),ce.add(d,u),u.B=0}}function bc(u,d){return hu(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rn(D(u.Ga,u,d),Tu(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new xn(this,this.j,u);let j=this.o;if(this.S&&(j?(j=T(j),V(j,this.S)):j=this.S),this.m!==null||this.O||(L.H=j,j=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Kr(this,L,d),y=on(this.I),Ue(y,"RID",u),Ue(y,"CVER",22),this.D&&Ue(y,"X-HTTP-Session-Id",this.D),wr(this,y),j&&(this.O?d="headers="+encodeURIComponent(String(vr(j)))+"&"+d:this.m&&Wr(y,this.m,j)),Ko(this.h,L),this.Ua&&Ue(y,"TYPE","init"),this.P?(Ue(y,"$req",d),Ue(y,"SID","null"),L.T=!0,Es(L,y,null)):Es(L,y,d),this.G=2}}else this.G==3&&(u?Ps(this,u):this.i.length==0||sn(this.h)||Ps(this))};function Ps(u,d){var y;d?y=d.l:y=u.U++;const w=on(u.I);Ue(w,"SID",u.K),Ue(w,"RID",y),Ue(w,"AID",u.T),wr(u,w),u.m&&u.o&&Wr(w,u.m,u.o),y=new xn(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),d&&(u.i=d.D.concat(u.i)),d=Kr(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ko(u.h,y),Es(y,w,d)}function wr(u,d){u.H&&G(u.H,function(y,w){Ue(d,w,y)}),u.l&&jr({},function(y,w){Ue(d,w,y)})}function Kr(u,d,y){y=Math.min(u.i.length,y);var w=u.l?D(u.l.Na,u.l,u):null;e:{var L=u.i;let j=-1;for(;;){const J=["count="+y];j==-1?0<y?(j=L[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Me=!0;for(let ht=0;ht<y;ht++){let Pe=L[ht].g;const vt=L[ht].map;if(Pe-=j,0>Pe)j=Math.max(0,L[ht].g-100),Me=!1;else try{vu(vt,J,"req"+Pe+"_")}catch{w&&w(vt)}}if(Me){w=J.join("&");break e}}}return u=u.i.splice(0,y),d.D=u,w}function Mi(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;Fe||te(),Z||(Fe(),Z=!0),ce.add(d,u),u.v=0}}function Vs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rn(D(u.Fa,u),Tu(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Eu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rn(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),On(this),Eu(this))};function Zo(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Eu(u){u.g=new xn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=on(u.qa);Ue(d,"RID","rpc"),Ue(d,"SID",u.K),Ue(d,"AID",u.T),Ue(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ue(d,"TO",u.ja),Ue(d,"TYPE","xmlhttp"),wr(u,d),u.m&&u.o&&Wr(d,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Br(on(d)),y.m=null,y.P=!0,Ho(y,u)}r.Za=function(){this.C!=null&&(this.C=null,On(this),Vs(this),rt(19))};function xs(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function Ds(u,d){var y=null;if(u.g==d){xs(u),Zo(u),u.g=null;var w=2}else if(Bt(u.h,d))y=d.D,fu(u.h,d),w=1;else return;if(u.G!=0){if(d.o)if(w==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var L=u.B;w=ki(),ct(w,new ys(w,y)),Zn(u)}else Mi(u);else if(L=d.s,L==3||L==0&&0<d.X||!(w==1&&bc(u,d)||w==2&&Vs(u)))switch(y&&0<y.length&&(d=u.h,d.i=d.i.concat(y)),L){case 1:Er(u,5);break;case 4:Er(u,10);break;case 3:Er(u,6);break;default:Er(u,2)}}}function Tu(u,d){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*d}function Er(u,d){if(u.j.info("Error code "+d),d==2){var y=D(u.fb,u),w=u.Xa;const L=!w;w=new yr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||bi(w,"https"),Br(w),L?xc(w.toString(),y):_u(w.toString(),y)}else rt(2);u.G=0,u.l&&u.l.sa(d),Iu(u),Rs(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Iu(u){if(u.G=0,u.ka=[],u.l){const d=du(u.h);(d.length!=0||u.i.length!=0)&&(z(u.ka,d),z(u.ka,u.i),u.h.i.length=0,Y(u.i),u.i.length=0),u.l.ra()}}function Su(u,d,y){var w=y instanceof yr?on(y):new yr(y);if(w.g!="")d&&(w.g=d+"."+w.g),zr(w,w.s);else{var L=m.location;w=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var j=new yr(null);w&&bi(j,w),d&&(j.g=d),L&&zr(j,L),y&&(j.l=y),w=j}return y=u.D,d=u.ya,y&&d&&Ue(w,y,d),Ue(w,"VER",u.la),wr(u,w),w}function Au(u,d,y){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new Ke(new _r({eb:y})):new Ke(u.pa),d.Ha(u.J),d}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ea(){}r=ea.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ns(){}Ns.prototype.g=function(u,d){return new qt(u,d)};function qt(u,d){lt.call(this),this.g=new Jo(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!se(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!se(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new er(this)}Q(qt,lt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Ct(this.g)},qt.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=Mo(u),u=y);d.i.push(new cu(d.Ya++,u)),d.G==3&&Zn(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,qt.aa.N.call(this)};function Cu(u){Qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){e:{for(const y in d){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}Q(Cu,Qn);function ku(){gs.call(this),this.status=1}Q(ku,gs);function er(u){this.g=u}Q(er,ea),er.prototype.ua=function(){ct(this.g,"a")},er.prototype.ta=function(u){ct(this.g,new Cu(u))},er.prototype.sa=function(u){ct(this.g,new ku)},er.prototype.ra=function(){ct(this.g,"b")},Ns.prototype.createWebChannel=Ns.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,fw=function(){return new Ns},hw=function(){return ki()},cw=Gn,Qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vs.NO_ERROR=0,vs.TIMEOUT=8,vs.HTTP_ERROR=6,Pl=vs,ou.COMPLETE="complete",lw=ou,ms.EventType=pn,pn.OPEN="a",pn.CLOSE="b",pn.ERROR="c",pn.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Ra=ms,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,uw=Ke}).apply(typeof El<"u"?El:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore",Cy="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=new tw("@firebase/firestore");function no(){return ts.logLevel}function ne(r,...e){if(ts.logLevel<=xe.DEBUG){const t=e.map(Bd);ts.debug(`Firestore (${Co}): ${r}`,...t)}}function br(r,...e){if(ts.logLevel<=xe.ERROR){const t=e.map(Bd);ts.error(`Firestore (${Co}): ${r}`,...t)}}function fo(r,...e){if(ts.logLevel<=xe.WARN){const t=e.map(Bd);ts.warn(`Firestore (${Co}): ${r}`,...t)}}function Bd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+r;throw br(e),new Error(e)}function Oe(r,e){r||_e()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ao{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jt.UNAUTHENTICATED))}shutdown(){}}class EC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TC{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Oe(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let l=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fi,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new dw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new jt(e)}}class IC{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class SC{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new IC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AC{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,sC(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Oe(this.o===void 0);const s=l=>{l.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ne("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ky(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Oe(typeof t.token=="string"),this.R=t.token,new ky(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=CC(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function po(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,Py=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Py);return new gt(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Ry)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Py}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ry;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{static fromTimestamp(e){return new ve(e)}static min(){return new ve(new gt(0,0))}static max(){return new ve(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy="__name__";class sr{constructor(e,t,s){t===void 0?t=0:t>e.length&&_e(),s===void 0?s=e.length-t:s>e.length-t&&_e(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=sr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const s=sr.isNumericId(e),a=sr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?sr.extractNumericId(e).compare(sr.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hi.fromString(e.substring(4,e.length-2))}}class tt extends sr{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const kC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends sr{construct(e,t,s){return new Vt(e,t,s)}static isValidIdentifier(e){return kC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vy}static keyField(){return new Vt([Vy])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new de(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new de(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(l(),a++)}if(l(),h)throw new de(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(t)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(tt.fromString(e))}static fromName(e){return new pe(tt.fromString(e).popFirst(5))}static empty(){return new pe(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=-1;function RC(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=ve.fromTimestamp(s===1e9?new gt(t+1,0):new gt(t,s));return new mi(a,pe.empty(),e)}function PC(r){return new mi(r.readTime,r.key,Ba)}class mi{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new mi(ve.min(),pe.empty(),Ba)}static max(){return new mi(ve.max(),pe.empty(),Ba)}}function VC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=pe.comparator(r.documentKey,e.documentKey),t!==0?t:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==xC)throw r;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$.reject(t)}static resolve(e){return new $((t,s)=>{t(e)})}static reject(e){return new $((t,s)=>{s(e)})}static waitFor(e){return new $((t,s)=>{let a=0,l=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++l,h&&l===a&&t()},g=>s(g))}),h=!0,l===a&&t()})}static or(e){let t=$.resolve(!1);for(const s of e)t=t.next(a=>a?$.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new $((s,a)=>{const l=e.length,h=new Array(l);let m=0;for(let g=0;g<l;g++){const _=g;t(e[_]).next(E=>{h[_]=E,++m,m===l&&s(h)},E=>a(E))}})}static doWhile(e,t){return new $((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function NC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}gc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd=-1;function yc(r){return r==null}function Bl(r){return r===0&&1/r==-1/0}function bC(r){return typeof r=="number"&&Number.isInteger(r)&&!Bl(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="";function LC(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=xy(e)),e=OC(r.get(t),e);return xy(e)}function OC(r,e){let t=e;const s=r.length;for(let a=0;a<s;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case mw:t+="";break;default:t+=l}}return t}function xy(r){return r+mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ss(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function gw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,t){this.comparator=e,this.root=t||Pt.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tl(this.root,e,this.comparator,!0)}}class Tl{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??Pt.RED,this.left=a??Pt.EMPTY,this.right=l??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new Pt(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Pt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();const e=this.left.check();if(e!==this.right.check())throw _e();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e()}get value(){throw _e()}get color(){throw _e()}get left(){throw _e()}get right(){throw _e()}copy(e,t,s,a,l){return this}insert(e,t,s){return new Pt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ny(this.data.getIterator())}getIteratorFrom(e){return new Ny(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new yt(this.comparator);return t.data=e,t}}class Ny{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new qn([])}unionWith(e){let t=new yt(Vt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new yw("Invalid base64 string: "+l):l}}(e);return new xt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let h=0;h<a.length;++h)l+=String.fromCharCode(a[h]);return l}(e);return new xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const MC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gi(r){if(Oe(!!r),typeof r=="string"){let e=0;const t=MC.exec(r);if(Oe(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:st(r.seconds),nanos:st(r.nanos)}}function st(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function yi(r){return typeof r=="string"?xt.fromBase64String(r):xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="server_timestamp",vw="__type__",ww="__previous_value__",Ew="__local_write_time__";function Hd(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[vw])===null||t===void 0?void 0:t.stringValue)===_w}function _c(r){const e=r.mapValue.fields[ww];return Hd(e)?_c(e):e}function qa(r){const e=gi(r.mapValue.fields[Ew].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,s,a,l,h,m,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}const ql="(default)";class Ha{constructor(e,t){this.projectId=e,this.database=t||ql}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database===ql}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__type__",UC="__max__",Il={mapValue:{}},Iw="__vector__",Hl="value";function _i(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hd(r)?4:zC(r)?9007199254740991:jC(r)?10:11:_e()}function ur(r,e){if(r===e)return!0;const t=_i(r);if(t!==_i(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return qa(r).isEqual(qa(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const h=gi(a.timestampValue),m=gi(l.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,l){return yi(a.bytesValue).isEqual(yi(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,l){return st(a.geoPointValue.latitude)===st(l.geoPointValue.latitude)&&st(a.geoPointValue.longitude)===st(l.geoPointValue.longitude)}(r,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return st(a.integerValue)===st(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const h=st(a.doubleValue),m=st(l.doubleValue);return h===m?Bl(h)===Bl(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],ur);case 10:case 11:return function(a,l){const h=a.mapValue.fields||{},m=l.mapValue.fields||{};if(Dy(h)!==Dy(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!ur(h[g],m[g])))return!1;return!0}(r,e);default:return _e()}}function Wa(r,e){return(r.values||[]).find(t=>ur(t,e))!==void 0}function mo(r,e){if(r===e)return 0;const t=_i(r),s=_i(e);if(t!==s)return Ce(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(l,h){const m=st(l.integerValue||l.doubleValue),g=st(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return by(r.timestampValue,e.timestampValue);case 4:return by(qa(r),qa(e));case 5:return Ce(r.stringValue,e.stringValue);case 6:return function(l,h){const m=yi(l),g=yi(h);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const m=l.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const E=Ce(m[_],g[_]);if(E!==0)return E}return Ce(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const m=Ce(st(l.latitude),st(h.latitude));return m!==0?m:Ce(st(l.longitude),st(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ly(r.arrayValue,e.arrayValue);case 10:return function(l,h){var m,g,_,E;const S=l.fields||{},D=h.fields||{},U=(m=S[Hl])===null||m===void 0?void 0:m.arrayValue,Q=(g=D[Hl])===null||g===void 0?void 0:g.arrayValue,Y=Ce(((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0,((E=Q==null?void 0:Q.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:Ly(U,Q)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===Il.mapValue&&h===Il.mapValue)return 0;if(l===Il.mapValue)return 1;if(h===Il.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),_=h.fields||{},E=Object.keys(_);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const D=Ce(g[S],E[S]);if(D!==0)return D;const U=mo(m[g[S]],_[E[S]]);if(U!==0)return U}return Ce(g.length,E.length)}(r.mapValue,e.mapValue);default:throw _e()}}function by(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const t=gi(r),s=gi(e),a=Ce(t.seconds,s.seconds);return a!==0?a:Ce(t.nanos,s.nanos)}function Ly(r,e){const t=r.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=mo(t[a],s[a]);if(l)return l}return Ce(t.length,s.length)}function go(r){return Gf(r)}function Gf(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=gi(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return yi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return pe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Gf(l);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const h of s)l?l=!1:a+=",",a+=`${h}:${Gf(t.fields[h])}`;return a+"}"}(r.mapValue):_e()}function Vl(r){switch(_i(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=_c(r);return e?16+Vl(e):16;case 5:return 2*r.stringValue.length;case 6:return yi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+Vl(l),0)}(r.arrayValue);case 10:case 11:return function(s){let a=0;return ss(s.fields,(l,h)=>{a+=l.length+Vl(h)}),a}(r.mapValue);default:throw _e()}}function Xf(r){return!!r&&"integerValue"in r}function Wd(r){return!!r&&"arrayValue"in r}function Oy(r){return!!r&&"nullValue"in r}function My(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xl(r){return!!r&&"mapValue"in r}function jC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Tw])===null||t===void 0?void 0:t.stringValue)===Iw}function La(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ss(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=La(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=La(r.arrayValue.values[t]);return e}return Object.assign({},r)}function zC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===UC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!xl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(t)}setAll(e){let t=Vt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,a),s={},a=[],t=m.popLast()}h?s[m.lastSegment()]=La(h):a.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());xl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ur(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];xl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){ss(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new Sn(La(this.value))}}function Sw(r){const e=[];return ss(r.fields,(t,s)=>{const a=new Vt([t]);if(xl(s)){const l=Sw(s.mapValue).fields;if(l.length===0)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t,s,a,l,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=h,this.documentState=m}static newInvalidDocument(e){return new zt(e,0,ve.min(),ve.min(),ve.min(),Sn.empty(),0)}static newFoundDocument(e,t,s,a){return new zt(e,1,t,ve.min(),s,a,0)}static newNoDocument(e,t){return new zt(e,2,t,ve.min(),ve.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,ve.min(),ve.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t){this.position=e,this.inclusive=t}}function Fy(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],h=r.position[a];if(l.field.isKeyField()?s=pe.comparator(pe.fromName(h.referenceValue),t.key):s=mo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Uy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!ur(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,t="asc"){this.field=e,this.dir=t}}function $C(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{}class mt extends Aw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new qC(e,t,s):t==="array-contains"?new KC(e,s):t==="in"?new QC(e,s):t==="not-in"?new GC(e,s):t==="array-contains-any"?new XC(e,s):new mt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new HC(e,s):new WC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(mo(t,this.value)):t!==null&&_i(this.value)===_i(t)&&this.matchesComparison(mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends Aw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new lr(e,t)}matches(e){return Cw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Cw(r){return r.op==="and"}function kw(r){return BC(r)&&Cw(r)}function BC(r){for(const e of r.filters)if(e instanceof lr)return!1;return!0}function Yf(r){if(r instanceof mt)return r.field.canonicalString()+r.op.toString()+go(r.value);if(kw(r))return r.filters.map(e=>Yf(e)).join(",");{const e=r.filters.map(t=>Yf(t)).join(",");return`${r.op}(${e})`}}function Rw(r,e){return r instanceof mt?function(s,a){return a instanceof mt&&s.op===a.op&&s.field.isEqual(a.field)&&ur(s.value,a.value)}(r,e):r instanceof lr?function(s,a){return a instanceof lr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,h,m)=>l&&Rw(h,a.filters[m]),!0):!1}(r,e):void _e()}function Pw(r){return r instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`}(r):r instanceof lr?function(t){return t.op.toString()+" {"+t.getFilters().map(Pw).join(" ,")+"}"}(r):"Filter"}class qC extends mt{constructor(e,t,s){super(e,t,s),this.key=pe.fromName(s.referenceValue)}matches(e){const t=pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class HC extends mt{constructor(e,t){super(e,"in",t),this.keys=Vw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class WC extends mt{constructor(e,t){super(e,"not-in",t),this.keys=Vw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Vw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>pe.fromName(s.referenceValue))}class KC extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Wd(t)&&Wa(t.arrayValue,this.value)}}class QC extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Wa(this.value.arrayValue,t)}}class GC extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Wa(this.value.arrayValue,t)}}class XC extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Wd(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Wa(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,t=null,s=[],a=[],l=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=h,this.endAt=m,this.le=null}}function jy(r,e=null,t=[],s=[],a=null,l=null,h=null){return new YC(r,e,t,s,a,l,h)}function Kd(r){const e=we(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Yf(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),yc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>go(s)).join(",")),e.le=t}return e.le}function Qd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!$C(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Rw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Uy(r.startAt,e.startAt)&&Uy(r.endAt,e.endAt)}function Jf(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,t=null,s=[],a=[],l=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=h,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function JC(r,e,t,s,a,l,h,m){return new vc(r,e,t,s,a,l,h,m)}function Gd(r){return new vc(r)}function zy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZC(r){return r.collectionGroup!==null}function Oa(r){const e=we(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new yt(Vt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Kl(l,s))}),t.has(Vt.keyField().canonicalString())||e.he.push(new Kl(Vt.keyField(),s))}return e.he}function or(r){const e=we(r);return e.Pe||(e.Pe=ek(e,Oa(r))),e.Pe}function ek(r,e){if(r.limitType==="F")return jy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Kl(a.field,l)});const t=r.endAt?new Wl(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Wl(r.startAt.position,r.startAt.inclusive):null;return jy(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function Zf(r,e,t){return new vc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wc(r,e){return Qd(or(r),or(e))&&r.limitType===e.limitType}function xw(r){return`${Kd(or(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>Pw(a)).join(", ")}]`),yc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>go(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>go(a)).join(",")),`Target(${s})`}(or(r))}; limitType=${r.limitType})`}function Ec(r,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):pe.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(r,e)&&function(s,a){for(const l of Oa(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(r,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(r,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const _=Fy(h,m,g);return h.inclusive?_<=0:_<0}(s.startAt,Oa(s),a)||s.endAt&&!function(h,m,g){const _=Fy(h,m,g);return h.inclusive?_>=0:_>0}(s.endAt,Oa(s),a))}(r,e)}function tk(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Dw(r){return(e,t)=>{let s=!1;for(const a of Oa(r)){const l=nk(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function nk(r,e,t){const s=r.field.isKeyField()?pe.comparator(e.key,t.key):function(l,h,m){const g=h.data.field(l),_=m.data.field(l);return g!==null&&_!==null?mo(g,_):_e()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new Ze(pe.comparator);function Lr(){return rk}const Nw=new Ze(pe.comparator);function Pa(...r){let e=Nw;for(const t of r)e=e.insert(t.key,t);return e}function bw(r){let e=Nw;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function es(){return Ma()}function Lw(){return Ma()}function Ma(){return new os(r=>r.toString(),(r,e)=>r.isEqual(e))}const ik=new Ze(pe.comparator),sk=new yt(pe.comparator);function Se(...r){let e=sk;for(const t of r)e=e.add(t);return e}const ok=new yt(Ce);function ak(){return ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function Ow(r){return{integerValue:""+r}}function uk(r,e){return bC(e)?Ow(e):Xd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function lk(r,e,t){return r instanceof Ql?function(a,l){const h={fields:{[vw]:{stringValue:_w},[Ew]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Hd(l)&&(l=_c(l)),l&&(h.fields[ww]=l),{mapValue:h}}(t,e):r instanceof Ka?Fw(r,e):r instanceof Qa?Uw(r,e):function(a,l){const h=Mw(a,l),m=$y(h)+$y(a.Ie);return Xf(h)&&Xf(a.Ie)?Ow(m):Xd(a.serializer,m)}(r,e)}function ck(r,e,t){return r instanceof Ka?Fw(r,e):r instanceof Qa?Uw(r,e):t}function Mw(r,e){return r instanceof Gl?function(s){return Xf(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Ql extends Tc{}class Ka extends Tc{constructor(e){super(),this.elements=e}}function Fw(r,e){const t=jw(e);for(const s of r.elements)t.some(a=>ur(a,s))||t.push(s);return{arrayValue:{values:t}}}class Qa extends Tc{constructor(e){super(),this.elements=e}}function Uw(r,e){let t=jw(e);for(const s of r.elements)t=t.filter(a=>!ur(a,s));return{arrayValue:{values:t}}}class Gl extends Tc{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function $y(r){return st(r.integerValue||r.doubleValue)}function jw(r){return Wd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function hk(r,e){return r.field.isEqual(e.field)&&function(s,a){return s instanceof Ka&&a instanceof Ka||s instanceof Qa&&a instanceof Qa?po(s.elements,a.elements,ur):s instanceof Gl&&a instanceof Gl?ur(s.Ie,a.Ie):s instanceof Ql&&a instanceof Ql}(r.transform,e.transform)}class fk{constructor(e,t){this.version=e,this.transformResults=t}}class Dr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dr}static exists(e){return new Dr(void 0,e)}static updateTime(e){return new Dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dl(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ic{}function zw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bw(r.key,Dr.none()):new tu(r.key,r.data,Dr.none());{const t=r.data,s=Sn.empty();let a=new yt(Vt.comparator);for(let l of e.fields)if(!a.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),a=a.add(l)}return new as(r.key,s,new qn(a.toArray()),Dr.none())}}function dk(r,e,t){r instanceof tu?function(a,l,h){const m=a.value.clone(),g=qy(a.fieldTransforms,l,h.transformResults);m.setAll(g),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof as?function(a,l,h){if(!Dl(a.precondition,l))return void l.convertToUnknownDocument(h.version);const m=qy(a.fieldTransforms,l,h.transformResults),g=l.data;g.setAll($w(a)),g.setAll(m),l.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(a,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Fa(r,e,t,s){return r instanceof tu?function(l,h,m,g){if(!Dl(l.precondition,h))return m;const _=l.value.clone(),E=Hy(l.fieldTransforms,g,h);return _.setAll(E),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(r,e,t,s):r instanceof as?function(l,h,m,g){if(!Dl(l.precondition,h))return m;const _=Hy(l.fieldTransforms,g,h),E=h.data;return E.setAll($w(l)),E.setAll(_),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(l,h,m){return Dl(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function pk(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=Mw(s.transform,a||null);l!=null&&(t===null&&(t=Sn.empty()),t.set(s.field,l))}return t||null}function By(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&po(s,a,(l,h)=>hk(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class tu extends Ic{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class as extends Ic{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function $w(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function qy(r,e,t){const s=new Map;Oe(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],h=l.transform,m=e.data.field(l.field);s.set(l.field,ck(h,m,t[a]))}return s}function Hy(r,e,t){const s=new Map;for(const a of r){const l=a.transform,h=t.data.field(a.field);s.set(a.field,lk(l,h,e))}return s}class Bw extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mk extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&dk(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Fa(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Fa(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Lw();return this.mutations.forEach(a=>{const l=e.get(a.key),h=l.overlayedDocument;let m=this.applyToLocalView(h,l.mutatedFields);m=t.has(a.key)?null:m;const g=zw(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(ve.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Se())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(t,s)=>By(t,s))&&po(this.baseMutations,e.baseMutations,(t,s)=>By(t,s))}}class Yd{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Oe(e.mutations.length===s.length);let a=function(){return ik}();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,s[h].version);return new Yd(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ve;function vk(r){switch(r){case K.OK:return _e();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return _e()}}function qw(r){if(r===void 0)return br("GRPC error has no .code"),K.UNKNOWN;switch(r){case ut.OK:return K.OK;case ut.CANCELLED:return K.CANCELLED;case ut.UNKNOWN:return K.UNKNOWN;case ut.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case ut.INTERNAL:return K.INTERNAL;case ut.UNAVAILABLE:return K.UNAVAILABLE;case ut.UNAUTHENTICATED:return K.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case ut.NOT_FOUND:return K.NOT_FOUND;case ut.ALREADY_EXISTS:return K.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return K.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case ut.ABORTED:return K.ABORTED;case ut.OUT_OF_RANGE:return K.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return K.UNIMPLEMENTED;case ut.DATA_LOSS:return K.DATA_LOSS;default:return _e()}}(Ve=ut||(ut={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new hi([4294967295,4294967295],0);function Wy(r){const e=wk().encode(r),t=new aw;return t.update(e),new Uint8Array(t.digest())}function Ky(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hi([t,s],0),new hi([a,l],0)]}class Jd{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Va(`Invalid padding: ${t}`);if(s<0)throw new Va(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Va(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Va(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=hi.fromNumber(this.Ee)}Ae(e,t,s){let a=e.add(t.multiply(hi.fromNumber(s)));return a.compare(Ek)===1&&(a=new hi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Wy(e),[s,a]=Ky(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,a,l);if(!this.Re(h))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new Jd(l,a,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ee===0)return;const t=Wy(e),[s,a]=Ky(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(s,a,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Va extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Sc(ve.min(),a,new Ze(Ce),Lr(),Se())}}class nu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new nu(s,t,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t,s,a){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=a}}class Hw{constructor(e,t){this.targetId=e,this.ge=t}}class Ww{constructor(e,t,s=xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Qy{constructor(){this.pe=0,this.ye=Gy(),this.we=xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Se(),t=Se(),s=Se();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:_e()}}),new nu(this.we,this.be,e,t,s)}Me(){this.Se=!1,this.ye=Gy()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Oe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Tk{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Lr(),this.$e=Sl(),this.Ke=Sl(),this.Ue=new Ze(Ce)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:_e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,s=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Jf(l))if(s===0){const h=new pe(l.path);this.ze(t,h,zt.newNoDocument(h,ve.min()))}else Oe(s===1);else{const h=this.et(t);if(h!==s){const m=this.tt(e),g=m?this.nt(m,e,h):1;if(g!==0){this.Ye(t);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,_)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let h,m;try{h=yi(s).toUint8Array()}catch(g){if(g instanceof yw)return fo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Jd(h,a,l)}catch(g){return fo(g instanceof Va?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const h=this.ke.it(),m=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const m=this.Xe(h);if(m){if(l.current&&Jf(m.target)){const g=new pe(m.target.path);this._t(g).has(h)||this.ut(h,g)||this.ze(h,g,zt.newNoDocument(g,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let s=Se();this.Ke.forEach((l,h)=>{let m=!0;h.forEachWhile(g=>{const _=this.Xe(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const a=new Sc(e,t,this.Ue,this.Qe,s);return this.Qe=Lr(),this.$e=Sl(),this.Ke=Sl(),this.Ue=new Ze(Ce),a}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Qy,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new yt(Ce),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new yt(Ce),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Qy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Sl(){return new Ze(pe.comparator)}function Gy(){return new Ze(pe.comparator)}const Ik={asc:"ASCENDING",desc:"DESCENDING"},Sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ak={and:"AND",or:"OR"};class Ck{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ed(r,e){return r.useProto3Json||yc(e)?e:{value:e}}function Xl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kk(r,e){return Xl(r,e.toTimestamp())}function ar(r){return Oe(!!r),ve.fromTimestamp(function(t){const s=gi(t);return new gt(s.seconds,s.nanos)}(r))}function Zd(r,e){return td(r,e).canonicalString()}function td(r,e){const t=function(a){return new tt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Qw(r){const e=tt.fromString(r);return Oe(Zw(e)),e}function nd(r,e){return Zd(r.databaseId,e.path)}function _f(r,e){const t=Qw(e);if(t.get(1)!==r.databaseId.projectId)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new de(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new pe(Xw(t))}function Gw(r,e){return Zd(r.databaseId,e)}function Rk(r){const e=Qw(r);return e.length===4?tt.emptyPath():Xw(e)}function rd(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Xw(r){return Oe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Xy(r,e,t){return{name:nd(r,e),fields:t.value.mapValue.fields}}function Pk(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(_,E){return _.useProto3Json?(Oe(E===void 0||typeof E=="string"),xt.fromBase64String(E||"")):(Oe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),xt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const E=_.code===void 0?K.UNKNOWN:qw(_.code);return new de(E,_.message||"")}(h);t=new Ww(s,a,l,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=_f(r,s.document.name),l=ar(s.document.updateTime),h=s.document.createTime?ar(s.document.createTime):ve.min(),m=new Sn({mapValue:{fields:s.document.fields}}),g=zt.newFoundDocument(a,l,h,m),_=s.targetIds||[],E=s.removedTargetIds||[];t=new Nl(_,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=_f(r,s.document),l=s.readTime?ar(s.readTime):ve.min(),h=zt.newNoDocument(a,l),m=s.removedTargetIds||[];t=new Nl([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=_f(r,s.document),l=s.removedTargetIds||[];t=new Nl([],l,a,null)}else{if(!("filter"in e))return _e();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,h=new _k(a,l),m=s.targetId;t=new Hw(m,h)}}return t}function Vk(r,e){let t;if(e instanceof tu)t={update:Xy(r,e.key,e.value)};else if(e instanceof Bw)t={delete:nd(r,e.key)};else if(e instanceof as)t={update:Xy(r,e.key,e.data),updateMask:Uk(e.fieldMask)};else{if(!(e instanceof mk))return _e();t={verify:nd(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,h){const m=h.transform;if(m instanceof Ql)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ka)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Qa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gl)return{fieldPath:h.field.canonicalString(),increment:m.Ie};throw _e()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:kk(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:_e()}(r,e.precondition)),t}function xk(r,e){return r&&r.length>0?(Oe(e!==void 0),r.map(t=>function(a,l){let h=a.updateTime?ar(a.updateTime):ar(l);return h.isEqual(ve.min())&&(h=ar(l)),new fk(h,a.transformResults||[])}(t,e))):[]}function Dk(r,e){return{documents:[Gw(r,e.path)]}}function Nk(r,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Gw(r,a);const l=function(_){if(_.length!==0)return Jw(lr.create(_,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(_){if(_.length!==0)return _.map(E=>function(D){return{field:io(D.field),direction:Ok(D.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=ed(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:t,parent:a}}function bk(r){let e=Rk(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Oe(s===1);const E=t.from[0];E.allDescendants?a=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(S){const D=Yw(S);return D instanceof lr&&kw(D)?D.getFilters():[D]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(D=>function(Q){return new Kl(so(Q.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Q.direction))}(D))}(t.orderBy));let m=null;t.limit&&(m=function(S){let D;return D=typeof S=="object"?S.value:S,yc(D)?null:D}(t.limit));let g=null;t.startAt&&(g=function(S){const D=!!S.before,U=S.values||[];return new Wl(U,D)}(t.startAt));let _=null;return t.endAt&&(_=function(S){const D=!S.before,U=S.values||[];return new Wl(U,D)}(t.endAt)),JC(e,a,h,l,m,"F",g,_)}function Lk(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Yw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=so(t.unaryFilter.field);return mt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=so(t.unaryFilter.field);return mt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=so(t.unaryFilter.field);return mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=so(t.unaryFilter.field);return mt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return _e()}}(r):r.fieldFilter!==void 0?function(t){return mt.create(so(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _e()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return lr.create(t.compositeFilter.filters.map(s=>Yw(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e()}}(t.compositeFilter.op))}(r):_e()}function Ok(r){return Ik[r]}function Mk(r){return Sk[r]}function Fk(r){return Ak[r]}function io(r){return{fieldPath:r.canonicalString()}}function so(r){return Vt.fromServerFormat(r.fieldPath)}function Jw(r){return r instanceof mt?function(t){if(t.op==="=="){if(My(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(Oy(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(My(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(Oy(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:Mk(t.op),value:t.value}}}(r):r instanceof lr?function(t){const s=t.getFilters().map(a=>Jw(a));return s.length===1?s[0]:{compositeFilter:{op:Fk(t.op),filters:s}}}(r):_e()}function Uk(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t,s,a,l=ve.min(),h=ve.min(),m=xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.Tt=e}}function zk(r){const e=bk({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Tn=new Bk}addToCollectionParentIndex(e,t){return this.Tn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(mi.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(mi.min())}updateCollectionGroup(e,t,s){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class Bk{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new yt(tt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new yt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eE=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(eE,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new yo(0)}static Un(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LruGarbageCollector",qk=1048576;function Zy([r,e],[t,s]){const a=Ce(r,t);return a===0?Ce(e,s):a}class Hk{constructor(e){this.Hn=e,this.buffer=new yt(Zy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();Zy(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ne(Jy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ro(t)?ne(Jy,"Ignoring IndexedDB error during garbage collection: ",t):await ko(t)}await this.er(3e5)})}}class Kk{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return $.resolve(gc.ae);const s=new Hk(t);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Yy)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yy):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,a,l,h,m,g,_;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),a=this.params.maximumSequenceNumbersToCollect):a=S,h=Date.now(),this.nthSequenceNumber(e,a))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,t))).next(S=>(l=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(_=Date.now(),no()<=xe.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(_-g)+`ms
Total Duration: ${_-E}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:S})))}}function Qk(r,e){return new Kk(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.changes=new os(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?$.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&Fa(s.mutation,a,qn.empty(),gt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Se()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Se()){const a=es();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let h=Pa();return l.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=es();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Se()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,a){let l=Lr();const h=Ma(),m=function(){return Ma()}();return t.forEach((g,_)=>{const E=s.get(_.key);a.has(_.key)&&(E===void 0||E.mutation instanceof as)?l=l.insert(_.key,_):E!==void 0?(h.set(_.key,E.mutation.getFieldMask()),Fa(E.mutation,_,E.mutation.getFieldMask(),gt.now())):h.set(_.key,qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(g=>(g.forEach((_,E)=>h.set(_,E)),t.forEach((_,E)=>{var S;return m.set(_,new Xk(E,(S=h.get(_))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Ma();let a=new Ze((h,m)=>h-m),l=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const _=t.get(g);if(_===null)return;let E=s.get(g)||qn.empty();E=m.applyToLocalView(_,E),s.set(g,E);const S=(a.get(m.batchId)||Se()).add(g);a=a.insert(m.batchId,S)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,E=g.value,S=Lw();E.forEach(D=>{if(!l.has(D)){const U=zw(t.get(D),s.get(D));U!==null&&S.set(D,U),l=l.add(D)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,S))}return $.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(h){return pe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const h=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):$.resolve(es());let m=Ba,g=l;return h.next(_=>$.forEach(_,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),l.get(E)?$.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{g=g.insert(E,D)}))).next(()=>this.populateOverlays(e,_,l)).next(()=>this.computeViews(e,g,_,Se())).next(E=>({batchId:m,changes:bw(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pe(t)).next(s=>{let a=Pa();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let h=Pa();return this.indexManager.getCollectionParents(e,l).next(m=>$.forEach(m,g=>{const _=function(S,D){return new vc(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(E=>{E.forEach((S,D)=>{h=h.insert(S,D)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(h=>{l.forEach((g,_)=>{const E=_.getKey();h.get(E)===null&&(h=h.insert(E,zt.newInvalidDocument(E)))});let m=Pa();return h.forEach((g,_)=>{const E=l.get(g);E!==void 0&&Fa(E.mutation,_,qn.empty(),gt.now()),Ec(t,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return $.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:ar(a.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:zk(a.bundledQuery),readTime:ar(a.readTime)}}(t)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new Ze(pe.comparator),this.Rr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const s=es();return $.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.Et(e,t,l)}),$.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(e,t,s){const a=es(),l=t.length+1,h=new pe(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!t.isPrefixOf(_.path))break;_.path.length===l&&g.largestBatchId>s&&a.set(g.getKey(),g)}return $.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new Ze((_,E)=>_-E);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===t&&_.largestBatchId>s){let E=l.get(_.largestBatchId);E===null&&(E=es(),l=l.insert(_.largestBatchId,E)),E.set(_.getKey(),_)}}const m=es(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,E)=>m.set(_,E)),!(m.size()>=a)););return $.resolve(m)}Et(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new yk(t,s));let l=this.Rr.get(t);l===void 0&&(l=Se(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.Vr=new yt(It.mr),this.gr=new yt(It.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new It(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new It(e,t))}br(e,t){e.forEach(s=>this.removeReference(s,t))}Sr(e){const t=new pe(new tt([])),s=new It(t,e),a=new It(t,e+1),l=[];return this.gr.forEachInRange([s,a],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new pe(new tt([])),s=new It(t,e),a=new It(t,e+1);let l=Se();return this.gr.forEachInRange([s,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new It(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class It{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return pe.comparator(e.key,t.key)||Ce(e.Cr,t.Cr)}static pr(e,t){return Ce(e.Cr,t.Cr)||pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new yt(It.mr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new gk(l,t,s,a);this.mutationQueue.push(h);for(const m of a)this.Mr=this.Mr.add(new It(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(h)}lookupMutationBatch(e,t){return $.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Nr(s),l=a<0?0:a;return $.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qd:this.Fr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new It(t,0),a=new It(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,a],h=>{const m=this.Or(h.Cr);l.push(m)}),$.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new yt(Ce);return t.forEach(a=>{const l=new It(a,0),h=new It(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;pe.isDocumentKey(l)||(l=l.child(""));const h=new It(new pe(l),0);let m=new yt(Ce);return this.Mr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.Cr)),!0)},h),$.resolve(this.Br(m))}Br(e){const t=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){Oe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(t.mutations,a=>{const l=new It(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new It(t,0),a=this.Mr.firstAfterOrEqual(s);return $.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.kr=e,this.docs=function(){return new Ze(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,h=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return $.resolve(s?s.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let s=Lr();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():zt.newInvalidDocument(a))}),$.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Lr();const h=t.path,m=new pe(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:E}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||VC(PC(E),s)<=0||(a.has(E.key)||Ec(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return $.resolve(l)}getAllFromCollectionGroup(e,t,s,a){_e()}qr(e,t){return $.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new rR(this)}getSize(e){return $.resolve(this.size)}}class rR extends Gk{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),$.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.persistence=e,this.Qr=new os(t=>Kd(t),Qd),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ep,this.targetCount=0,this.Ur=yo.Kn()}forEachTarget(e,t){return this.Qr.forEach((s,a)=>t(a)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),$.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.zn(t),$.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Qr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),$.waitFor(l).next(()=>a)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return $.resolve(s)}addMatchingKeys(e,t,s){return this.Kr.yr(t,s),$.resolve()}removeMatchingKeys(e,t,s){this.Kr.br(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),$.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Kr.vr(t);return $.resolve(s)}containsKey(e,t){return $.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new gc(0),this.zr=!1,this.zr=!0,this.jr=new eR,this.referenceDelegate=e(this),this.Hr=new iR(this),this.indexManager=new $k,this.remoteDocumentCache=function(a){return new nR(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new jk(t),this.Yr=new Jk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new tR(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ne("MemoryPersistence","Starting transaction:",e);const a=new sR(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class sR extends DC{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.ti=new ep,this.ni=null}static ri(e){return new tp(e)}get ii(){if(this.ni)return this.ni;throw _e()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),$.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),$.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const a=pe.fromPath(s);return this.si(e,a).next(l=>{l||t.removeEntry(a,ve.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return $.or([()=>$.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Yl{constructor(e,t){this.persistence=e,this.oi=new os(s=>LC(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=Qk(this,t)}static ri(e,t){return new Yl(e,t)}Zr(){}Xr(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return $.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(l=>l?$.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,h=>this.ar(e,h,t).next(m=>{m||(s++,l.removeEntry(h,ve.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),$.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vl(e.data.value)),t}ar(e,t,s){return $.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return $.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=a}static Yi(e,t){let s=Se(),a=Se();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new np(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return nA()?8:NC(eA())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,a,s).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new oR;return this._s(e,t,h).next(m=>{if(l.result=m,this.Xi)return this.us(e,t,h,m.size)})}).next(()=>l.result)}us(e,t,s,a){return s.documentReadCount<this.es?(no()<=xe.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(no()<=xe.DEBUG&&ne("QueryEngine","Query:",ro(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(no()<=xe.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(t))):$.resolve())}rs(e,t){if(zy(t))return $.resolve(null);let s=or(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Zf(t,null,"F"),s=or(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const h=Se(...l);return this.ns.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.cs(t,m);return this.ls(t,_,h,g.readTime)?this.rs(e,Zf(t,null,"F")):this.hs(e,_,t,g)}))})))}ss(e,t,s,a){return zy(t)||a.isEqual(ve.min())?$.resolve(null):this.ns.getDocuments(e,s).next(l=>{const h=this.cs(t,l);return this.ls(t,h,s,a)?$.resolve(null):(no()<=xe.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ro(t)),this.hs(e,h,t,RC(a,Ba)).next(m=>m))})}cs(e,t){let s=new yt(Dw(e));return t.forEach((a,l)=>{Ec(e,l)&&(s=s.add(l))}),s}ls(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,s){return no()<=xe.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",ro(t)),this.ns.getDocumentsMatchingQuery(e,t,mi.min(),s)}hs(e,t,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="LocalStore",uR=3e8;class lR{constructor(e,t,s,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new Ze(Ce),this.Is=new os(l=>Kd(l),Qd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Yk(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function cR(r,e,t,s){return new lR(r,e,t,s)}async function nE(r,e){const t=we(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const h=[],m=[];let g=Se();for(const _ of a){h.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}for(const _ of l){m.push(_.batchId);for(const E of _.mutations)g=g.add(E.key)}return t.localDocuments.getDocuments(s,g).next(_=>({Rs:_,removedBatchIds:h,addedBatchIds:m}))})})}function hR(r,e){const t=we(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,_,E){const S=_.batch,D=S.keys();let U=$.resolve();return D.forEach(Q=>{U=U.next(()=>E.getEntry(g,Q)).next(Y=>{const z=_.docVersions.get(Q);Oe(z!==null),Y.version.compareTo(z)<0&&(S.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),E.addEntry(Y)))})}),U.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Se();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function rE(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function fR(r,e){const t=we(r),s=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const D=a.get(S);if(!D)return;m.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,S).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,S)));let U=D.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?U=U.withResumeToken(xt.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,s)),a=a.insert(S,U),function(Y,z,ge){return Y.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=uR?!0:ge.addedDocuments.size+ge.modifiedDocuments.size+ge.removedDocuments.size>0}(D,U,E)&&m.push(t.Hr.updateTargetData(l,U))});let g=Lr(),_=Se();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),m.push(dR(l,h,e.documentUpdates).next(E=>{g=E.Vs,_=E.fs})),!s.isEqual(ve.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(S=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));m.push(E)}return $.waitFor(m).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,g,_)).next(()=>g)}).then(l=>(t.Ts=a,l))}function dR(r,e,t){let s=Se(),a=Se();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let h=Lr();return t.forEach((m,g)=>{const _=l.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(ve.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ne(rp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Vs:h,fs:a}})}function pR(r,e){const t=we(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=qd),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mR(r,e){const t=we(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Hr.getTargetData(s,e).next(l=>l?(a=l,$.resolve(a)):t.Hr.allocateTargetId(s).next(h=>(a=new ui(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function id(r,e,t){const s=we(r),a=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Ro(h))throw h;ne(rp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function e_(r,e,t){const s=we(r);let a=ve.min(),l=Se();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,E){const S=we(g),D=S.Is.get(E);return D!==void 0?$.resolve(S.Ts.get(D)):S.Hr.getTargetData(_,E)}(s,h,or(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{l=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,t?a:ve.min(),t?l:Se())).next(m=>(gR(s,tk(e),m),{documents:m,gs:l})))}function gR(r,e,t){let s=r.Es.get(e)||ve.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Es.set(e,s)}class t_{constructor(){this.activeTargetIds=ak()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yR{constructor(){this.ho=new t_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new t_,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="ConnectivityMonitor";class r_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ne(n_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ne(n_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al=null;function sd(){return Al===null?Al=function(){return 268435456+Math.round(2147483648*Math.random())}():Al++,"0x"+Al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="RestConnection",vR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===ql?`project_id=${s}`:`project_id=${s}&database_id=${a}`}bo(e,t,s,a,l){const h=sd(),m=this.So(e,t.toUriEncodedString());ne(vf,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,a,l),this.vo(e,m,g,s).then(_=>(ne(vf,`Received RPC '${e}' ${h}: `,_),_),_=>{throw fo(vf,`RPC '${e}' ${h} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,t,s,a,l,h){return this.bo(e,t,s,a,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}So(e,t){const s=vR[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class TR extends wR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,a){const l=sd();return new Promise((h,m)=>{const g=new uw;g.setWithCredentials(!0),g.listenOnce(lw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Pl.NO_ERROR:const E=g.getResponseJson();ne(Ut,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Pl.TIMEOUT:ne(Ut,`RPC '${e}' ${l} timed out`),m(new de(K.DEADLINE_EXCEEDED,"Request time out"));break;case Pl.HTTP_ERROR:const S=g.getStatus();if(ne(Ut,`RPC '${e}' ${l} failed with status:`,S,"response text:",g.getResponseText()),S>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const U=D==null?void 0:D.error;if(U&&U.status&&U.message){const Q=function(z){const ge=z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ge)>=0?ge:K.UNKNOWN}(U.status);m(new de(Q,U.message))}else m(new de(K.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(K.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{ne(Ut,`RPC '${e}' ${l} completed.`)}});const _=JSON.stringify(a);ne(Ut,`RPC '${e}' ${l} sending request:`,a),g.send(t,"POST",_,s,15)})}Wo(e,t,s){const a=sd(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=fw(),m=hw(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const E=l.join("");ne(Ut,`Creating RPC '${e}' stream ${a}: ${E}`,g);const S=h.createWebChannel(E,g);let D=!1,U=!1;const Q=new ER({Fo:z=>{U?ne(Ut,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(D||(ne(Ut,`Opening RPC '${e}' stream ${a} transport.`),S.open(),D=!0),ne(Ut,`RPC '${e}' stream ${a} sending:`,z),S.send(z))},Mo:()=>S.close()}),Y=(z,ge,se)=>{z.listen(ge,oe=>{try{se(oe)}catch(me){setTimeout(()=>{throw me},0)}})};return Y(S,Ra.EventType.OPEN,()=>{U||(ne(Ut,`RPC '${e}' stream ${a} transport opened.`),Q.Qo())}),Y(S,Ra.EventType.CLOSE,()=>{U||(U=!0,ne(Ut,`RPC '${e}' stream ${a} transport closed`),Q.Ko())}),Y(S,Ra.EventType.ERROR,z=>{U||(U=!0,fo(Ut,`RPC '${e}' stream ${a} transport errored:`,z),Q.Ko(new de(K.UNAVAILABLE,"The operation could not be completed")))}),Y(S,Ra.EventType.MESSAGE,z=>{var ge;if(!U){const se=z.data[0];Oe(!!se);const oe=se,me=(oe==null?void 0:oe.error)||((ge=oe[0])===null||ge===void 0?void 0:ge.error);if(me){ne(Ut,`RPC '${e}' stream ${a} received error:`,me);const ke=me.status;let G=function(C){const V=ut[C];if(V!==void 0)return qw(V)}(ke),R=me.message;G===void 0&&(G=K.INTERNAL,R="Unknown error status: "+ke+" with message "+me.message),U=!0,Q.Ko(new de(G,R)),S.close()}else ne(Ut,`RPC '${e}' stream ${a} received:`,se),Q.Uo(se)}}),Y(m,cw.STAT_EVENT,z=>{z.stat===Qf.PROXY?ne(Ut,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Qf.NOPROXY&&ne(Ut,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Q.$o()},0),Q}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(r){return new Ck(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-s);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="PersistentStream";class sE{constructor(e,t,s,a,l,h,m,g){this.Ti=e,this.n_=s,this.r_=a,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new iE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===K.RESOURCE_EXHAUSTED?(br(t.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===t&&this.V_(s,a)},s=>{e(()=>{const a=new de(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ne(i_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ne(i_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IR extends sE{constructor(e,t,s,a,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=Pk(this.serializer,e),s=function(l){if(!("targetChange"in l))return ve.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?ve.min():h.readTime?ar(h.readTime):ve.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=rd(this.serializer),t.addTarget=function(l,h){let m;const g=h.target;if(m=Jf(g)?{documents:Dk(l,g)}:{query:Nk(l,g).ht},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Kw(l,h.resumeToken);const _=ed(l,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(ve.min())>0){m.readTime=Xl(l,h.snapshotVersion.toTimestamp());const _=ed(l,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=Lk(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=rd(this.serializer),t.removeTarget=e,this.I_(t)}}class SR extends sE{constructor(e,t,s,a,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,h),this.serializer=l}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=xk(e.writeResults,e.commitTime),s=ar(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=rd(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Vk(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class CR extends AR{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.bo(e,td(t,s),a,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(K.UNKNOWN,l.toString())})}Co(e,t,s,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Co(e,td(t,s),a,h,m,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(K.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(br(t),this.N_=!1):ne("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="RemoteStore";class RR{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{s.enqueueAndForget(async()=>{us(this)&&(ne(ns,"Restarting streams for network reachability change."),await async function(g){const _=we(g);_.W_.add(4),await ru(_),_.j_.set("Unknown"),_.W_.delete(4),await Cc(_)}(this))})}),this.j_=new kR(s,a)}}async function Cc(r){if(us(r))for(const e of r.G_)await e(!0)}async function ru(r){for(const e of r.G_)await e(!1)}function oE(r,e){const t=we(r);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ap(t)?op(t):Po(t).c_()&&sp(t,e))}function ip(r,e){const t=we(r),s=Po(t);t.U_.delete(e),s.c_()&&aE(t,e),t.U_.size===0&&(s.c_()?s.P_():us(t)&&t.j_.set("Unknown"))}function sp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Po(r).y_(e)}function aE(r,e){r.H_.Ne(e),Po(r).w_(e)}function op(r){r.H_=new Tk({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Po(r).start(),r.j_.B_()}function ap(r){return us(r)&&!Po(r).u_()&&r.U_.size>0}function us(r){return we(r).W_.size===0}function uE(r){r.H_=void 0}async function PR(r){r.j_.set("Online")}async function VR(r){r.U_.forEach((e,t)=>{sp(r,e)})}async function xR(r,e){uE(r),ap(r)?(r.j_.q_(e),op(r)):r.j_.set("Unknown")}async function DR(r,e,t){if(r.j_.set("Online"),e instanceof Ww&&e.state===2&&e.cause)try{await async function(a,l){const h=l.cause;for(const m of l.targetIds)a.U_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.U_.delete(m),a.H_.removeTarget(m))}(r,e)}catch(s){ne(ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jl(r,s)}else if(e instanceof Nl?r.H_.We(e):e instanceof Hw?r.H_.Ze(e):r.H_.je(e),!t.isEqual(ve.min()))try{const s=await rE(r.localStore);t.compareTo(s)>=0&&await function(l,h){const m=l.H_.ot(h);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const E=l.U_.get(_);E&&l.U_.set(_,E.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,_)=>{const E=l.U_.get(g);if(!E)return;l.U_.set(g,E.withResumeToken(xt.EMPTY_BYTE_STRING,E.snapshotVersion)),aE(l,g);const S=new ui(E.target,g,_,E.sequenceNumber);sp(l,S)}),l.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ne(ns,"Failed to raise snapshot:",s),await Jl(r,s)}}async function Jl(r,e,t){if(!Ro(e))throw e;r.W_.add(1),await ru(r),r.j_.set("Offline"),t||(t=()=>rE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ne(ns,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Cc(r)})}function lE(r,e){return e().catch(t=>Jl(r,t,e))}async function kc(r){const e=we(r),t=vi(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:qd;for(;NR(e);)try{const a=await pR(e.localStore,s);if(a===null){e.K_.length===0&&t.P_();break}s=a.batchId,bR(e,a)}catch(a){await Jl(e,a)}cE(e)&&hE(e)}function NR(r){return us(r)&&r.K_.length<10}function bR(r,e){r.K_.push(e);const t=vi(r);t.c_()&&t.b_&&t.S_(e.mutations)}function cE(r){return us(r)&&!vi(r).u_()&&r.K_.length>0}function hE(r){vi(r).start()}async function LR(r){vi(r).C_()}async function OR(r){const e=vi(r);for(const t of r.K_)e.S_(t.mutations)}async function MR(r,e,t){const s=r.K_.shift(),a=Yd.from(s,e,t);await lE(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await kc(r)}async function FR(r,e){e&&vi(r).b_&&await async function(s,a){if(function(h){return vk(h)&&h!==K.ABORTED}(a.code)){const l=s.K_.shift();vi(s).h_(),await lE(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await kc(s)}}(r,e),cE(r)&&hE(r)}async function s_(r,e){const t=we(r);t.asyncQueue.verifyOperationInProgress(),ne(ns,"RemoteStore received new credentials");const s=us(t);t.W_.add(3),await ru(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Cc(t)}async function UR(r,e){const t=we(r);e?(t.W_.delete(2),await Cc(t)):e||(t.W_.add(2),await ru(t),t.j_.set("Unknown"))}function Po(r){return r.J_||(r.J_=function(t,s,a){const l=we(t);return l.M_(),new IR(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{xo:PR.bind(null,r),No:VR.bind(null,r),Lo:xR.bind(null,r),p_:DR.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),ap(r)?op(r):r.j_.set("Unknown")):(await r.J_.stop(),uE(r))})),r.J_}function vi(r){return r.Y_||(r.Y_=function(t,s,a){const l=we(t);return l.M_(),new SR(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:LR.bind(null,r),Lo:FR.bind(null,r),D_:OR.bind(null,r),v_:MR.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await kc(r)):(await r.Y_.stop(),r.K_.length>0&&(ne(ns,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const h=Date.now()+s,m=new up(e,t,h,a,l);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(r,e){if(br("AsyncQueue",`${e}: ${r}`),Ro(r))return new de(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||pe.comparator(t.key,s.key):(t,s)=>pe.comparator(t.key,s.key),this.keyedMap=Pa(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(){this.Z_=new Ze(pe.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):_e():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class _o{constructor(e,t,s,a,l,h,m,g,_){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,t,s,a,l){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new _o(e,t,lo.emptySet(t),h,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class zR{constructor(){this.queries=a_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const a=we(t),l=a.queries;a.queries=a_(),l.forEach((h,m)=>{for(const g of m.ta)g.onError(s)})})(this,new de(K.ABORTED,"Firestore shutting down"))}}function a_(){return new os(r=>xw(r),wc)}async function $R(r,e){const t=we(r);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(s=2):(l=new jR,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(h){const m=lp(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&cp(t)}async function BR(r,e){const t=we(r),s=e.query;let a=3;const l=t.queries.get(s);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function qR(r,e){const t=we(r);let s=!1;for(const a of e){const l=a.query,h=t.queries.get(l);if(h){for(const m of h.ta)m.oa(a)&&(s=!0);h.ea=a}}s&&cp(t)}function HR(r,e,t){const s=we(r),a=s.queries.get(e);if(a)for(const l of a.ta)l.onError(t);s.queries.delete(e)}function cp(r){r.ia.forEach(e=>{e.next()})}var od,u_;(u_=od||(od={}))._a="default",u_.Cache="cache";class WR{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){this.key=e}}class dE{constructor(e){this.key=e}}class KR{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Se(),this.mutatedKeys=Se(),this.ya=Dw(e),this.wa=new lo(this.ya)}get ba(){return this.fa}Sa(e,t){const s=t?t.Da:new o_,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((E,S)=>{const D=a.get(E),U=Ec(this.query,S)?S:null,Q=!!D&&this.mutatedKeys.has(D.key),Y=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let z=!1;D&&U?D.data.isEqual(U.data)?Q!==Y&&(s.track({type:3,doc:U}),z=!0):this.va(D,U)||(s.track({type:2,doc:U}),z=!0,(g&&this.ya(U,g)>0||_&&this.ya(U,_)<0)&&(m=!0)):!D&&U?(s.track({type:0,doc:U}),z=!0):D&&!U&&(s.track({type:1,doc:D}),z=!0,(g||_)&&(m=!0)),z&&(U?(h=h.add(U),l=Y?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:m,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,S)=>function(U,Q){const Y=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return Y(U)-Y(Q)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),a=a!=null&&a;const m=t&&!a?this.Fa():[],g=this.pa.size===0&&this.current&&!a?1:0,_=g!==this.ga;return this.ga=g,h.length!==0||_?{snapshot:new _o(this.query,e.wa,l,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new o_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Se(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new dE(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new fE(s))}),t}Oa(e){this.fa=e.gs,this.pa=Se();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return _o.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hp="SyncEngine";class QR{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class GR{constructor(e){this.key=e,this.Ba=!1}}class XR{constructor(e,t,s,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new os(m=>xw(m),wc),this.qa=new Map,this.Qa=new Set,this.$a=new Ze(pe.comparator),this.Ka=new Map,this.Ua=new ep,this.Wa={},this.Ga=new Map,this.za=yo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function YR(r,e,t=!0){const s=vE(r);let a;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await pE(s,e,t,!0),a}async function JR(r,e){const t=vE(r);await pE(t,e,!0,!1)}async function pE(r,e,t,s){const a=await mR(r.localStore,or(e)),l=a.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let m;return s&&(m=await ZR(r,e,l,h==="current",a.resumeToken)),r.isPrimaryClient&&t&&oE(r.remoteStore,a),m}async function ZR(r,e,t,s,a){r.Ha=(S,D,U)=>async function(Y,z,ge,se){let oe=z.view.Sa(ge);oe.ls&&(oe=await e_(Y.localStore,z.query,!1).then(({documents:R})=>z.view.Sa(R,oe)));const me=se&&se.targetChanges.get(z.targetId),ke=se&&se.targetMismatches.get(z.targetId)!=null,G=z.view.applyChanges(oe,Y.isPrimaryClient,me,ke);return c_(Y,z.targetId,G.Ma),G.snapshot}(r,S,D,U);const l=await e_(r.localStore,e,!0),h=new KR(e,l.gs),m=h.Sa(l.documents),g=nu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",a),_=h.applyChanges(m,r.isPrimaryClient,g);c_(r,t,_.Ma);const E=new QR(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),_.snapshot}async function eP(r,e,t){const s=we(r),a=s.ka.get(e),l=s.qa.get(a.targetId);if(l.length>1)return s.qa.set(a.targetId,l.filter(h=>!wc(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await id(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&ip(s.remoteStore,a.targetId),ad(s,a.targetId)}).catch(ko)):(ad(s,a.targetId),await id(s.localStore,a.targetId,!0))}async function tP(r,e){const t=we(r),s=t.ka.get(e),a=t.qa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ip(t.remoteStore,s.targetId))}async function nP(r,e,t){const s=lP(r);try{const a=await function(h,m){const g=we(h),_=gt.now(),E=m.reduce((U,Q)=>U.add(Q.key),Se());let S,D;return g.persistence.runTransaction("Locally write mutations","readwrite",U=>{let Q=Lr(),Y=Se();return g.ds.getEntries(U,E).next(z=>{Q=z,Q.forEach((ge,se)=>{se.isValidDocument()||(Y=Y.add(ge))})}).next(()=>g.localDocuments.getOverlayedDocuments(U,Q)).next(z=>{S=z;const ge=[];for(const se of m){const oe=pk(se,S.get(se.key).overlayedDocument);oe!=null&&ge.push(new as(se.key,oe,Sw(oe.value.mapValue),Dr.exists(!0)))}return g.mutationQueue.addMutationBatch(U,_,ge,m)}).next(z=>{D=z;const ge=z.applyToLocalDocumentSet(S,Y);return g.documentOverlayCache.saveOverlays(U,z.batchId,ge)})}).then(()=>({batchId:D.batchId,changes:bw(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let _=h.Wa[h.currentUser.toKey()];_||(_=new Ze(Ce)),_=_.insert(m,g),h.Wa[h.currentUser.toKey()]=_}(s,a.batchId,t),await iu(s,a.changes),await kc(s.remoteStore)}catch(a){const l=lp(a,"Failed to persist write");t.reject(l)}}async function mE(r,e){const t=we(r);try{const s=await fR(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Ka.get(l);h&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Ba=!0:a.modifiedDocuments.size>0?Oe(h.Ba):a.removedDocuments.size>0&&(Oe(h.Ba),h.Ba=!1))}),await iu(t,s,e)}catch(s){await ko(s)}}function l_(r,e,t){const s=we(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.ka.forEach((l,h)=>{const m=h.view.sa(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=we(h);g.onlineState=m;let _=!1;g.queries.forEach((E,S)=>{for(const D of S.ta)D.sa(m)&&(_=!0)}),_&&cp(g)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function rP(r,e,t){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Ka.get(e),l=a&&a.key;if(l){let h=new Ze(pe.comparator);h=h.insert(l,zt.newNoDocument(l,ve.min()));const m=Se().add(l),g=new Sc(ve.min(),new Map,new Ze(Ce),h,m);await mE(s,g),s.$a=s.$a.remove(l),s.Ka.delete(e),fp(s)}else await id(s.localStore,e,!1).then(()=>ad(s,e,t)).catch(ko)}async function iP(r,e){const t=we(r),s=e.batch.batchId;try{const a=await hR(t.localStore,e);yE(t,s,null),gE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await iu(t,a)}catch(a){await ko(a)}}async function sP(r,e,t){const s=we(r);try{const a=await function(h,m){const g=we(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let E;return g.mutationQueue.lookupMutationBatch(_,m).next(S=>(Oe(S!==null),E=S.keys(),g.mutationQueue.removeMutationBatch(_,S))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,E)).next(()=>g.localDocuments.getDocuments(_,E))})}(s.localStore,e);yE(s,e,t),gE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await iu(s,a)}catch(a){await ko(a)}}function gE(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function yE(r,e,t){const s=we(r);let a=s.Wa[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function ad(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),t&&r.La.Ja(s,t);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||_E(r,s)})}function _E(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(ip(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ka.delete(t),fp(r))}function c_(r,e,t){for(const s of t)s instanceof fE?(r.Ua.addReference(s.key,e),oP(r,s)):s instanceof dE?(ne(hp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||_E(r,s.key)):_e()}function oP(r,e){const t=e.key,s=t.path.canonicalString();r.$a.get(t)||r.Qa.has(s)||(ne(hp,"New document in limbo: "+t),r.Qa.add(s),fp(r))}function fp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new pe(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new GR(t)),r.$a=r.$a.insert(t,s),oE(r.remoteStore,new ui(or(Gd(t.path)),s,"TargetPurposeLimboResolution",gc.ae))}}async function iu(r,e,t){const s=we(r),a=[],l=[],h=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{h.push(s.Ha(g,e,t).then(_=>{var E;if((_||t)&&s.isPrimaryClient){const S=_?!_.fromCache:(E=t==null?void 0:t.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,S?"current":"not-current")}if(_){a.push(_);const S=np.Yi(g.targetId,_);l.push(S)}}))}),await Promise.all(h),s.La.p_(a),await async function(g,_){const E=we(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>$.forEach(_,D=>$.forEach(D.Hi,U=>E.persistence.referenceDelegate.addReference(S,D.targetId,U)).next(()=>$.forEach(D.Ji,U=>E.persistence.referenceDelegate.removeReference(S,D.targetId,U)))))}catch(S){if(!Ro(S))throw S;ne(rp,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const U=E.Ts.get(D),Q=U.snapshotVersion,Y=U.withLastLimboFreeSnapshotVersion(Q);E.Ts=E.Ts.insert(D,Y)}}}(s.localStore,l))}async function aP(r,e){const t=we(r);if(!t.currentUser.isEqual(e)){ne(hp,"User change. New user:",e.toKey());const s=await nE(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(m=>{m.forEach(g=>{g.reject(new de(K.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await iu(t,s.Rs)}}function uP(r,e){const t=we(r),s=t.Ka.get(e);if(s&&s.Ba)return Se().add(s.key);{let a=Se();const l=t.qa.get(e);if(!l)return a;for(const h of l){const m=t.ka.get(h);a=a.unionWith(m.view.ba)}return a}}function vE(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rP.bind(null,e),e.La.p_=qR.bind(null,e.eventManager),e.La.Ja=HR.bind(null,e.eventManager),e}function lP(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sP.bind(null,e),e}class Zl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return cR(this.persistence,new aR,e.initialUser,this.serializer)}Xa(e){return new tE(tp.ri,this.serializer)}Za(e){return new yR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zl.provider={build:()=>new Zl};class cP extends Zl{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Oe(this.persistence.referenceDelegate instanceof Yl);const s=this.persistence.referenceDelegate.garbageCollector;return new Wk(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new tE(s=>Yl.ri(s,t),this.serializer)}}class ud{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>l_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aP.bind(null,this.syncEngine),await UR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zR}()}createDatastore(e){const t=Ac(e.databaseInfo.databaseId),s=function(l){return new TR(l)}(e.databaseInfo);return function(l,h,m,g){return new CR(l,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,h,m){return new RR(s,a,l,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>l_(this.syncEngine,t,0),function(){return r_.D()?new r_:new _R}())}createSyncEngine(e,t){return function(a,l,h,m,g,_,E){const S=new XR(a,l,h,m,g,_);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=we(a);ne(ns,"RemoteStore shutting down."),l.W_.add(5),await ru(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ud.provider={build:()=>new ud};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):br("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="FirestoreClient";class fP{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=jt.UNAUTHENTICATED,this.clientId=pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async h=>{ne(wi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ne(wi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=lp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ef(r,e){r.asyncQueue.verifyOperationInProgress(),ne(wi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async a=>{s.isEqual(a)||(await nE(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function h_(r,e){r.asyncQueue.verifyOperationInProgress();const t=await dP(r);ne(wi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>s_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,a)=>s_(e.remoteStore,a)),r._onlineComponents=e}async function dP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ne(wi,"Using user provided OfflineComponentProvider");try{await Ef(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),await Ef(r,new Zl)}}else ne(wi,"Using default OfflineComponentProvider"),await Ef(r,new cP(void 0));return r._offlineComponents}async function wE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ne(wi,"Using user provided OnlineComponentProvider"),await h_(r,r._uninitializedComponentsProvider._online)):(ne(wi,"Using default OnlineComponentProvider"),await h_(r,new ud))),r._onlineComponents}function pP(r){return wE(r).then(e=>e.syncEngine)}async function mP(r){const e=await wE(r),t=e.eventManager;return t.onListen=YR.bind(null,e.syncEngine),t.onUnlisten=eP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=JR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=tP.bind(null,e.syncEngine),t}function gP(r,e,t={}){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,m,g,_){const E=new hP({next:D=>{E.su(),h.enqueueAndForget(()=>BR(l,S));const U=D.docs.has(m);!U&&D.fromCache?_.reject(new de(K.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&D.fromCache&&g&&g.source==="server"?_.reject(new de(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new WR(Gd(m.path),E,{includeMetadataChanges:!0,Ta:!0});return $R(l,S)}(await mP(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(r,e,t){if(!t)throw new de(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _P(r,e,t,s){if(e===!0&&s===!0)throw new de(K.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function d_(r){if(!pe.isDocumentKey(r))throw new de(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e()}function Ga(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dp(r);throw new de(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="firestore.googleapis.com",p_=!0;class m_{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TE,this.ssl=p_}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:p_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qk)throw new de(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_P("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(K.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pp{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wC;switch(s.type){case"firstParty":return new SC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=f_.get(t);s&&(ne("ComponentProvider","Removing Datastore"),f_.delete(t),s.terminate())}(this),Promise.resolve()}}function vP(r,e,t,s={}){var a;const l=(r=Ga(r,pp))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${t}`;l.host!==TE&&l.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},l),{host:m,ssl:!1,emulatorOptions:s});if(!Ul(g,h)&&(r._setSettings(g),s.mockUserToken)){let _,E;if(typeof s.mockUserToken=="string")_=s.mockUserToken,E=jt.MOCK_USER;else{_=Z1(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new de(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new jt(S)}r._authCredentials=new EC(new dw(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mp(this.firestore,e,this._query)}}class An{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Xa extends mp{constructor(e,t,s){super(e,t,Gd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new pe(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function wP(r,e,...t){if(r=jl(r),arguments.length===1&&(e=pw.newId()),yP("doc","path",e),r instanceof pp){const s=tt.fromString(e,...t);return d_(s),new An(r,null,new pe(s))}{if(!(r instanceof An||r instanceof Xa))throw new de(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...t));return d_(s),new An(r.firestore,r instanceof Xa?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="AsyncQueue";class y_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new iE(this,"async_queue_retry"),this.bu=()=>{const s=wf();s&&ne(g_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const t=wf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=wf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new fi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ro(e))throw e;ne(g_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw br("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.Su=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=up.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&_e()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class gp extends pp{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new y_,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y_(e),this._firestoreClient=void 0,await e}}}function EP(r,e){const t=typeof r=="object"?r:lC(),s=typeof r=="string"?r:ql,a=iC(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=Y1("firestore");l&&vP(a,...l)}return a}function IE(r){if(r._terminated)throw new de(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||TP(r),r._firestoreClient}function TP(r){var e,t,s;const a=r._freezeSettings(),l=function(m,g,_,E){return new FC(m,g,_,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,EE(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new fP(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(xt.fromBase64String(e))}catch(t){throw new de(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vo(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=/^__.*__$/;class SP{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,t,this.fieldTransforms):new tu(e,this.data,t,this.fieldTransforms)}}function AE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}class wp{constructor(e,t,s,a,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Ku(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ec(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(AE(this.Lu)&&IP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class AP{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ac(e)}ju(e,t,s,a=!1){return new wp({Lu:e,methodName:t,zu:s,path:Vt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function CP(r){const e=r._freezeSettings(),t=Ac(r._databaseId);return new AP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function kP(r,e,t,s,a,l={}){const h=r.ju(l.merge||l.mergeFields?2:0,e,t,a);PE("Data must be an object, but it was:",h,s);const m=kE(s,h);let g,_;if(l.merge)g=new qn(h.fieldMask),_=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const S of l.mergeFields){const D=RP(e,S,t);if(!h.contains(D))throw new de(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);VP(E,D)||E.push(D)}g=new qn(E),_=h.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,_=h.fieldTransforms;return new SP(new Sn(m),g,_)}function CE(r,e){if(RE(r=jl(r)))return PE("Unsupported field value:",e,r),kE(r,e);if(r instanceof SE)return function(s,a){if(!AE(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const l=[];let h=0;for(const m of s){let g=CE(m,a.Uu(h));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),h++}return{arrayValue:{values:l}}}(r,e)}return function(s,a){if((s=jl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uk(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gt.fromDate(s);return{timestampValue:Xl(a.serializer,l)}}if(s instanceof gt){const l=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xl(a.serializer,l)}}if(s instanceof _p)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vo)return{bytesValue:Kw(a.serializer,s._byteString)};if(s instanceof An){const l=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw a.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Zd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vp)return function(h,m){return{mapValue:{fields:{[Tw]:{stringValue:Iw},[Hl]:{arrayValue:{values:h.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return Xd(m.serializer,_)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${dp(s)}`)}(r,e)}function kE(r,e){const t={};return gw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(r,(s,a)=>{const l=CE(a,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function RE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof gt||r instanceof _p||r instanceof vo||r instanceof An||r instanceof SE||r instanceof vp)}function PE(r,e,t){if(!RE(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=dp(t);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function RP(r,e,t){if((e=jl(e))instanceof yp)return e._internalPath;if(typeof e=="string")return VE(r,e);throw ec("Field path arguments must be of type string or ",r,!1,void 0,t)}const PP=new RegExp("[~\\*/\\[\\]]");function VE(r,e,t){if(e.search(PP)>=0)throw ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new yp(...e.split("."))._internalPath}catch{throw ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ec(r,e,t,s,a){const l=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||h)&&(g+=" (found",l&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new de(K.INVALID_ARGUMENT,m+r+g)}function VP(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(DE("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xP extends xE{data(){return super.data()}}function DE(r,e){return typeof e=="string"?VE(r,e):e instanceof yp?e._internalPath:e._delegate._internalPath}class DP{convertValue(e,t="none"){switch(_i(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ss(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[Hl].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>st(h.doubleValue));return new vp(l)}convertGeoPoint(e){return new _p(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=_c(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(qa(e));default:return null}}convertTimestamp(e){const t=gi(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Oe(Zw(s));const a=new Ha(s.get(1),s.get(3)),l=new pe(s.popFirst(5));return a.isEqual(t)||br(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class NE extends xE{constructor(e,t,s,a,l,h){super(e,t,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new LP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(DE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class LP extends NE{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(r){r=Ga(r,An);const e=Ga(r.firestore,gp);return gP(IE(e),r._key).then(t=>jP(e,r,t))}class MP extends DP{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,t)}}function FP(r,e,t){r=Ga(r,An);const s=Ga(r.firestore,gp),a=NP(r.converter,e);return UP(s,[kP(CP(s),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,Dr.none())])}function UP(r,e){return function(s,a){const l=new fi;return s.asyncQueue.enqueueAndForget(async()=>nP(await pP(s),a,l)),l.promise}(IE(r),e)}function jP(r,e,t){const s=t.docs.get(e._key),a=new MP(r);return new NE(r,a,e._key,s,new bP(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Co=a})(uC),$l(new za("firestore",(s,{instanceIdentifier:a,options:l})=>{const h=s.getProvider("app").getImmediate(),m=new gp(new TC(s.getProvider("auth-internal")),new AC(h,s.getProvider("app-check-internal")),function(_,E){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(_.options.projectId,E)}(h,a),h);return l=Object.assign({useFetchStreams:t},l),m._setSettings(l),m},"PUBLIC").setMultipleInstances(!0)),uo(Ay,Cy,e),uo(Ay,Cy,"esm2017")})();var zP="firebase",$P="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(zP,$P,"app");const BP={apiKey:"AIzaSyACol9LCc7_pl4dW7QRZfJYZv0asm9LCgs",authDomain:"test-db-6800e.firebaseapp.com",projectId:"test-db-6800e",storageBucket:"test-db-6800e.firebasestorage.app",messagingSenderId:"836798784511",appId:"1:836798784511:web:108bf0f82a5760cb4e7dca"},qP=iw(BP),HP=EP(qP);async function WP(r,e){try{const t=wP(HP,"users",r.toString()),s=await OP(t);s.exists()?console.log("User already exists:",s.data()):(await FP(t,e),console.log("New user added:",e))}catch(t){console.error("Error adding user:",t)}}function KP(){var t,s,a,l;const[r,e]=Tf.useState(!0);return Tf.useEffect(()=>{(async()=>{var m,g,_,E;try{const S=Cl(),D=(g=(m=S.tgWebAppData)==null?void 0:m.user)==null?void 0:g.id,U=(E=(_=S.tgWebAppData)==null?void 0:_.user)==null?void 0:E.username;if(D){const Q={username:U||"Unknown",createdAt:new Date().toISOString()};await WP(D,Q)}else console.warn("User data is not available.")}catch(S){console.error("Error initializing app:",S)}finally{e(!1)}})()},[]),r?Ji.jsx("div",{children:"Loading..."}):Ji.jsxs("div",{className:"App",children:[Ji.jsx("h1",{children:"Welcome to the App"}),Ji.jsxs("p",{children:["User ID: ",(s=(t=Cl().tgWebAppData)==null?void 0:t.user)==null?void 0:s.id]}),Ji.jsxs("p",{children:["Username: ",(l=(a=Cl().tgWebAppData)==null?void 0:a.user)==null?void 0:l.username]})]})}zT.StrictMode;
